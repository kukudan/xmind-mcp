!function(){return function e(t,r,o){function n(a,s){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[a]={exports:{}};t[a][0].call(d.exports,function(e){return n(t[a][1][e]||e)},d,d.exports,e,t,r,o)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}}()({1:[function(e,t,r){"use strict";var o=e("./compile"),n=e("./compile/resolve"),i=e("./cache"),a=e("./compile/schema_obj"),s=e("fast-json-stable-stringify"),c=e("./compile/formats"),l=e("./compile/rules"),d=e("./data"),u=e("./compile/util");t.exports=y,y.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var o=this._addSchema(e);r=o.validate||this._compile(o)}var n=r(t);!0!==r.$async&&(this.errors=r.errors);return n},y.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},y.prototype.addSchema=function(e,t,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,o);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return O(this,t=n.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,r,o,!0),this},y.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},y.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||(o=this,n=o._opts.meta,o._opts.defaultMeta="object"==typeof n?o._getId(n)||n:o.getSchema(m)?m:void 0,o._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var o,n;var i=this.validate(r,e);if(!i&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return i},y.prototype.getSchema=function(e){var t=v(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=n.schema.call(e,{schema:{}},t);if(r){var i=r.schema,s=r.root,c=r.baseId,l=o.call(e,i,s,void 0,c);return e._fragments[t]=new a({ref:t,fragment:!0,schema:i,root:s,baseId:c,validate:l}),l}}(this,e)}},y.prototype.removeSchema=function(e){if(e instanceof RegExp)return _(this,this._schemas,e),_(this,this._refs,e),this;switch(typeof e){case"undefined":return _(this,this._schemas),_(this,this._refs),this._cache.clear(),this;case"string":var t=v(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,o=r?r(e):e;this._cache.del(o);var i=this._getId(e);i&&(i=n.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},y.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},y.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,o=void 0===t.dataVar?"data":t.dataVar,n="",i=0;i<e.length;i++){var a=e[i];a&&(n+=o+a.dataPath+" "+a.message+r)}return n.slice(0,-r.length)},y.prototype._addSchema=function(e,t,r,o){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,s=i?i(e):e,c=this._cache.get(s);if(c)return c;o=o||!1!==this._opts.addUsedSchema;var l=n.normalizeId(this._getId(e));l&&o&&O(this,l);var d,u=!1!==this._opts.validateSchema&&!t;u&&!(d=l&&l==n.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=n.ids.call(this,e),p=new a({id:l,schema:e,localRefs:h,cacheKey:s,meta:r});"#"!=l[0]&&o&&(this._refs[l]=p);this._cache.put(s,p),u&&d&&this.validateSchema(e,!0);return p},y.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var r,n;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=o.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function i(){var t=e.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}},y.prototype.compileAsync=e("./compile/async");var h=e("./keyword");y.prototype.addKeyword=h.add,y.prototype.getKeyword=h.get,y.prototype.removeKeyword=h.remove,y.prototype.validateKeyword=h.validate;var p=e("./compile/error_classes");y.ValidationError=p.Validation,y.MissingRefError=p.MissingRef,y.$dataMetaSchema=d;var m="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function y(t){if(!(this instanceof y))return new y(t);t=this._opts=u.copy(t)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:S,warn:S,error:S};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(t.format),this._cache=t.cache||new i,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"auto":return b;case"id":return E;default:return T}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=s),this._metaOpts=function(e){for(var t=u.copy(e._opts),r=0;r<f.length;r++)delete t[f[r]];return t}(this),t.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),t.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(t){var r;t._opts.$data&&(r=e("./refs/data.json"),t.addMetaSchema(r,r.$id,!0));if(!1===t._opts.meta)return;var o=e("./refs/json-schema-draft-07.json");t._opts.$data&&(o=d(o,g));t.addMetaSchema(o,m,!0),t._refs["http://json-schema.org/schema"]=m}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function v(e,t){return t=n.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function _(e,t,r){for(var o in t){var n=t[o];n.meta||r&&!r.test(o)||(e._cache.del(n.cacheKey),delete t[o])}}function E(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function T(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function b(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function O(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function S(){}},{"./cache":2,"./compile":6,"./compile/async":3,"./compile/error_classes":4,"./compile/formats":5,"./compile/resolve":7,"./compile/rules":8,"./compile/schema_obj":9,"./compile/util":11,"./data":12,"./keyword":40,"./refs/data.json":41,"./refs/json-schema-draft-07.json":42,"fast-json-stable-stringify":47}],2:[function(e,t,r){"use strict";var o=t.exports=function(){this._cache={}};o.prototype.put=function(e,t){this._cache[e]=t},o.prototype.get=function(e){return this._cache[e]},o.prototype.del=function(e){delete this._cache[e]},o.prototype.clear=function(){this._cache={}}},{}],3:[function(e,t,r){"use strict";var o=e("./error_classes").MissingRef;t.exports=function e(t,r,n){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(n=r,r=void 0);var a=s(t).then(function(){var e=i._addSchema(t,void 0,r);return e.validate||function e(t){try{return i._compile(t)}catch(e){if(e instanceof o)return function n(e){var n=e.missingSchema;if(l(n))throw new Error("Schema "+n+" is loaded but "+e.missingRef+" cannot be resolved");var a=i._loadingSchemas[n];a||(a=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(c,c);return a.then(function(e){if(!l(n))return s(e).then(function(){l(n)||i.addSchema(e,n,void 0,r)})}).then(function(){return function e(t){try{return i._compile(t)}catch(e){if(e instanceof o)return n(e);throw e}function n(o){var n=o.missingSchema;if(l(n))throw new Error("Schema "+n+" is loaded but "+o.missingRef+" cannot be resolved");var a=i._loadingSchemas[n];return a||(a=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(c,c),a.then(function(e){if(!l(n))return s(e).then(function(){l(n)||i.addSchema(e,n,void 0,r)})}).then(function(){return e(t)});function c(){delete i._loadingSchemas[n]}function l(e){return i._refs[e]||i._schemas[e]}}}(t)});function c(){delete i._loadingSchemas[n]}function l(e){return i._refs[e]||i._schemas[e]}}(e);throw e}function n(o){var n=o.missingSchema;if(l(n))throw new Error("Schema "+n+" is loaded but "+o.missingRef+" cannot be resolved");var a=i._loadingSchemas[n];return a||(a=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(c,c),a.then(function(e){if(!l(n))return s(e).then(function(){l(n)||i.addSchema(e,n,void 0,r)})}).then(function(){return e(t)});function c(){delete i._loadingSchemas[n]}function l(e){return i._refs[e]||i._schemas[e]}}}(e)});n&&a.then(function(e){n(null,e)},n);return a;function s(t){var r=t.$schema;return r&&!i.getSchema(r)?e.call(i,{$ref:r},!0):Promise.resolve()}}},{"./error_classes":4}],4:[function(e,t,r){"use strict";var o=e("./resolve");function n(e,t,r){this.message=r||n.message(e,t),this.missingRef=o.url(e,t),this.missingSchema=o.normalizeId(o.fullPath(this.missingRef))}function i(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}t.exports={Validation:i(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:i(n)},n.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},{"./resolve":7}],5:[function(e,t,r){"use strict";var o=e("./util"),n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,d=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,u=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function f(e){return e="full"==e?"full":"fast",o.copy(f[e])}function g(e){var t=e.match(n);if(!t)return!1;var r=+t[1],o=+t[2],a=+t[3];return o>=1&&o<=12&&a>=1&&a<=(2==o&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:i[o])}function y(e,t){var r=e.match(a);if(!r)return!1;var o=r[1],n=r[2],i=r[3],s=r[5];return(o<=23&&n<=59&&i<=59||23==o&&59==n&&60==i)&&(!t||s)}t.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:d,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:T,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m},f.full={date:g,time:y,"date-time":function(e){var t=e.split(v);return 2==t.length&&g(t[0])&&y(t[1],!0)},uri:function(e){return _.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:d,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:T,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m};var v=/t|\s/i;var _=/\/|:/;var E=/[^\\]\\Z/;function T(e){if(E.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},{"./util":11}],6:[function(e,t,r){"use strict";var o=e("./resolve"),n=e("./util"),i=e("./error_classes"),a=e("fast-json-stable-stringify"),s=e("../dotjs/validate"),c=n.ucs2length,l=e("fast-deep-equal"),d=i.Validation;function u(e,t,r){for(var o=0;o<this._compilations.length;o++){var n=this._compilations[o];if(n.schema==e&&n.root==t&&n.baseId==r)return o}return-1}function h(e,t){return"var pattern"+e+" = new RegExp("+n.toQuotedString(t[e])+");"}function p(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function f(e){return"var customRule"+e+" = customRules["+e+"];"}function g(e,t){if(!e.length)return"";for(var r="",o=0;o<e.length;o++)r+=t(o,e);return r}t.exports=function e(t,r,y,v){var _=this,E=this._opts,T=[void 0],b={},O=[],S={},P=[],A={},I=[];r=r||{schema:t,refVal:T,refs:b};var N=function(e,t,r){var o=u.call(this,e,t,r);return o>=0?{index:o,compiling:!0}:(o=this._compilations.length,this._compilations[o]={schema:e,root:t,baseId:r},{index:o,compiling:!1})}.call(this,t,r,v);var C=this._compilations[N.index];if(N.compiling)return C.callValidate=function e(){var t=C.validate;var r=t.apply(this,arguments);e.errors=t.errors;return r};var w=this._formats;var x=this.RULES;try{var R=D(t,r,y,v);C.validate=R;var L=C.callValidate;return L&&(L.schema=R.schema,L.errors=null,L.refs=R.refs,L.refVal=R.refVal,L.root=R.root,L.$async=R.$async,E.sourceCode&&(L.source=R.source)),R}finally{(function(e,t,r){var o=u.call(this,e,t,r);o>=0&&this._compilations.splice(o,1)}).call(this,t,r,v)}function D(t,a,u,y){var v=!a||a&&a.schema==t;if(a.schema!=r.schema)return e.call(_,t,a,u,y);var S,A=!0===t.$async,N=s({isTop:!0,schema:t,isRoot:v,baseId:y,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:i.MissingRef,RULES:x,validate:s,util:n,resolve:o,resolveRef:F,usePattern:j,useDefault:U,useCustomRule:H,opts:E,formats:w,logger:_.logger,self:_});N=g(T,m)+g(O,h)+g(P,p)+g(I,f)+N,E.processCode&&(N=E.processCode(N,t));try{var C=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",N);S=C(_,x,w,r,T,P,I,l,c,d),T[0]=S}catch(e){throw _.logger.error("Error compiling schema, function code:",N),e}return S.schema=t,S.errors=null,S.refs=b,S.refVal=T,S.root=v?S:a,A&&(S.$async=!0),!0===E.sourceCode&&(S.source={code:N,patterns:O,defaults:P}),S}function F(t,n,i){n=o.url(t,n);var a,s,c=b[n];if(void 0!==c)return M(a=T[c],s="refVal["+c+"]");if(!i&&r.refs){var l=r.refs[n];if(void 0!==l)return a=r.refVal[l],s=k(n,a),M(a,s)}s=k(n);var d=o.call(_,D,r,n);if(void 0===d){var u=y&&y[n];u&&(d=o.inlineRef(u,E.inlineRefs)?u:e.call(_,u,r,y,t))}if(void 0!==d)return function(e,t){var r=b[e];T[r]=t}(n,d),M(d,s);!function(e){delete b[e]}(n)}function k(e,t){var r=T.length;return T[r]=t,b[e]=r,"refVal"+r}function M(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function j(e){var t=S[e];return void 0===t&&(t=S[e]=O.length,O[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return n.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),r=A[t];return void 0===r&&(r=A[t]=P.length,P[r]=e),"default"+r}}function H(e,t,r,o){if(!1!==_._opts.validateSchema){var n=e.definition.dependencies;if(n&&!n.every(function(e){return Object.prototype.hasOwnProperty.call(r,e)}))throw new Error("parent schema must have all required keywords: "+n.join(","));var i=e.definition.validateSchema;if(i){var a=i(t);if(!a){var s="keyword schema is invalid: "+_.errorsText(i.errors);if("log"!=_._opts.validateSchema)throw new Error(s);_.logger.error(s)}}}var c,l=e.definition.compile,d=e.definition.inline,u=e.definition.macro;if(l)c=l.call(_,t,r,o);else if(u)c=u.call(_,t,r,o),!1!==E.validateSchema&&_.validateSchema(c,!0);else if(d)c=d.call(_,o,e.keyword,t,r);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=I.length;return I[h]=c,{code:"customRule"+h,validate:c}}}},{"../dotjs/validate":39,"./error_classes":4,"./resolve":7,"./util":11,"fast-deep-equal":46,"fast-json-stable-stringify":47}],7:[function(e,t,r){"use strict";var o=e("uri-js"),n=e("fast-deep-equal"),i=e("./util"),a=e("./schema_obj"),s=e("json-schema-traverse");function c(e,t,r){var o=this._refs[r];if("string"==typeof o){if(!this._refs[o])return c.call(this,e,t,o);o=this._refs[o]}if((o=o||this._schemas[r])instanceof a)return p(o.schema,this._opts.inlineRefs)?o.schema:o.validate||this._compile(o);var n,i,s,d=l.call(this,t,r);return d&&(n=d.schema,t=d.root,s=d.baseId),n instanceof a?i=n.validate||e.call(this,n.schema,t,void 0,s):void 0!==n&&(i=p(n,this._opts.inlineRefs)?n:e.call(this,n,t,void 0,s)),i}function l(e,t){var r=o.parse(t),n=f(r),i=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==i){var s=y(n),c=this._refs[s];if("string"==typeof c)return function(e,t,r){var o=l.call(this,e,t);if(o){var n=o.schema,i=o.baseId;e=o.root;var a=this._getId(n);return a&&(i=v(i,a)),u.call(this,r,i,n,e)}}.call(this,e,c,r);if(c instanceof a)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[s])instanceof a))return;if(c.validate||this._compile(c),s==y(t))return{schema:c,root:e,baseId:i};e=c}if(!e.schema)return;i=m(this._getId(e.schema))}return u.call(this,r,i,e.schema,e)}t.exports=c,c.normalizeId=y,c.fullPath=m,c.url=v,c.ids=function(e){var t=y(this._getId(e)),r={"":t},a={"":m(t,!1)},c={},l=this;return s(e,{allKeys:!0},function(e,t,s,d,u,h,p){if(""!==t){var m=l._getId(e),f=r[d],g=a[d]+"/"+u;if(void 0!==p&&(g+="/"+("number"==typeof p?p:i.escapeFragment(p))),"string"==typeof m){m=f=y(f?o.resolve(f,m):m);var v=l._refs[m];if("string"==typeof v&&(v=l._refs[v]),v&&v.schema){if(!n(e,v.schema))throw new Error('id "'+m+'" resolves to more than one schema')}else if(m!=y(g))if("#"==m[0]){if(c[m]&&!n(e,c[m]))throw new Error('id "'+m+'" resolves to more than one schema');c[m]=e}else l._refs[m]=g}r[t]=f,a[t]=g}}),c},c.inlineRef=p,c.schema=l;var d=i.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function u(e,t,r,o){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var n=e.fragment.split("/"),a=1;a<n.length;a++){var s=n[a];if(s){if(void 0===(r=r[s=i.unescapeFragment(s)]))break;var c;if(!d[s]&&((c=this._getId(r))&&(t=v(t,c)),r.$ref)){var u=v(t,r.$ref),h=l.call(this,o,u);h&&(r=h.schema,o=h.root,t=h.baseId)}}}return void 0!==r&&r!==o.schema?{schema:r,root:o,baseId:t}:void 0}}var h=i.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var o=0;o<t.length;o++)if("object"==typeof(r=t[o])&&!e(r))return!1}else for(var n in t){if("$ref"==n)return!1;if("object"==typeof(r=t[n])&&!e(r))return!1}return!0}(e):t?function e(t){var r,o=0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(r=t[n])&&(o+=e(r)),o==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(h[i])o++;else if("object"==typeof(r=t[i])&&(o+=e(r)+1),o==1/0)return 1/0}return o}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),f(o.parse(e))}function f(e){return o.serialize(e).split("#")[0]+"#"}var g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function v(e,t){return t=y(t),o.resolve(e,t)}},{"./schema_obj":9,"./util":11,"fast-deep-equal":46,"json-schema-traverse":49,"uri-js":54}],8:[function(e,t,r){"use strict";var o=e("../dotjs"),n=e("./util").toHash;t.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=n(t),e.types=n(["number","integer","string","array","object","boolean","null"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var n;if("object"==typeof r){var i=Object.keys(r)[0];n=r[i],r=i,n.forEach(function(r){t.push(r),e.all[r]=!0})}return t.push(r),e.all[r]={keyword:r,code:o[r],implements:n}}),e.all.$comment={keyword:"$comment",code:o.$comment},r.type&&(e.types[r.type]=r)}),e.keywords=n(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},{"../dotjs":28,"./util":11}],9:[function(e,t,r){"use strict";var o=e("./util");t.exports=function(e){o.copy(e,this)}},{"./util":11}],10:[function(e,t,r){"use strict";t.exports=function(e){for(var t,r=0,o=e.length,n=0;n<o;)r++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o&&56320==(64512&(t=e.charCodeAt(n)))&&n++;return r}},{}],11:[function(e,t,r){"use strict";function o(e,t,r,o){var n=o?" !== ":" === ",i=o?" || ":" && ",a=o?"!":"",s=o?"":"!";switch(e){case"null":return t+n+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+n+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+i+s+"("+t+" % 1)"+i+t+n+t+(r?i+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+n+'"'+e+'"'+(r?i+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+n+'"'+e+'"'}}t.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:o,checkDataTypes:function(e,t,r){switch(e.length){case 1:return o(e[0],t,r,!0);default:var n="",a=i(e);for(var s in a.array&&a.object&&(n=a.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)n+=(n?" && ":"")+o(s,t,r,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],o=0;o<t.length;o++){var i=t[o];n[i]?r[r.length]=i:"array"===e&&"array"===i&&(r[r.length]=i)}if(r.length)return r}else{if(n[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:i,getProperty:c,escapeQuotes:l,equal:e("fast-deep-equal"),ucs2length:e("./ucs2length"),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var o in e)if(o!=r&&t[o])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:d,getPathExpr:function(e,t,r,o){return p(e,r?"'/' + "+t+(o?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):o?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var o=d(r?"/"+m(t):c(t));return p(e,o)},getData:function(e,t,r){var o,n,i,a;if(""===e)return"rootData";if("/"==e[0]){if(!u.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,i="rootData"}else{if(!(a=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(o=+a[1],"#"==(n=a[2])){if(o>=t)throw new Error("Cannot access property/index "+o+" levels up, current level is "+t);return r[t-o]}if(o>t)throw new Error("Cannot access data "+o+" levels up, current level is "+t);if(i="data"+(t-o||""),!n)return i}for(var s=i,l=n.split("/"),d=0;d<l.length;d++){var p=l[d];p&&(i+=c(f(p)),s+=" && "+i)}return s},unescapeFragment:function(e){return f(decodeURIComponent(e))},unescapeJsonPointer:f,escapeFragment:function(e){return encodeURIComponent(m(e))},escapeJsonPointer:m};var n=i(["string","number","integer","boolean","null"]);function i(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function d(e){return"'"+l(e)+"'"}var u=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function m(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},{"./ucs2length":10,"fast-deep-equal":46}],12:[function(e,t,r){"use strict";var o=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n,i=t[r].split("/"),a=e;for(n=1;n<i.length;n++)a=a[i[n]];for(n=0;n<o.length;n++){var s=o[n],c=a[s];c&&(a[s]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},{}],13:[function(e,t,r){"use strict";var o=e("./refs/json-schema-draft-07.json");t.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:o.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:o.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},{"./refs/json-schema-draft-07.json":42}],14:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s;var p="maximum"==t,m=p?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[m],g=e.opts.$data&&f&&f.$data,y=p?"<":">",v=p?">":"<",_=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!g&&void 0!==f&&"number"!=typeof f&&"boolean"!=typeof f)throw new Error(m+" must be number or boolean");if(g){var E=e.util.getData(f.$data,a,e.dataPathArr),T="exclusive"+i,b="exclType"+i,O="exclIsNumber"+i,S="' + "+(I="op"+i)+" + '";n+=" var schemaExcl"+i+" = "+E+"; ",n+=" var "+T+"; var "+b+" = typeof "+(E="schemaExcl"+i)+"; if ("+b+" != 'boolean' && "+b+" != 'undefined' && "+b+" != 'number') { ";var P;_=m;(P=P||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var A=n;n=P.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),n+=" "+b+" == 'number' ? ( ("+T+" = "+o+" === undefined || "+E+" "+y+"= "+o+") ? "+u+" "+v+"= "+E+" : "+u+" "+v+" "+o+" ) : ( ("+T+" = "+E+" === true) ? "+u+" "+v+"= "+o+" : "+u+" "+v+" "+o+" ) || "+u+" !== "+u+") { var op"+i+" = "+T+" ? '"+y+"' : '"+y+"='; ",void 0===s&&(_=m,l=e.errSchemaPath+"/"+m,o=E,h=g)}else{S=y;if((O="number"==typeof f)&&h){var I="'"+S+"'";n+=" if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),n+=" ( "+o+" === undefined || "+f+" "+y+"= "+o+" ? "+u+" "+v+"= "+f+" : "+u+" "+v+" "+o+" ) || "+u+" !== "+u+") { "}else{O&&void 0===s?(T=!0,_=m,l=e.errSchemaPath+"/"+m,o=f,v+="="):(O&&(o=Math[p?"min":"max"](f,s)),f===(!O||o)?(T=!0,_=m,l=e.errSchemaPath+"/"+m,v+="="):(T=!1,S+="="));I="'"+S+"'";n+=" if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),n+=" "+u+" "+v+" "+o+" || "+u+" !== "+u+") { "}}_=_||t,(P=P||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+I+", limit: "+o+", exclusive: "+T+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be "+S+" ",n+=h?"' + "+o:o+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+c:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";A=n;return n=P.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d&&(n+=" else { "),n}},{}],15:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),n+=" "+u+".length "+("maxItems"==t?">":"<")+" "+o+") { ";var p=t,m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxItems"==t?"more":"fewer",n+=" than ",n+=h?"' + "+o+" + '":""+s,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+c:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var f=n;return n=m.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n}},{}],16:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";n+="if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),!1===e.opts.unicode?n+=" "+u+".length ":n+=" ucs2length("+u+") ",n+=" "+p+" "+o+") { ";var m=t,f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be ",n+="maxLength"==t?"longer":"shorter",n+=" than ",n+=h?"' + "+o+" + '":""+s,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+c:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var g=n;return n=f.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n}},{}],17:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),n+=" Object.keys("+u+").length "+("maxProperties"==t?">":"<")+" "+o+") { ";var p=t,m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxProperties"==t?"more":"fewer",n+=" than ",n+=h?"' + "+o+" + '":""+s,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+c:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var f=n;return n=m.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n}},{}],18:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.schema[t],i=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var d="valid"+c.level,u=c.baseId,h=!0,p=n;if(p)for(var m,f=-1,g=p.length-1;f<g;)m=p[f+=1],(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all))&&(h=!1,c.schema=m,c.schemaPath=i+"["+f+"]",c.errSchemaPath=a+"/"+f,o+="  "+e.validate(c)+" ",c.baseId=u,s&&(o+=" if ("+d+") { ",l+="}"));return s&&(o+=h?" if (true) { ":" "+l.slice(0,-1)+" "),o}},{}],19:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h="errs__"+n,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level;if(a.every(function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)})){var g=p.baseId;o+=" var "+h+" = errors; var "+u+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=a;if(v)for(var _,E=-1,T=v.length-1;E<T;)_=v[E+=1],p.schema=_,p.schemaPath=s+"["+E+"]",p.errSchemaPath=c+"/"+E,o+="  "+e.validate(p)+" ",p.baseId=g,o+=" "+u+" = "+u+" || "+f+"; if (!"+u+") { ",m+="}";e.compositeRule=p.compositeRule=y,o+=" "+m+" if (!"+u+") {   var err =   ",!1!==e.createErrors?(o+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; "),o+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(o+=" } ")}else l&&(o+=" if (true) { ");return o}},{}],20:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.schema[t],i=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(n));return!0===e.opts.$comment?o+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(o+=" self._opts.$comment("+a+", "+e.util.toQuotedString(i)+", validate.root.schema);"),o}},{}],21:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h=e.opts.$data&&a&&a.$data;h&&(o+=" var schema"+n+" = "+e.util.getData(a.$data,i,e.dataPathArr)+"; "),h||(o+=" var schema"+n+" = validate.schema"+s+";"),o+="var "+u+" = equal("+d+", schema"+n+"); if (!"+u+") {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+n+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be equal to constant' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;return o=p.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" }",l&&(o+=" else { "),o}},{}],22:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h="errs__"+n,p=e.util.copy(e);p.level++;var m="valid"+p.level,f="i"+n,g=p.dataLevel=e.dataLevel+1,y="data"+g,v=e.baseId,_=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all);if(o+="var "+h+" = errors;var "+u+";",_){var E=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=a,p.schemaPath=s,p.errSchemaPath=c,o+=" var "+m+" = false; for (var "+f+" = 0; "+f+" < "+d+".length; "+f+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var T=d+"["+f+"]";p.dataPathArr[g]=f;var b=e.validate(p);p.baseId=v,e.util.varOccurences(b,y)<2?o+=" "+e.util.varReplace(b,y,T)+" ":o+=" var "+y+" = "+T+"; "+b+" ",o+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=E,o+="  if (!"+m+") {"}else o+=" if ("+d+".length == 0) {";var O=O||[];O.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'should contain a valid item' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var S=o;return o=O.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+S+"]); ":o+=" validate.errors = ["+S+"]; return false; ":o+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else { ",_&&(o+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(o+=" } "),o}},{}],23:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n,i=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(s||""),p="valid"+a,m="errs__"+a,f=e.opts.$data&&c&&c.$data;f?(i+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",n="schema"+a):n=c;var g,y,v,_,E,T="definition"+a,b=this.definition,O="";if(f&&b.$data){E="keywordValidate"+a;var S=b.validateSchema;i+=" var "+T+" = RULES.custom['"+t+"'].definition; var "+E+" = "+T+".validate;"}else{if(!(_=e.useCustomRule(this,c,e.schema,e)))return;n="validate.schema"+l,E=_.code,g=b.compile,y=b.inline,v=b.macro}var P=E+".errors",A="i"+a,I="ruleErr"+a,N=b.async;if(N&&!e.async)throw new Error("async keyword in sync schema");if(y||v||(i+=P+" = null;"),i+="var "+m+" = errors;var "+p+";",f&&b.$data&&(O+="}",i+=" if ("+n+" === undefined) { "+p+" = true; } else { ",S&&(O+="}",i+=" "+p+" = "+T+".validateSchema("+n+"); if ("+p+") { ")),y)b.statements?i+=" "+_.validate+" ":i+=" "+p+" = "+_.validate+"; ";else if(v){var C=e.util.copy(e);O="";C.level++;var w="valid"+C.level;C.schema=_.validate,C.schemaPath="";var x=e.compositeRule;e.compositeRule=C.compositeRule=!0;var R=e.validate(C).replace(/validate\.schema/g,E);e.compositeRule=C.compositeRule=x,i+=" "+R}else{(k=k||[]).push(i),i="",i+="  "+E+".call( ",e.opts.passContext?i+="this":i+="self",g||!1===b.schema?i+=" , "+h+" ":i+=" , "+n+" , "+h+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var L=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",F=i+=" , "+L+" , "+D+" , rootData )  ";i=k.pop(),!1===b.errors?(i+=" "+p+" = ",N&&(i+="await "),i+=F+"; "):i+=N?" var "+(P="customErrors"+a)+" = null; try { "+p+" = await "+F+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } ":" "+P+" = null; "+p+" = "+F+"; "}if(b.modifying&&(i+=" if ("+L+") "+h+" = "+L+"["+D+"];"),i+=""+O,b.valid)u&&(i+=" if (true) { ");else{var k;i+=" if ( ",void 0===b.valid?(i+=" !",i+=v?""+w:""+p):i+=" "+!b.valid+" ",i+=") { ",o=this.keyword,(k=k||[]).push(i),i="",(k=k||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(o||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var M=i;i=k.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+M+"]); ":i+=" validate.errors = ["+M+"]; return false; ":i+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=i;i=k.pop(),y?b.errors?"full"!=b.errors&&(i+="  for (var "+A+"="+m+"; "+A+"<errors; "+A+"++) { var "+I+" = vErrors["+A+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(i+=" "+I+".schema = "+n+"; "+I+".data = "+h+"; "),i+=" } "):!1===b.errors?i+=" "+j+" ":(i+=" if ("+m+" == errors) { "+j+" } else {  for (var "+A+"="+m+"; "+A+"<errors; "+A+"++) { var "+I+" = vErrors["+A+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(i+=" "+I+".schema = "+n+"; "+I+".data = "+h+"; "),i+=" } } "):v?(i+="   var err =   ",!1!==e.createErrors?(i+=" { keyword: '"+(o||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; ")):!1===b.errors?i+=" "+j+" ":(i+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+A+"="+m+"; "+A+"<errors; "+A+"++) { var "+I+" = vErrors["+A+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+e.errorPath+";  "+I+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(i+=" "+I+".schema = "+n+"; "+I+".data = "+h+"; "),i+=" } } else { "+j+" } "),i+=" } ",u&&(i+=" else { ")}return i}},{}],24:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="errs__"+n,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f={},g={},y=e.opts.ownProperties;for(T in a)if("__proto__"!=T){var v=a[T],_=Array.isArray(v)?g:f;_[T]=v}o+="var "+u+" = errors;";var E=e.errorPath;for(var T in o+="var missing"+n+";",g)if((_=g[T]).length){if(o+=" if ( "+d+e.util.getProperty(T)+" !== undefined ",y&&(o+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(T)+"') "),l){o+=" && ( ";var b=_;if(b)for(var O=-1,S=b.length-1;O<S;){w=b[O+=1],O&&(o+=" || "),o+=" ( ( "+(D=d+(L=e.util.getProperty(w)))+" === undefined ",y&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),o+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:L)+") ) "}o+=")) {  ";var P="missing"+n,A="' + "+P+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,P,!0):E+" + "+P);var I=I||[];I.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(T)+"', missingProperty: '"+A+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should have ",1==_.length?o+="property "+e.util.escapeQuotes(_[0]):o+="properties "+e.util.escapeQuotes(_.join(", ")),o+=" when property "+e.util.escapeQuotes(T)+" is present' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var N=o;o=I.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+N+"]); ":o+=" validate.errors = ["+N+"]; return false; ":o+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{o+=" ) { ";var C=_;if(C)for(var w,x=-1,R=C.length-1;x<R;){w=C[x+=1];var L=e.util.getProperty(w),D=(A=e.util.escapeQuotes(w),d+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,w,e.opts.jsonPointers)),o+=" if ( "+D+" === undefined ",y&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),o+=") {  var err =   ",!1!==e.createErrors?(o+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(T)+"', missingProperty: '"+A+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should have ",1==_.length?o+="property "+e.util.escapeQuotes(_[0]):o+="properties "+e.util.escapeQuotes(_.join(", ")),o+=" when property "+e.util.escapeQuotes(T)+" is present' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}o+=" }   ",l&&(p+="}",o+=" else { ")}e.errorPath=E;var F=h.baseId;for(var T in f){v=f[T];(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all))&&(o+=" "+m+" = true; if ( "+d+e.util.getProperty(T)+" !== undefined ",y&&(o+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(T)+"') "),o+=") { ",h.schema=v,h.schemaPath=s+e.util.getProperty(T),h.errSchemaPath=c+"/"+e.util.escapeFragment(T),o+="  "+e.validate(h)+" ",h.baseId=F,o+=" }  ",l&&(o+=" if ("+m+") { ",p+="}"))}return l&&(o+="   "+p+" if ("+u+" == errors) {"),o}},{}],25:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h=e.opts.$data&&a&&a.$data;h&&(o+=" var schema"+n+" = "+e.util.getData(a.$data,i,e.dataPathArr)+"; ");var p="i"+n,m="schema"+n;h||(o+=" var "+m+" = validate.schema"+s+";"),o+="var "+u+";",h&&(o+=" if (schema"+n+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+n+")) "+u+" = false; else {"),o+=u+" = false;for (var "+p+"=0; "+p+"<"+m+".length; "+p+"++) if (equal("+d+", "+m+"["+p+"])) { "+u+" = true; break; }",h&&(o+="  }  "),o+=" if (!"+u+") {   ";var f=f||[];f.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+n+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var g=o;return o=f.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" }",l&&(o+=" else { "),o}},{}],26:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||"");if(!1===e.opts.format)return l&&(o+=" if (true) { "),o;var u,h=e.opts.$data&&a&&a.$data;h?(o+=" var schema"+n+" = "+e.util.getData(a.$data,i,e.dataPathArr)+"; ",u="schema"+n):u=a;var p=e.opts.unknownFormats,m=Array.isArray(p);if(h){o+=" var "+(f="format"+n)+" = formats["+u+"]; var "+(g="isObject"+n)+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+(y="formatType"+n)+" = "+g+" && "+f+".type || 'string'; if ("+g+") { ",e.async&&(o+=" var async"+n+" = "+f+".async; "),o+=" "+f+" = "+f+".validate; } if (  ",h&&(o+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),o+=" (","ignore"!=p&&(o+=" ("+u+" && !"+f+" ",m&&(o+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),o+=") || "),o+=" ("+f+" && "+y+" == '"+r+"' && !(typeof "+f+" == 'function' ? ",e.async?o+=" (async"+n+" ? await "+f+"("+d+") : "+f+"("+d+")) ":o+=" "+f+"("+d+") ",o+=" : "+f+".test("+d+"))))) {"}else{var f;if(!(f=e.formats[a])){if("ignore"==p)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(o+=" if (true) { "),o;if(m&&p.indexOf(a)>=0)return l&&(o+=" if (true) { "),o;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,y=(g="object"==typeof f&&!(f instanceof RegExp)&&f.validate)&&f.type||"string";if(g){var v=!0===f.async;f=f.validate}if(y!=r)return l&&(o+=" if (true) { "),o;if(v){if(!e.async)throw new Error("async format in sync schema");o+=" if (!(await "+(_="formats"+e.util.getProperty(a)+".validate")+"("+d+"))) { "}else{o+=" if (! ";var _="formats"+e.util.getProperty(a);g&&(_+=".validate"),o+="function"==typeof f?" "+_+"("+d+") ":" "+_+".test("+d+") ",o+=") { "}}var E=E||[];E.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",o+=h?""+u:""+e.util.toQuotedString(a),o+="  } ",!1!==e.opts.messages&&(o+=" , message: 'should match format \"",o+=h?"' + "+u+" + '":""+e.util.escapeQuotes(a),o+="\"' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+s:""+e.util.toQuotedString(a),o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var T=o;return o=E.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+T+"]); ":o+=" validate.errors = ["+T+"]; return false; ":o+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",l&&(o+=" else { "),o}},{}],27:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h="errs__"+n,p=e.util.copy(e);p.level++;var m="valid"+p.level,f=e.schema.then,g=e.schema.else,y=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0:e.util.schemaHasRules(f,e.RULES.all)),v=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all)),_=p.baseId;if(y||v){var E;p.createErrors=!1,p.schema=a,p.schemaPath=s,p.errSchemaPath=c,o+=" var "+h+" = errors; var "+u+" = true;  ";var T=e.compositeRule;e.compositeRule=p.compositeRule=!0,o+="  "+e.validate(p)+" ",p.baseId=_,p.createErrors=!0,o+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=T,y?(o+=" if ("+m+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",o+="  "+e.validate(p)+" ",p.baseId=_,o+=" "+u+" = "+m+"; ",y&&v?o+=" var "+(E="ifClause"+n)+" = 'then'; ":E="'then'",o+=" } ",v&&(o+=" else { ")):o+=" if (!"+m+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",o+="  "+e.validate(p)+" ",p.baseId=_,o+=" "+u+" = "+m+"; ",y&&v?o+=" var "+(E="ifClause"+n)+" = 'else'; ":E="'else'",o+=" } "),o+=" if (!"+u+") {   var err =   ",!1!==e.createErrors?(o+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+E+" } ",!1!==e.opts.messages&&(o+=" , message: 'should match \"' + "+E+" + '\" schema' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; "),o+=" }   ",l&&(o+=" else { ")}else l&&(o+=" if (true) { ");return o}},{}],28:[function(e,t,r){"use strict";t.exports={$ref:e("./ref"),allOf:e("./allOf"),anyOf:e("./anyOf"),$comment:e("./comment"),const:e("./const"),contains:e("./contains"),dependencies:e("./dependencies"),enum:e("./enum"),format:e("./format"),if:e("./if"),items:e("./items"),maximum:e("./_limit"),minimum:e("./_limit"),maxItems:e("./_limitItems"),minItems:e("./_limitItems"),maxLength:e("./_limitLength"),minLength:e("./_limitLength"),maxProperties:e("./_limitProperties"),minProperties:e("./_limitProperties"),multipleOf:e("./multipleOf"),not:e("./not"),oneOf:e("./oneOf"),pattern:e("./pattern"),properties:e("./properties"),propertyNames:e("./propertyNames"),required:e("./required"),uniqueItems:e("./uniqueItems"),validate:e("./validate")}},{"./_limit":14,"./_limitItems":15,"./_limitLength":16,"./_limitProperties":17,"./allOf":18,"./anyOf":19,"./comment":20,"./const":21,"./contains":22,"./dependencies":24,"./enum":25,"./format":26,"./if":27,"./items":29,"./multipleOf":30,"./not":31,"./oneOf":32,"./pattern":33,"./properties":34,"./propertyNames":35,"./ref":36,"./required":37,"./uniqueItems":38,"./validate":39}],29:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h="errs__"+n,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,g="i"+n,y=p.dataLevel=e.dataLevel+1,v="data"+y,_=e.baseId;if(o+="var "+h+" = errors;var "+u+";",Array.isArray(a)){var E=e.schema.additionalItems;if(!1===E){o+=" "+u+" = "+d+".length <= "+a.length+"; ";var T=c;c=e.errSchemaPath+"/additionalItems",o+="  if (!"+u+") {   ";var b=b||[];b.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var O=o;o=b.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+O+"]); ":o+=" validate.errors = ["+O+"]; return false; ":o+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",c=T,l&&(m+="}",o+=" else { ")}var S=a;if(S)for(var P,A=-1,I=S.length-1;A<I;)if(P=S[A+=1],e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0:e.util.schemaHasRules(P,e.RULES.all)){o+=" "+f+" = true; if ("+d+".length > "+A+") { ";var N=d+"["+A+"]";p.schema=P,p.schemaPath=s+"["+A+"]",p.errSchemaPath=c+"/"+A,p.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0),p.dataPathArr[y]=A;var C=e.validate(p);p.baseId=_,e.util.varOccurences(C,v)<2?o+=" "+e.util.varReplace(C,v,N)+" ":o+=" var "+v+" = "+N+"; "+C+" ",o+=" }  ",l&&(o+=" if ("+f+") { ",m+="}")}if("object"==typeof E&&(e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0:e.util.schemaHasRules(E,e.RULES.all))){p.schema=E,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",o+=" "+f+" = true; if ("+d+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+d+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);N=d+"["+g+"]";p.dataPathArr[y]=g;C=e.validate(p);p.baseId=_,e.util.varOccurences(C,v)<2?o+=" "+e.util.varReplace(C,v,N)+" ":o+=" var "+v+" = "+N+"; "+C+" ",l&&(o+=" if (!"+f+") break; "),o+=" } }  ",l&&(o+=" if ("+f+") { ",m+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=c,o+="  for (var "+g+" = 0; "+g+" < "+d+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);N=d+"["+g+"]";p.dataPathArr[y]=g;C=e.validate(p);p.baseId=_,e.util.varOccurences(C,v)<2?o+=" "+e.util.varReplace(C,v,N)+" ":o+=" var "+v+" = "+N+"; "+C+" ",l&&(o+=" if (!"+f+") break; "),o+=" }"}return l&&(o+=" "+m+" if ("+h+" == errors) {"),o}},{}],30:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");n+="var division"+i+";if (",h&&(n+=" "+o+" !== undefined && ( typeof "+o+" != 'number' || "),n+=" (division"+i+" = "+u+" / "+o+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+i+" !== parseInt(division"+i+") ",n+=" ) ",h&&(n+="  )  "),n+=" ) {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+o+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be multiple of ",n+=h?"' + "+o:o+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+c:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var m=n;return n=p.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n}},{}],31:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="errs__"+n,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=c,o+=" var "+u+" = errors;  ";var m,f=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(m=h.opts.allErrors,h.opts.allErrors=!1),o+=" "+e.validate(h)+" ",h.createErrors=!0,m&&(h.opts.allErrors=m),e.compositeRule=h.compositeRule=f,o+=" if ("+p+") {   ";var g=g||[];g.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be valid' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var y=o;o=g.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(o+=" } ")}else o+="  var err =   ",!1!==e.createErrors?(o+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be valid' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ");return o}},{}],32:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h="errs__"+n,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,g=p.baseId,y="prevValid"+n,v="passingSchemas"+n;o+="var "+h+" = errors , "+y+" = false , "+u+" = false , "+v+" = null; ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0;var E=a;if(E)for(var T,b=-1,O=E.length-1;b<O;)T=E[b+=1],(e.opts.strictKeywords?"object"==typeof T&&Object.keys(T).length>0:e.util.schemaHasRules(T,e.RULES.all))?(p.schema=T,p.schemaPath=s+"["+b+"]",p.errSchemaPath=c+"/"+b,o+="  "+e.validate(p)+" ",p.baseId=g):o+=" var "+f+" = true; ",b&&(o+=" if ("+f+" && "+y+") { "+u+" = false; "+v+" = ["+v+", "+b+"]; } else { ",m+="}"),o+=" if ("+f+") { "+u+" = "+y+" = true; "+v+" = "+b+"; }";return e.compositeRule=p.compositeRule=_,o+=m+"if (!"+u+") {   var err =   ",!1!==e.createErrors?(o+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(o+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; "),o+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(o+=" } "),o}},{}],33:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s,n+="if ( ",h&&(n+=" ("+o+" !== undefined && typeof "+o+" != 'string') || "),n+=" !"+(h?"(new RegExp("+o+"))":e.usePattern(s))+".test("+u+") ) {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",n+=h?""+o:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match pattern \"",n+=h?"' + "+o+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+c:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var m=n;return n=p.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",d&&(n+=" else { "),n}},{}],34:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="errs__"+n,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f="key"+n,g="idx"+n,y=h.dataLevel=e.dataLevel+1,v="data"+y,_="dataProperties"+n,E=Object.keys(a||{}).filter(L),T=e.schema.patternProperties||{},b=Object.keys(T).filter(L),O=e.schema.additionalProperties,S=E.length||b.length,P=!1===O,A="object"==typeof O&&Object.keys(O).length,I=e.opts.removeAdditional,N=P||A||I,C=e.opts.ownProperties,w=e.baseId,x=e.schema.required;if(x&&(!e.opts.$data||!x.$data)&&x.length<e.opts.loopRequired)var R=e.util.toHash(x);function L(e){return"__proto__"!==e}if(o+="var "+u+" = errors;var "+m+" = true;",C&&(o+=" var "+_+" = undefined;"),N){if(o+=C?" "+_+" = "+_+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+f+" = "+_+"["+g+"]; ":" for (var "+f+" in "+d+") { ",S){if(o+=" var isAdditional"+n+" = !(false ",E.length)if(E.length>8)o+=" || validate.schema"+s+".hasOwnProperty("+f+") ";else{var D=E;if(D)for(var F=-1,k=D.length-1;F<k;)K=D[F+=1],o+=" || "+f+" == "+e.util.toQuotedString(K)+" "}if(b.length){var M=b;if(M)for(var j=-1,U=M.length-1;j<U;)ie=M[j+=1],o+=" || "+e.usePattern(ie)+".test("+f+") "}o+=" ); if (isAdditional"+n+") { "}if("all"==I)o+=" delete "+d+"["+f+"]; ";else{var H=e.errorPath,G="' + "+f+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers)),P)if(I)o+=" delete "+d+"["+f+"]; ";else{o+=" "+m+" = false; ";var B=c;c=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+G+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is an invalid additional property":o+="should NOT have additional properties",o+="' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var $=o;o=re.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+$+"]); ":o+=" validate.errors = ["+$+"]; return false; ":o+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=B,l&&(o+=" break; ")}else if(A)if("failing"==I){o+=" var "+u+" = errors;  ";var Y=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=O,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var V=d+"["+f+"]";h.dataPathArr[y]=f;var q=e.validate(h);h.baseId=w,e.util.varOccurences(q,v)<2?o+=" "+e.util.varReplace(q,v,V)+" ":o+=" var "+v+" = "+V+"; "+q+" ",o+=" if (!"+m+") { errors = "+u+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+f+"]; }  ",e.compositeRule=h.compositeRule=Y}else{h.schema=O,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);V=d+"["+f+"]";h.dataPathArr[y]=f;q=e.validate(h);h.baseId=w,e.util.varOccurences(q,v)<2?o+=" "+e.util.varReplace(q,v,V)+" ":o+=" var "+v+" = "+V+"; "+q+" ",l&&(o+=" if (!"+m+") break; ")}e.errorPath=H}S&&(o+=" } "),o+=" }  ",l&&(o+=" if ("+m+") { ",p+="}")}var W=e.opts.useDefaults&&!e.compositeRule;if(E.length){var z=E;if(z)for(var K,X=-1,Q=z.length-1;X<Q;){var J=a[K=z[X+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0:e.util.schemaHasRules(J,e.RULES.all)){var Z=e.util.getProperty(K),ee=(V=d+Z,W&&void 0!==J.default);h.schema=J,h.schemaPath=s+Z,h.errSchemaPath=c+"/"+e.util.escapeFragment(K),h.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),h.dataPathArr[y]=e.util.toQuotedString(K);q=e.validate(h);if(h.baseId=w,e.util.varOccurences(q,v)<2){q=e.util.varReplace(q,v,V);var te=V}else{te=v;o+=" var "+v+" = "+V+"; "}if(ee)o+=" "+q+" ";else{if(R&&R[K]){o+=" if ( "+te+" === undefined ",C&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(K)+"') "),o+=") { "+m+" = false; ";H=e.errorPath,B=c;var re,oe=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(H,K,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(re=re||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+oe+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is a required property":o+="should have required property \\'"+oe+"\\'",o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";$=o;o=re.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+$+"]); ":o+=" validate.errors = ["+$+"]; return false; ":o+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=B,e.errorPath=H,o+=" } else { "}else l?(o+=" if ( "+te+" === undefined ",C&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(K)+"') "),o+=") { "+m+" = true; } else { "):(o+=" if ("+te+" !== undefined ",C&&(o+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(K)+"') "),o+=" ) { ");o+=" "+q+" } "}}l&&(o+=" if ("+m+") { ",p+="}")}}if(b.length){var ne=b;if(ne)for(var ie,ae=-1,se=ne.length-1;ae<se;){J=T[ie=ne[ae+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0:e.util.schemaHasRules(J,e.RULES.all)){h.schema=J,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),o+=C?" "+_+" = "+_+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+f+" = "+_+"["+g+"]; ":" for (var "+f+" in "+d+") { ",o+=" if ("+e.usePattern(ie)+".test("+f+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);V=d+"["+f+"]";h.dataPathArr[y]=f;q=e.validate(h);h.baseId=w,e.util.varOccurences(q,v)<2?o+=" "+e.util.varReplace(q,v,V)+" ":o+=" var "+v+" = "+V+"; "+q+" ",l&&(o+=" if (!"+m+") break; "),o+=" } ",l&&(o+=" else "+m+" = true; "),o+=" }  ",l&&(o+=" if ("+m+") { ",p+="}")}}}return l&&(o+=" "+p+" if ("+u+" == errors) {"),o}},{}],35:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="errs__"+n,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(o+="var "+u+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=c;var m="key"+n,f="idx"+n,g="i"+n,y="' + "+m+" + '",v="data"+(h.dataLevel=e.dataLevel+1),_="dataProperties"+n,E=e.opts.ownProperties,T=e.baseId;E&&(o+=" var "+_+" = undefined; "),o+=E?" "+_+" = "+_+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+_+".length; "+f+"++) { var "+m+" = "+_+"["+f+"]; ":" for (var "+m+" in "+d+") { ",o+=" var startErrs"+n+" = errors; ";var b=m,O=e.compositeRule;e.compositeRule=h.compositeRule=!0;var S=e.validate(h);h.baseId=T,e.util.varOccurences(S,v)<2?o+=" "+e.util.varReplace(S,v,b)+" ":o+=" var "+v+" = "+b+"; "+S+" ",e.compositeRule=h.compositeRule=O,o+=" if (!"+p+") { for (var "+g+"=startErrs"+n+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(o+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(o+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; "),l&&(o+=" break; "),o+=" } }"}return l&&(o+="  if ("+u+" == errors) {"),o}},{}],36:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n,i=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h="valid"+a;if("#"==c||"#/"==c)e.isRoot?(o=e.async,n="validate"):(o=!0===e.root.schema.$async,n="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var m=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(m),(v=v||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var f=i;i=v.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(i+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,m);e.logger.warn(m),d&&(i+=" if (true) { ")}}else if(p.inline){var g=e.util.copy(e);g.level++;var y="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=c,i+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",d&&(i+=" if ("+y+") { ")}else o=!0===p.$async||e.async&&!1!==p.$async,n=p.code}if(n){var v;(v=v||[]).push(i),i="",e.opts.passContext?i+=" "+n+".call(this, ":i+=" "+n+"( ",i+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var _=i+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(i=v.pop(),o){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(i+=" var "+h+"; "),i+=" try { await "+_+"; ",d&&(i+=" "+h+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(i+=" "+h+" = false; "),i+=" } ",d&&(i+=" if ("+h+") { ")}else i+=" if (!"+_+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",d&&(i+=" else { ")}return i}},{}],37:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=" ",n=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),u="valid"+n,h=e.opts.$data&&a&&a.$data;h&&(o+=" var schema"+n+" = "+e.util.getData(a.$data,i,e.dataPathArr)+"; ");var p="schema"+n;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],f=a;if(f)for(var g,y=-1,v=f.length-1;y<v;){g=f[y+=1];var _=e.schema.properties[g];_&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0:e.util.schemaHasRules(_,e.RULES.all))||(m[m.length]=g)}}else m=a;if(h||m.length){var E=e.errorPath,T=h||m.length>=e.opts.loopRequired,b=e.opts.ownProperties;if(l)if(o+=" var missing"+n+"; ",T){h||(o+=" var "+p+" = validate.schema"+s+"; ");var O="' + "+(C="schema"+n+"["+(A="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,C,e.opts.jsonPointers)),o+=" var "+u+" = true; ",h&&(o+=" if (schema"+n+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+n+")) "+u+" = false; else {"),o+=" for (var "+A+" = 0; "+A+" < "+p+".length; "+A+"++) { "+u+" = "+d+"["+p+"["+A+"]] !== undefined ",b&&(o+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+p+"["+A+"]) "),o+="; if (!"+u+") break; } ",h&&(o+="  }  "),o+="  if (!"+u+") {   ",(N=N||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+O+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is a required property":o+="should have required property \\'"+O+"\\'",o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var S=o;o=N.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+S+"]); ":o+=" validate.errors = ["+S+"]; return false; ":o+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else { "}else{o+=" if ( ";var P=m;if(P)for(var A=-1,I=P.length-1;A<I;){x=P[A+=1],A&&(o+=" || "),o+=" ( ( "+(F=d+(D=e.util.getProperty(x)))+" === undefined ",b&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "),o+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?x:D)+") ) "}o+=") {  ";var N;O="' + "+(C="missing"+n)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,C,!0):E+" + "+C),(N=N||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+O+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is a required property":o+="should have required property \\'"+O+"\\'",o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";S=o;o=N.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+S+"]); ":o+=" validate.errors = ["+S+"]; return false; ":o+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else { "}else if(T){h||(o+=" var "+p+" = validate.schema"+s+"; ");var C;O="' + "+(C="schema"+n+"["+(A="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,C,e.opts.jsonPointers)),h&&(o+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(o+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+O+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is a required property":o+="should have required property \\'"+O+"\\'",o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),o+=" for (var "+A+" = 0; "+A+" < "+p+".length; "+A+"++) { if ("+d+"["+p+"["+A+"]] === undefined ",b&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+p+"["+A+"]) "),o+=") {  var err =   ",!1!==e.createErrors?(o+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+O+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is a required property":o+="should have required property \\'"+O+"\\'",o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(o+="  }  ")}else{var w=m;if(w)for(var x,R=-1,L=w.length-1;R<L;){x=w[R+=1];var D=e.util.getProperty(x),F=(O=e.util.escapeQuotes(x),d+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,x,e.opts.jsonPointers)),o+=" if ( "+F+" === undefined ",b&&(o+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "),o+=") {  var err =   ",!1!==e.createErrors?(o+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+O+"' } ",!1!==e.opts.messages&&(o+=" , message: '",e.opts._errorDataPathProperty?o+="is a required property":o+="should have required property \\'"+O+"\\'",o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=E}else l&&(o+=" if (true) {");return o}},{}],38:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o,n=" ",i=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h="valid"+i,p=e.opts.$data&&s&&s.$data;if(p?(n+=" var schema"+i+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",o="schema"+i):o=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(n+=" var "+h+"; if ("+o+" === false || "+o+" === undefined) "+h+" = true; else if (typeof "+o+" != 'boolean') "+h+" = false; else { "),n+=" var i = "+u+".length , "+h+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,f=Array.isArray(m);if(!m||"object"==m||"array"==m||f&&(m.indexOf("object")>=0||m.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+h+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var g="checkDataType"+(f?"s":"");n+=" if ("+e.util[g](m,"item",e.opts.strictNumbers,!0)+") continue; ",f&&(n+=" if (typeof item == 'string') item = '\"' + item; "),n+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",p&&(n+="  }  "),n+=" if (!"+h+") {   ";var y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",n+=p?"validate.schema"+c:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var v=n;n=y.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d&&(n+=" else { ")}else d&&(n+=" if (true) { ");return n}},{}],39:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o="",n=!0===e.schema.$async,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var c="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(o+=" var validate = ",n&&(e.async=!0,o+="async "),o+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(o+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!i&&!e.schema.$ref){var l=e.level,d=e.dataLevel,u=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",m=!e.opts.allErrors,f="data"+(d||""),g="valid"+l;if(!1===e.schema){e.isTop?m=!0:o+=" var "+g+" = false; ",(Q=Q||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'boolean schema is false' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var y=o;o=Q.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?o+=n?" return data; ":" validate.errors = null; return true; ":o+=" var "+g+" = true; ";return e.isTop&&(o+=" }; return validate; "),o}if(e.isTop){var v=e.isTop;l=e.level=0,d=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var _="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}o+=" var vErrors = null; ",o+=" var errors = 0;     ",o+=" if (rootData === undefined) rootData = data; "}else{l=e.level,f="data"+((d=e.dataLevel)||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),n&&!e.async)throw new Error("async schema in sync schema");o+=" var errs_"+l+" = errors;"}g="valid"+l,m=!e.opts.allErrors;var E="",T="",b=e.schema.type,O=Array.isArray(b);if(b&&e.opts.nullable&&!0===e.schema.nullable&&(O?-1==b.indexOf("null")&&(b=b.concat("null")):"null"!=b&&(b=[b,"null"],O=!0)),O&&1==b.length&&(b=b[0],O=!1),e.schema.$ref&&i){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(o+=" "+e.RULES.all.$comment.code(e,"$comment")),b){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,b);var P=e.RULES.types[b];if(S||O||!0===P||P&&!J(P)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var A=O?"checkDataTypes":"checkDataType";if(o+=" if ("+e.util[A](b,f,e.opts.strictNumbers,!0)+") { ",S){var I="dataType"+l,N="coerced"+l;o+=" var "+I+" = typeof "+f+"; ","array"==e.opts.coerceTypes&&(o+=" if ("+I+" == 'object' && Array.isArray("+f+")) "+I+" = 'array'; "),o+=" var "+N+" = undefined; ";var C="",w=S;if(w)for(var x,R=-1,L=w.length-1;R<L;)x=w[R+=1],R&&(o+=" if ("+N+" === undefined) { ",C+="}"),"array"==e.opts.coerceTypes&&"array"!=x&&(o+=" if ("+I+" == 'array' && "+f+".length == 1) { "+N+" = "+f+" = "+f+"[0]; "+I+" = typeof "+f+";  } "),"string"==x?o+=" if ("+I+" == 'number' || "+I+" == 'boolean') "+N+" = '' + "+f+"; else if ("+f+" === null) "+N+" = ''; ":"number"==x||"integer"==x?(o+=" if ("+I+" == 'boolean' || "+f+" === null || ("+I+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==x&&(o+=" && !("+f+" % 1)"),o+=")) "+N+" = +"+f+"; "):"boolean"==x?o+=" if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+N+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+N+" = true; ":"null"==x?o+=" if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+N+" = null; ":"array"==e.opts.coerceTypes&&"array"==x&&(o+=" if ("+I+" == 'string' || "+I+" == 'number' || "+I+" == 'boolean' || "+f+" == null) "+N+" = ["+f+"]; ");o+=" "+C+" if ("+N+" === undefined) {   ",(Q=Q||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",o+=O?""+b.join(","):""+b,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=O?""+b.join(","):""+b,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";y=o;o=Q.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else {  ";var D=d?"data"+(d-1||""):"parentData";o+=" "+f+" = "+N+"; ",d||(o+="if ("+D+" !== undefined)"),o+=" "+D+"["+(d?e.dataPathArr[d]:"parentDataProperty")+"] = "+N+"; } "}else{(Q=Q||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",o+=O?""+b.join(","):""+b,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=O?""+b.join(","):""+b,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";y=o;o=Q.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}o+=" } "}}if(e.schema.$ref&&!i)o+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(o+=" } if (errors === ",o+=v?"0":"errs_"+l,o+=") { ",T+="}");else{var F=e.RULES;if(F)for(var k=-1,M=F.length-1;k<M;)if(J(P=F[k+=1])){if(P.type&&(o+=" if ("+e.util.checkDataType(P.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==P.type&&e.schema.properties){u=e.schema.properties;var j=Object.keys(u);if(j)for(var U,H=-1,G=j.length-1;H<G;){if(void 0!==(Y=u[U=j[H+=1]]).default){var B=f+e.util.getProperty(U);if(e.compositeRule){if(e.opts.strictDefaults){_="default is ignored for: "+B;if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}}else o+=" if ("+B+" === undefined ","empty"==e.opts.useDefaults&&(o+=" || "+B+" === null || "+B+" === '' "),o+=" ) "+B+" = ","shared"==e.opts.useDefaults?o+=" "+e.useDefault(Y.default)+" ":o+=" "+JSON.stringify(Y.default)+" ",o+="; "}}}else if("array"==P.type&&Array.isArray(e.schema.items)){var $=e.schema.items;if($){R=-1;for(var Y,V=$.length-1;R<V;)if(void 0!==(Y=$[R+=1]).default){B=f+"["+R+"]";if(e.compositeRule){if(e.opts.strictDefaults){_="default is ignored for: "+B;if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}}else o+=" if ("+B+" === undefined ","empty"==e.opts.useDefaults&&(o+=" || "+B+" === null || "+B+" === '' "),o+=" ) "+B+" = ","shared"==e.opts.useDefaults?o+=" "+e.useDefault(Y.default)+" ":o+=" "+JSON.stringify(Y.default)+" ",o+="; "}}}var q=P.rules;if(q)for(var W,z=-1,K=q.length-1;z<K;)if(Z(W=q[z+=1])){var X=W.code(e,W.keyword,P.type);X&&(o+=" "+X+" ",m&&(E+="}"))}if(m&&(o+=" "+E+" ",E=""),P.type&&(o+=" } ",b&&b===P.type&&!S)){o+=" else { ";var Q;h=e.schemaPath+".type",p=e.errSchemaPath+"/type";(Q=Q||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",o+=O?""+b.join(","):""+b,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=O?""+b.join(","):""+b,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";y=o;o=Q.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } "}m&&(o+=" if (errors === ",o+=v?"0":"errs_"+l,o+=") { ",T+="}")}}function J(e){for(var t=e.rules,r=0;r<t.length;r++)if(Z(t[r]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,o=0;o<r.length;o++)if(void 0!==e.schema[r[o]])return!0}(t)}return m&&(o+=" "+T+" "),v?(n?(o+=" if (errors === 0) return data;           ",o+=" else throw new ValidationError(vErrors); "):(o+=" validate.errors = vErrors; ",o+=" return errors === 0;       "),o+=" }; return validate;"):o+=" var "+g+" = errors === errs_"+l+";",o}},{}],40:[function(e,t,r){"use strict";var o=/^[a-z_$][a-z0-9_$-]*$/i,n=e("./dotjs/custom"),i=e("./definition_schema");t.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!o.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var i=t.type;if(Array.isArray(i))for(var a=0;a<i.length;a++)c(e,i[a],t);else c(e,i,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function c(e,t,o){for(var i,a=0;a<r.length;a++){var s=r[a];if(s.type==t){i=s;break}}i||(i={type:t,rules:[]},r.push(i));var c={keyword:e,definition:o,custom:!0,code:n,implements:o.implements};i.rules.push(c),r.custom[e]=c}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var o=t[r].rules,n=0;n<o.length;n++)if(o[n].keyword==e){o.splice(n,1);break}return this},validate:function e(t,r){e.errors=null;var o=this._validateKeyword=this._validateKeyword||this.compile(i,!0);if(o(t))return!0;e.errors=o.errors;if(r)throw new Error("custom keyword definition is invalid: "+this.errorsText(o.errors));return!1}}},{"./definition_schema":13,"./dotjs/custom":23}],41:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],42:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],43:[function(e,t,r){(function(o){(function(){r.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let o=0,n=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(o++,"%c"===e&&(n=o))}),e.splice(n,0,r)},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG);return e},r.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage=function(){try{return localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=e("./common")(r);const{formatters:n}=t.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":44,_process:52}],44:[function(e,t,r){t.exports=function(t){function r(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){let t;function a(...e){if(!a.enabled)return;const r=a,n=Number(new Date),i=n-(t||n);r.diff=i,r.prev=t,r.curr=n,t=n,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,n)=>{if("%%"===t)return t;s++;const i=o.formatters[n];if("function"==typeof i){const o=e[s];t=i.call(r,o),e.splice(s,1),s--}return t}),o.formatArgs.call(r,e),(r.log||o.log).apply(r,e)}return a.namespace=e,a.enabled=o.enabled(e),a.useColors=o.useColors(),a.color=r(e),a.destroy=n,a.extend=i,"function"==typeof o.init&&o.init(a),o.instances.push(a),a}function n(){const e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function i(e,t){const r=o(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){return e instanceof Error?e.stack||e.message:e},o.disable=function(){const e=[...o.names.map(a),...o.skips.map(a).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){let t;o.save(e),o.names=[],o.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){const e=o.instances[t];e.enabled=o.enabled(e.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=o.skips.length;t<r;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;t<r;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=e("ms"),Object.keys(t).forEach(e=>{o[e]=t[e]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=r,o.enable(o.load()),o}},{ms:51}],45:[function(e,t,r){"use strict";var o,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};o=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(e,t){return new Promise(function(r,o){function n(r){e.removeListener(t,i),o(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,n,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,o){var n,i,a,s;if(l(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=o?[r,a]:[a,r]:o?a.unshift(r):a.push(r),(n=d(e))>0&&a.length>n&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function h(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(o);return n.listener=r,o.wrapFn=n,n}function p(e,t,r){var o=e._events;if(void 0===o)return[];var n=o[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):f(n,n.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}function g(e,t,r,o){if("function"==typeof e.on)o.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function n(i){o.once&&e.removeEventListener(t,n),r(i)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,n=this._events;if(void 0!==n)o=o&&void 0===n.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=n[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var l=c.length,d=f(c,l);for(r=0;r<l;++r)i(d[r],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,o,n,i,a;if(l(t),void 0===(o=this._events))return this;if(void 0===(r=o[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,n=i;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(o[e]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,i=Object.keys(r);for(o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},{}],46:[function(e,t,r){"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,i;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;0!=n--;){var a=i[n];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},{}],47:[function(e,t,r){"use strict";t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,o="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&(r=t.cmp,function(e){return function(t,o){var n={key:t,value:e[t]},i={key:o,value:e[o]};return r(n,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,a;if(Array.isArray(t)){for(a="[",r=0;r<t.length;r++)r&&(a+=","),a+=e(t[r])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(o)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(n&&n(t));for(a="",r=0;r<c.length;r++){var l=c[r],d=e(t[l]);d&&(a&&(a+=","),a+=JSON.stringify(l)+":"+d)}return i.splice(s,1),"{"+a+"}"}}(e)}},{}],48:[function(e,t,r){t.exports=function(){"use strict";return function(e,t,r){var o,n;for(o=0,n=t.length;o<n&&!(e(t[o],r)>0);o++);return o}}()},{}],49:[function(e,t,r){"use strict";var o=t.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,n,i,a,s,c,l,d,u){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var h in r(i,a,s,c,l,d,u),i){var p=i[h];if(Array.isArray(p)){if(h in o.arrayKeywords)for(var m=0;m<p.length;m++)e(t,r,n,p[m],a+"/"+h+"/"+m,s,a,h,i,m)}else if(h in o.propsKeywords){if(p&&"object"==typeof p)for(var f in p)e(t,r,n,p[f],a+"/"+h+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,h,i,f)}else(h in o.keywords||t.allKeys&&!(h in o.skipKeywords))&&e(t,r,n,p,a+"/"+h,s,a,h,i)}n(i,a,s,c,l,d,u)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};o.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},o.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},o.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},o.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],50:[function(e,t,r){t.exports=function(){"use strict";return function e(t,r){var o,n,i=r.length;return i>=2?(o=r.slice(0,i/2),n=r.slice(i/2,i),function(e,t,r){for(var o=[],n=t.length,i=r.length;n>0&&i>0;)e(t[0],r[0])<=0?(o.push(t.shift()),n--):(o.push(r.shift()),i--);return n>0?o.push.apply(o,t):o.push.apply(o,r),o}(t,e(t,o),e(t,n))):r.slice()}}()},{}],51:[function(e,t,r){var o=1e3,n=60*o,i=60*n,a=24*i,s=7*a,c=365.25*a;function l(e,t,r,o){var n=t>=1.5*r;return Math.round(e/r)+" "+o+(n?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"weeks":case"week":case"w":return r*s;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*n;case"seconds":case"second":case"secs":case"sec":case"s":return r*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return l(e,t,a,"day");if(t>=i)return l(e,t,i,"hour");if(t>=n)return l(e,t,n,"minute");if(t>=o)return l(e,t,o,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=o)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],52:[function(e,t,r){var o,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(e){o=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,d=[],u=!1,h=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):h=-1,d.length&&m())}function m(){if(!u){var e=c(p);u=!0;for(var t=d.length;t;){for(l=d,d=[];++h<t;)l&&l[h].run();h=-1,t=d.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new f(e,t)),1!==d.length||u||c(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],53:[function(e,t,r){var o,n;o=e("mergesort"),n=e("find-insert-index"),t.exports=function(){"use strict";var e;function t(e){return function(){return e}}function r(e){e=e||{},this.config=e,this.config.childrenPropertyName=e.childrenPropertyName||"children",this.config.modelComparatorFn=e.modelComparatorFn}function i(e,t){return t.parent=e,e.children.push(t),t}function a(e,t){this.config=e,this.model=t,this.children=[]}function s(e){return"function"==typeof e.config.modelComparatorFn}function c(e,t,r){var o;if(!(t instanceof a))throw new TypeError("Child must be of type Node.");if(t.parent=e,e.model[e.config.childrenPropertyName]instanceof Array||(e.model[e.config.childrenPropertyName]=[]),s(e))o=n(e.config.modelComparatorFn,e.model[e.config.childrenPropertyName],t.model),e.model[e.config.childrenPropertyName].splice(o,0,t.model),e.children.splice(o,0,t);else if(void 0===r)e.model[e.config.childrenPropertyName].push(t.model),e.children.push(t);else{if(r<0||r>e.children.length)throw new Error("Invalid index.");e.model[e.config.childrenPropertyName].splice(r,0,t.model),e.children.splice(r,0,t)}return t}function l(){var t={};if(1===arguments.length?"function"==typeof arguments[0]?t.fn=arguments[0]:t.options=arguments[0]:2===arguments.length?"function"==typeof arguments[0]?(t.fn=arguments[0],t.ctx=arguments[1]):(t.options=arguments[0],t.fn=arguments[1]):(t.options=arguments[0],t.fn=arguments[1],t.ctx=arguments[2]),t.options=t.options||{},t.options.strategy||(t.options.strategy="pre"),!e[t.options.strategy])throw new Error("Unknown tree walk strategy. Valid strategies are 'pre' [default], 'post' and 'breadth'.");return t}return e={},r.prototype.parse=function(e){var t,r,n;if(!(e instanceof Object))throw new TypeError("Model must be of type object.");if(n=new a(this.config,e),e[this.config.childrenPropertyName]instanceof Array)for(this.config.modelComparatorFn&&(e[this.config.childrenPropertyName]=o(this.config.modelComparatorFn,e[this.config.childrenPropertyName])),t=0,r=e[this.config.childrenPropertyName].length;t<r;t++)i(n,this.parse(e[this.config.childrenPropertyName][t]));return n},a.prototype.isRoot=function(){return void 0===this.parent},a.prototype.hasChildren=function(){return this.children.length>0},a.prototype.addChild=function(e){return c(this,e)},a.prototype.addChildAtIndex=function(e,t){if(s(this))throw new Error("Cannot add child at index when using a comparator function.");return c(this,e,t)},a.prototype.setIndex=function(e){if(s(this))throw new Error("Cannot set node index when using a comparator function.");if(this.isRoot()){if(0===e)return this;throw new Error("Invalid index.")}if(e<0||e>=this.parent.children.length)throw new Error("Invalid index.");var t=this.parent.children.indexOf(this);return this.parent.children.splice(e,0,this.parent.children.splice(t,1)[0]),this.parent.model[this.parent.config.childrenPropertyName].splice(e,0,this.parent.model[this.parent.config.childrenPropertyName].splice(t,1)[0]),this},a.prototype.getPath=function(){var e=[];return function t(r){e.unshift(r),r.isRoot()||t(r.parent)}(this),e},a.prototype.getIndex=function(){return this.isRoot()?0:this.parent.children.indexOf(this)},a.prototype.walk=function(){var t;t=l.apply(this,arguments),e[t.options.strategy].call(this,t.fn,t.ctx)},e.pre=function e(t,r){var o,n,i;for(i=t.call(r,this),o=0,n=this.children.length;o<n;o++){if(!1===i)return!1;i=e.call(this.children[o],t,r)}return i},e.post=function e(t,r){var o,n;for(o=0,n=this.children.length;o<n;o++)if(!1===e.call(this.children[o],t,r))return!1;return t.call(r,this)},e.breadth=function(e,t){var r=[this];!function o(){var n,i,a;if(0!==r.length){for(n=0,i=(a=r.shift()).children.length;n<i;n++)r.push(a.children[n]);!1!==e.call(t,a)&&o()}}()},a.prototype.all=function(){var r,o=[];return(r=l.apply(this,arguments)).fn=r.fn||t(!0),e[r.options.strategy].call(this,function(e){r.fn.call(r.ctx,e)&&o.push(e)},r.ctx),o},a.prototype.first=function(){var r,o;return(r=l.apply(this,arguments)).fn=r.fn||t(!0),e[r.options.strategy].call(this,function(e){if(r.fn.call(r.ctx,e))return o=e,!1},r.ctx),o},a.prototype.drop=function(){var e;return this.isRoot()||(e=this.parent.children.indexOf(this),this.parent.children.splice(e,1),this.parent.model[this.config.childrenPropertyName].splice(e,1),this.parent=void 0,delete this.parent),this},r}()},{"find-insert-index":48,mergesort:50}],54:[function(e,t,r){var o,n;o=this,n=function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var o=t.length-1,n=1;n<o;++n)t[n]=t[n].slice(1,-1);return t[o]=t[o].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function o(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function i(e){var o=t("[0-9]","[A-Fa-f]"),n=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",i),s=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),d=r(r(n+"|"+t(c,i,"[\\:]"))+"*"),u=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),h=r(u+"\\."+u+"\\."+u+"\\."+u),p=r(o+"{1,4}"),m=r(r(p+"\\:"+p)+"|"+h),f=r(r(p+"\\:")+"{6}"+m),g=r("\\:\\:"+r(p+"\\:")+"{5}"+m),y=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+m),v=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+m),_=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+m),E=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+m),T=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+m),b=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),O=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),S=r([f,g,y,v,_,E,T,b,O].join("|")),P=r(r(c+"|"+n)+"+"),A=(r(S+"\\%25"+P),r(S+r("\\%25|\\%(?!"+o+"{2})")+P)),I=r("[vV]"+o+"+\\."+t(c,i,"[\\:]")+"+"),N=r("\\["+r(A+"|"+S+"|"+I)+"\\]"),C=r(r(n+"|"+t(c,i))+"*"),w=r(N+"|"+h+"(?!"+C+")|"+C),x=r("[0-9]*"),R=r(r(d+"@")+"?"+w+r("\\:"+x)+"?"),L=r(n+"|"+t(c,i,"[\\:\\@]")),D=r(L+"*"),F=r(L+"+"),k=r(r(n+"|"+t(c,i,"[\\@]"))+"+"),M=r(r("\\/"+D)+"*"),j=r("\\/"+r(F+M)+"?"),U=r(k+M),H=r(F+M),G="(?!"+L+")",B=(r(M+"|"+j+"|"+U+"|"+H+"|"+G),r(r(L+"|"+t("[\\/\\?]",s))+"*")),$=r(r(L+"|[\\/\\?]")+"*"),Y=r(r("\\/\\/"+R+M)+"|"+j+"|"+H+"|"+G),V=r(l+"\\:"+Y+r("\\?"+B)+"?"+r("\\#"+$)+"?"),q=r(r("\\/\\/"+R+M)+"|"+j+"|"+U+"|"+G),W=r(q+r("\\?"+B)+"?"+r("\\#"+$)+"?");r(V+"|"+W),r(l+"\\:"+Y+r("\\?"+B)+"?"),r(r("\\/\\/("+r("("+d+")@")+"?("+w+")"+r("\\:("+x+")")+"?)")+"?("+M+"|"+j+"|"+H+"|"+G+")"),r("\\?("+B+")"),r("\\#("+$+")"),r(r("\\/\\/("+r("("+d+")@")+"?("+w+")"+r("\\:("+x+")")+"?)")+"?("+M+"|"+j+"|"+U+"|"+G+")"),r("\\?("+B+")"),r("\\#("+$+")"),r(r("\\/\\/("+r("("+d+")@")+"?("+w+")"+r("\\:("+x+")")+"?)")+"?("+M+"|"+j+"|"+H+"|"+G+")"),r("\\?("+B+")"),r("\\#("+$+")"),r("("+d+")@"),r("\\:("+x+")");return{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,i),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,i),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,i),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,i),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,i,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,i),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,a),"g"),PCT_ENCODED:new RegExp(n,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+P+")")+"?\\]?$")}}var a=i(!1),s=i(!0),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=2147483647,d=/^xn--/,u=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,f=String.fromCharCode;function g(e){throw new RangeError(p[e])}function y(e,t){var r=e.split("@"),o="";r.length>1&&(o=r[0]+"@",e=r[1]);var n=function(e,t){for(var r=[],o=e.length;o--;)r[o]=t(e[o]);return r}((e=e.replace(h,".")).split("."),t).join(".");return o+n}function v(e){for(var t=[],r=0,o=e.length;r<o;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<o){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)}else t.push(n)}return t}var _=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},E=function(e,t,r){var o=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;o+=36)e=m(e/35);return m(o+36*e/(e+38))},T=function(e){var t,r=[],o=e.length,n=0,i=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var c=0;c<s;++c)e.charCodeAt(c)>=128&&g("not-basic"),r.push(e.charCodeAt(c));for(var d=s>0?s+1:0;d<o;){for(var u=n,h=1,p=36;;p+=36){d>=o&&g("invalid-input");var f=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(f>=36||f>m((l-n)/h))&&g("overflow"),n+=f*h;var y=p<=a?1:p>=a+26?26:p-a;if(f<y)break;var v=36-y;h>m(l/v)&&g("overflow"),h*=v}var _=r.length+1;a=E(n-u,_,0==u),m(n/_)>l-i&&g("overflow"),i+=m(n/_),n%=_,r.splice(n++,0,i)}return String.fromCodePoint.apply(String,r)},b=function(e){var t=[],r=(e=v(e)).length,o=128,n=0,i=72,a=!0,s=!1,c=void 0;try{for(var d,u=e[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var h=d.value;h<128&&t.push(f(h))}}catch(e){s=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw c}}var p=t.length,y=p;for(p&&t.push("-");y<r;){var T=l,b=!0,O=!1,S=void 0;try{for(var P,A=e[Symbol.iterator]();!(b=(P=A.next()).done);b=!0){var I=P.value;I>=o&&I<T&&(T=I)}}catch(e){O=!0,S=e}finally{try{!b&&A.return&&A.return()}finally{if(O)throw S}}var N=y+1;T-o>m((l-n)/N)&&g("overflow"),n+=(T-o)*N,o=T;var C=!0,w=!1,x=void 0;try{for(var R,L=e[Symbol.iterator]();!(C=(R=L.next()).done);C=!0){var D=R.value;if(D<o&&++n>l&&g("overflow"),D==o){for(var F=n,k=36;;k+=36){var M=k<=i?1:k>=i+26?26:k-i;if(F<M)break;var j=F-M,U=36-M;t.push(f(_(M+j%U,0))),F=m(j/U)}t.push(f(_(F,0))),i=E(n,N,y==p),n=0,++y}}}catch(e){w=!0,x=e}finally{try{!C&&L.return&&L.return()}finally{if(w)throw x}}++n,++o}return t.join("")},O={version:"2.1.0",ucs2:{decode:v,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:T,encode:b,toASCII:function(e){return y(e,function(e){return u.test(e)?"xn--"+b(e):e})},toUnicode:function(e){return y(e,function(e){return d.test(e)?T(e.slice(4).toLowerCase()):e})}},S={};function P(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",r=0,o=e.length;r<o;){var n=parseInt(e.substr(r+1,2),16);if(n<128)t+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(o-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&n)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(n>=224){if(o-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function I(e,t){function r(e){var r=A(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,P).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,P).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,P).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,P).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,P).replace(t.PCT_ENCODED,n)),e}function N(e){return e.replace(/^0*(.*)/,"$1")||"0"}function C(e,t){var r=e.match(t.IPV4ADDRESS)||[],o=c(r,2)[1];return o?o.split(".").map(N).join("."):e}function w(e,t){var r=e.match(t.IPV6ADDRESS)||[],o=c(r,3),n=o[1],i=o[2];if(n){for(var a=n.toLowerCase().split("::").reverse(),s=c(a,2),l=s[0],d=s[1],u=d?d.split(":").map(N):[],h=l.split(":").map(N),p=t.IPV4ADDRESS.test(h[h.length-1]),m=p?7:8,f=h.length-m,g=Array(m),y=0;y<m;++y)g[y]=u[y]||h[f+y]||"";p&&(g[m-1]=C(g[m-1],t));var v=g.reduce(function(e,t,r){if(!t||"0"===t){var o=e[e.length-1];o&&o.index+o.length===r?o.length++:e.push({index:r,length:1})}return e},[]).sort(function(e,t){return t.length-e.length})[0],_=void 0;if(v&&v.length>1){var E=g.slice(0,v.index),T=g.slice(v.index+v.length);_=E.join(":")+"::"+T.join(":")}else _=g.join(":");return i&&(_+="%"+i),_}return e}var x=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R=void 0==="".match(/(){0}/)[1];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var n=e.match(x);if(n){R?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==e.indexOf("@")?n[3]:void 0,r.host=-1!==e.indexOf("//")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=-1!==e.indexOf("?")?n[7]:void 0,r.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),r.host&&(r.host=w(C(r.host,o),o)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=S[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)I(r,o);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=O.toASCII(r.host.replace(o.PCT_ENCODED,A).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}I(r,a)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var D=/^\.\.?\//,F=/^\/\.(\/|$)/,k=/^\/\.\.(\/|$)/,M=/^\/?(?:.|\n)*?(?=\/|$)/;function j(e){for(var t=[];e.length;)if(e.match(D))e=e.replace(D,"");else if(e.match(F))e=e.replace(F,"/");else if(e.match(k))e=e.replace(k,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(M);if(!r)throw new Error("Unexpected dot segment condition");var o=r[0];e=e.slice(o.length),t.push(o)}return t.join("")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:a,o=[],n=S[(t.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?O.toUnicode(e.host):O.toASCII(e.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}I(e,r),"suffix"!==t.reference&&e.scheme&&(o.push(e.scheme),o.push(":"));var i=function(e,t){var r=!1!==t.iri?s:a,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push("@")),void 0!==e.host&&o.push(w(C(String(e.host),r),r).replace(r.IPV6ADDRESS,function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})),"number"!=typeof e.port&&"string"!=typeof e.port||(o.push(":"),o.push(String(e.port))),o.length?o.join(""):void 0}(e,t);if(void 0!==i&&("suffix"!==t.reference&&o.push("//"),o.push(i),e.path&&"/"!==e.path.charAt(0)&&o.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||n&&n.absolutePath||(c=j(c)),void 0===i&&(c=c.replace(/^\/\//,"/%2F")),o.push(c)}return void 0!==e.query&&(o.push("?"),o.push(e.query)),void 0!==e.fragment&&(o.push("#"),o.push(e.fragment)),o.join("")}function H(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};return arguments[3]||(e=L(U(e,r),r),t=L(U(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=j(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=j(t.path||""),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=j(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=j(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function G(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,A)}var B={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},$={scheme:"https",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize};function Y(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var V={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=Y(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(Y(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),o=c(r,2),n=o[0],i=o[1];e.path=n&&"/"!==n?n:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},q={scheme:"wss",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},W={},z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",K="[0-9A-Fa-f]",X=r(r("%[EFef][0-9A-Fa-f]%"+K+K+"%"+K+K)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+K+K)+"|"+r("%"+K+K)),Q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),J=new RegExp(z,"g"),Z=new RegExp(X,"g"),ee=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Q),"g"),te=new RegExp(t("[^]",z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),re=te;function oe(e){var t=A(e);return t.match(J)?t:e}var ne={scheme:"mailto",parse:function(e,t){var r=e,o=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var n=!1,i={},a=r.query.split("&"),s=0,c=a.length;s<c;++s){var l=a[s].split("=");switch(l[0]){case"to":for(var d=l[1].split(","),u=0,h=d.length;u<h;++u)o.push(d[u]);break;case"subject":r.subject=G(l[1],t);break;case"body":r.body=G(l[1],t);break;default:n=!0,i[G(l[0],t)]=G(l[1],t)}}n&&(r.headers=i)}r.query=void 0;for(var p=0,m=o.length;p<m;++p){var f=o[p].split("@");if(f[0]=G(f[0]),t.unicodeSupport)f[1]=G(f[1],t).toLowerCase();else try{f[1]=O.toASCII(G(f[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}o[p]=f.join("@")}return r},serialize:function(e,t){var r,o=e,i=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(i){for(var a=0,s=i.length;a<s;++a){var c=String(i[a]),l=c.lastIndexOf("@"),d=c.slice(0,l).replace(Z,oe).replace(Z,n).replace(ee,P),u=c.slice(l+1);try{u=t.iri?O.toUnicode(u):O.toASCII(G(u,t).toLowerCase())}catch(e){o.error=o.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[a]=d+"@"+u}o.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var m in h)h[m]!==W[m]&&p.push(m.replace(Z,oe).replace(Z,n).replace(te,P)+"="+h[m].replace(Z,oe).replace(Z,n).replace(re,P));return p.length&&(o.query=p.join("&")),o}},ie=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ie),o=e;if(r){var n=t.scheme||o.scheme||"urn",i=r[1].toLowerCase(),a=r[2],s=n+":"+(t.nid||i),c=S[s];o.nid=i,o.nss=a,o.path=void 0,c&&(o=c.parse(o,t))}else o.error=o.error||"URN can not be parsed.";return o},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",o=e.nid,n=r+":"+(t.nid||o),i=S[n];i&&(e=i.serialize(e,t));var a=e,s=e.nss;return a.path=(o||t.nid)+":"+s,a}},se=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(se)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};S[B.scheme]=B,S[$.scheme]=$,S[V.scheme]=V,S[q.scheme]=q,S[ne.scheme]=ne,S[ae.scheme]=ae,S[ce.scheme]=ce,e.SCHEMES=S,e.pctEncChar=P,e.pctDecChars=A,e.parse=L,e.removeDotSegments=j,e.serialize=U,e.resolveComponents=H,e.resolve=function(e,t,r){var o=function(e,t){var r=e;if(t)for(var o in t)r[o]=t[o];return r}({scheme:"null"},r);return U(H(L(e,o),L(t,o),o,!0),o)},e.normalize=function(e,t){return"string"==typeof e?e=U(L(e,t),t):"object"===o(e)&&(e=L(U(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=U(L(e,r),r):"object"===o(e)&&(e=U(e,r)),"string"==typeof t?t=U(L(t,r),r):"object"===o(t)&&(t=U(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,P)},e.unescapeComponent=G,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof r&&void 0!==t?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n(o.URI=o.URI||{})},{}],55:[function(e,t,r){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);t.exports=function(e,t){var r=t||0,n=o;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}},{}],56:[function(e,t,r){var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var n=new Uint8Array(16);t.exports=function(){return o(n),n}}else{var i=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},{}],57:[function(e,t,r){var o=e("./lib/rng"),n=e("./lib/bytesToUuid");t.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||n(a)}},{"./lib/bytesToUuid":55,"./lib/rng":56}],58:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("./constants/index"),n=e("./utils"),i={[o.CONFIG.XAP_LOADER]:()=>Promise.resolve(""),[o.CONFIG.URL_PREFIX]:"",[o.CONFIG.FONT_URL_PREFIX]:"",[o.CONFIG.LANGUAGE]:o.LANGS.EN_US,[o.CONFIG.MAX_SCALE]:1/0,[o.CONFIG.MIN_SCALE]:0,[o.CONFIG.NO_KEYBIND]:!1,[o.CONFIG.KEYBINDING_SERVICE]:function(e,t){return null},[o.CONFIG.NO_EDIT_RECEIVER]:!1,[o.CONFIG.READONLY]:!1,[o.CONFIG.HIDE_COLLAPSE_BTN]:!0,[o.CONFIG.NO_TOPIC_CUSTOM_WIDTH_BTN]:!0,[o.CONFIG.INFO_ITEM_STYLE]:o.INFO_ITEM_STYLE_TYPE.FASHION,[o.CONFIG.CLIPBOARD_READER]:function(){return null},[o.CONFIG.PADDING_FACTOR]:1,[o.CONFIG.FAKE_IMAGE]:!1,[o.CONFIG.LOGGER]:{info:"development"===t.env.NODE_ENV?console.info.bind(console):a,warn:"development"===t.env.NODE_ENV?console.warn.bind(console):a,error:"development"===t.env.NODE_ENV?console.error.bind(console):a,debug:"development"===t.env.NODE_ENV?console.debug.bind(console):a},[o.CONFIG.INPUT_HANDLER]:function(e){return Promise.resolve("")},[o.CONFIG.LIMITED_OPERATION_HANDLER]:function(e){return Promise.resolve(!0)},[o.CONFIG.AUTO_ACTION_STATUS]:!1};function a(){}class s{constructor(e={}){this.data=Object.assign({},e)}parent(e){return e instanceof s&&(this._parent=e),this._parent||(this!==r.defaultConfig?r.defaultConfig:null)}get(e){let t=this.data[e];if(n.isUndefined(t)){let r=this.parent();t=r&&r.get(e)}return t}set(...e){if(n.isObject(e[0])){let t=e[0];for(let e in t)this.set(e,t[e])}else if(2===e.length){let t=e[0],r=e[1];this.data[t]=r}else this.get(o.CONFIG.LOGGER).error("Illegal arguments for Config: ",e)}}r.Config=s,r.defaultConfig=new s(i)}).call(this)}).call(this,e("_process"))},{"./constants/index":66,"./utils":80,_process:52}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ACTION_NAMES={ADD_NEW_SHEET:"addNewSheet",CHANGE_SHEET_TITLE:"changeSheetTitle",CLOSE_UNDO_KEEP_MODE:"closeUndoKeepMode",OPEN_UNDO_KEEP_MODE:"openUndoKeepMode",REDO:"redo",REFRESH_MIND_MAP:"refreshMindMap",REMOVE_SHEET:"removeSheet",SET_EXT_COL_ICON_DISPLAY:"setExtColIconDisplay",UNDO:"undo",WORKBOOK_SAVED:"workbookSaved",ADD_BOUNDARY:"addBoundary",ADD_CALLOUT_TOPIC:"addCalloutTopic",ADD_CLASS:"addClass",ADD_FLOATING_TOPIC:"addFloatingTopic",ADD_IMAGE:"addImage",ADD_PARENT_TOPIC:"addParentTopic",ADD_RELATIONSHIP:"addRelationship",ADD_SUB_TOPIC:"addSubTopic",ADD_SUMMARY:"addSummary",ADD_TOPIC_AFTER:"addTopicAfter",ADD_TOPIC_BEFORE:"addTopicBefore",ALIGN:"align",CANCEL_ADD_RELATIONSHIP:"cancelAddRelationship",CHANGE_BORDER_COLOR:"changeBorderColor",CHANGE_BORDER_GRADIENT:"changeBorderGradient",CHANGE_BORDER_WIDTH:"changeBorderWidth",CHANGE_BOUNDARY_BACKGROUND_COLOR:"changeBoundaryBackgroundColor",CHANGE_BOUNDARY_LINE_COLOR:"changeBoundaryLineColor",CHANGE_BOUNDARY_LINE_PATTERN:"changeBoundaryLinePattern",CHANGE_BOUNDARY_OPACITY:"changeBoundaryOpacity",CHANGE_BOUNDARY_PRE_INSTALL_STYLE:"changeBoundaryPreInstallStyle",CHANGE_BRANCH_LINE_STYLE:"changeBranchLineStyle",CHANGE_CJK_FONT_FAMILY:"changeCJKFontFamily",CHANGE_COLOR_GRADIENT:"changeColorGradient",CHANGE_COLOR:"changeColor",CHANGE_COMMENTS_INFO:"changeCommentsInfo",CHANGE_COMPONENT_PRE_INSTALL_STYLE:"changeComponentPreInstallStyle",CHANGE_END_ARROW_TYPE:"changeEndArrowType",CHANGE_FILL_GRADIENT:"changeFillGradient",CHANGE_FONT_FAMILY:"changeFontFamily",CHANGE_FONT_SIZE:"changeFontSize",CHANGE_FONT_STYLE:"changeFontStyle",CHANGE_FONT_WEIGHT:"changeFontWeight",CHANGE_HYPER_LINK:"changeHyperLink",CHANGE_INFO_ITEM_DISPLAY:"changeInfoItemDisplay",CHANGE_LABEL:"changeLabel",CHANGE_LEGEND_DISPLAY:"changeLegendDisplay",CHANGE_LINE_COLOR:"changeLineColor",CHANGE_LINE_PATTERN:"changeLinePattern",CHANGE_LINE_TAPERED:"changeLineTapered",CHANGE_LINE_WIDTH:"changeLineWidth",CHANGE_MAP_OPACITY:"changeMapOpacity",CHANGE_MARKER:"changeMarker",CHANGE_MULTI_LINE_COLORS:"changeMultiLineColors",CHANGE_NOTE:"changeNote",CHANGE_RELATIONSHIP_LINE_COLOR:"changeRelationshipLineColor",CHANGE_RELATIONSHIP_PRE_INSTALL_STYLE:"changeRelationshipPreInstallStyle",CHANGE_SHAPE_CLASS:"changeShapeClass",CHANGE_SHAPE_COLOR:"changeShapeColor",CHANGE_SHEET_BACKGROUND:"changeSheetBackground",CHANGE_START_ARROW_TYPE:"changeStartArrowType",CHANGE_STICKER:"changeSticker",CHANGE_STRUCTURE:"changeStructure",CHANGE_SUMMARY_LINE_COLOR:"changeSummaryLineColor",CHANGE_SUMMARY_LINE_STYLE:"changeSummaryLineStyle",CHANGE_SUMMARY_LINE_WIDTH:"changeSummaryLineWidth",CHANGE_TEXT_ALIGN:"changeTextAlign",CHANGE_TEXT_COLOR:"changeTextColor",CHANGE_TEXT_DECORATION:"changeTextDecoration",CHANGE_TEXT_TRANSFORM:"changeTextTransform",CHANGE_THEME:"changeTheme",CHANGE_TITLE:"changeTitle",CHANGE_TOPIC_CUSTOM_WIDTH:"changeTopicCustomWidth",CHANGE_TOPIC_OVERLAP:"changeTopicOverlap",CHANGE_TOPIC_POSITIONING:"changeTopicPositioning",CHANGE_TOPIC_PRE_INSTALL_STYLE:"changeTopicPreInstallStyle",COLLAPSE_BRANCHES:"collapseBranches",COPY_STYLE:"copyStyle",COPY:"copy",CUT:"cut",DELETE_ITEM:"deleteItem",DIVIDE:"divide",DUPLICATE_TOPIC:"duplicateTopic",EXCHANGE_SIBLING_TOPIC:"exchangeSiblingTopic",EXTEND_BRANCHES:"extendBranches",FIT_MAP:"fitMap",FOCUS_CENTER:"focusCenter",FOCUS_INPUT:"focusInput",HIDE_EDIT_BOX:"hideEditBox",HIDE_TITLE:"hideTitle",INSERT_AUDIO_NOTES_ON_NEW_TOPIC:"insertAudioNotesOnNewTopic",INSERT_AUDIO_NOTES:"insertAudioNotes",INSERT_HREF_ON_NEW_TOPIC:"insertHrefOnNewTopic",MOVE_VIEWPORT:"moveViewport",PASTE_STYLE:"pasteStyle",PASTE:"paste",PRE_ADD_FLOATING_TOPIC:"preAddFloatingTopic",REMOVE_ALL_SELECTION:"removeAllSelection",REMOVE_AUDIO_NOTES:"removeAudioNotes",REMOVE_CLASS:"removeClass",REMOVE_MARKER:"removeMarker",REMOVE_MARKER_GROUP:"removeMarkerGroup",REMOVE_SELECTION:"removeSelection",REMOVE_TASK_INFO:"removeTaskInfo",REPAIR_EDIT_RECEIVER_POSITION:"repairEditReceiverPosition",RESET_IMAGE:"resetImage",RESIZE_IMAGE:"resizeImage",RESET_POSITION:"resetPosition",RESIZE_EDITOR:"resizeEditor",SELECT_ALL:"selectAll",SELECT:"select",SELECTION_NAVIGATE:"selectionNavigate",SELECT_TOPIC_BY_ID:"selectTopicById",SET_DEVICE_SCALE:"setDeviceScale",SET_MINI_MAP_DISPLAY:"setMiniMapDisplay",SET_STYLE_OBJECT:"setStyleObject",SET_SUMMARY_STYLE_OBJECT:"setSummaryStyleObject",SET_TRANSFORM:"setTransform",SHEET_SAVED:"sheetSaved",SHOW_EDIT_BOX:"showEditBox",SHOW_TITLE:"showTitle",SHOW_VIEW_IN_VIEWPORT:"showViewInViewport",TOGGLE_SELECT:"toggleSelect",UPDATE_CLASS_INTO_THEME:"updateClassIntoTheme",ZOOM:"zoom",SHOW_BRANCH_ONLY:"showBranchOnly"},r.ACTION_STATUS={NORMAL:Symbol("normal"),DISABLE:Symbol("disable"),ABORTED:Symbol("aborted")}},{}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ADAPTERS={SUMMARY_VIEW:"summaryView"}},{}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BROWSER_TYPE={OPERA:"Opera",EDGE:"Edge",CHROME:"Chrome",SAFARI:"Safari",FIREFOX:"Firefox",IE:"IE",UNKNOWN:"unknown"}},{}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CONFIG={LOGGER:"logger",INPUT_HANDLER:"inputHandler",XAP_LOADER:"xapLoader",XAP_GENERATOR:"xapGen",URL_PREFIX:"urlPrefix",NO_ANIMATION:"noAimation",LANGUAGE:"language",MAX_SCALE:"maxScale",MIN_SCALE:"minScale",NO_KEYBIND:"noKeybind",KEYBINDING_SERVICE:"KeyBinding_service",INFO_ITEM_STYLE:"infoItemStyle",READONLY:"readonly",NO_EDIT_RECEIVER:"noEditReceiver",CLIPBOARD_READER:"clipboardReader",CLIPBOARD_WRITER:"clipboardWriter",DEFERED_EVENTS:"deferedEvents",DEFERED_TIME:"deferedTime",PADDING_FACTOR:"paddingFactor",FAKE_IMAGE:"fakeImage",NO_LISTEN_RESIZE:"noListenResize",CJK_FONT_FAMILY:"cjkFontFamily",PLATFORM:"platform",FONT_URL_PREFIX:"fontUrlPrefix",FONT_FACE_GENERATOR:"fontFaceGenerator",HIDE_COLLAPSE_BTN:"hideCollapseBtn",NO_TOPIC_CUSTOM_WIDTH_BTN:"noTopicCustomWidthBtn",PRE_ACTIONS:"preActions",POST_ACTIONS:"postActions",AUTO_ACTION_STATUS:"autoActionStatus",LIMITED_OPERATION_HANDLER:"limitedOperationHandler"}},{}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EVENTS={UNDO_STATE_CHANGE:"undoStateChange",BEFORE_EDITOR_REMOVE:"beforeEditorRemove",EDITOR_REMOVED:"editorRemoved",BEFORE_SWITCH_SHEET:"beforeSwitchSheet",SHEET_SWITCHED:"sheetSwitched",BEFORE_CREATE_SHEET_EDITOR:"beforeCreateSheetEditor",SHEET_EDITOR_CREATED:"sheetEditorCreated",ACTION_STATUS_MAY_CHANGED:"actionStatusMayChanged",AFTER_REMOVE_SHEET_MODEL:"afterRemoveSheet",BEFORE_REMOVE_SHEET_MODEL:"beforeRemoveSheet",AFTER_ADD_NEW_SHEET:"afterAddNewSheet",BEFORE_ADD_NEW_SHEET:"beforeAddNewSheet",AFTER_SHEET_CONTENT_CHANGE:"afterSheetContentChange",AFTER_WORKBOOK_CONTENT_CHANGE:"afterWorkbookContentChange",BEFORE_ADD_TOPIC:"beforeAddTopic",AFTER_ADD_TOPIC:"afterAddTopic",BEFORE_REMOVE_TOPIC:"beforeRemoveTopic",AFTER_REMOVE_TOPIC:"afterRemoveTopic",AFTER_SHEET_TITLE_CHANGE:"sheetTitleChanged",AFTER_WORKBOOK_TITLE_CHANGE:"workbookTitleChanged",SELECTION_CHANGED:"selectionChanged",SHOULD_SHOW_NOTE_PANEL:"shouldShowNotesPanel",SCALE_CHANGED:"scaleChanged",VIEW_PORT_MOVING:"viewPortMoving",SHEET_CONTENT_LOADED:"SHEET_CONTENT_LOADED",AFTER_UI_STATUS_ACTIVATE:"AFTER_UI_STATUS_ACTIVATE",AFTER_UI_STATUS_DEACTIVATE:"AFTER_UI_STATUS_DEACTIVATE",AFTER_MODIFY_STATUS_CHANGE:"afterModifyStatusChange",AFTER_SHEET_ORDER_CHANGE:"afterSheetOrderChange",AFTER_THEME_CHANGED:"afterThemeChanged",SE_BRANCH_DRAG_START:"SE_branchDragStart",SE_BRANCH_DRAG_END:"SE_branchDragEnd",RELATIONSHIP_CONTROL_POINT_DRAG_START:"RELATIONSHIP_CONTROL_POINT_DRAG_START",RELATIONSHIP_CONTROL_POINT_DRAG_END:"RELATIONSHIP_CONTROL_POINT_DRAG_END",SE_OVERRIDE_STYLE_CHANGED:"SE_OVERRIDE_STYLE_CHANGED",SE_BRANCH_COLLAPSE_TOGGLE:"SE_BRANCH_COLLAPSE_TOGGLE",SE_UI_STATUS_CHANGED:"SE_UI_STATUS_CHANGED",BEFORE_ANCESTOR_CHANGE:"beforeAncestorChange",AFTER_ANCESTOR_CHANGE:"afterAncestorChange",FILE_DROP_IN_START:"fileDropInStart",FILE_DROP_IN_END:"fileDropInEnd",EXIT_BRANCH_ONLY_MODE:"exitBranchOnlyMode"}},{}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EXTENSION_ELEMENT={CONTENT:"content"},r.EXTENSION_PROVIDER={TASK_INFO:"org.xmind.ui.taskInfo",AUDIO_NOTES:"org.xmind.ui.audionotes",UNBALANCED_MAP:"org.xmind.ui.map.unbalanced",SPREAD_SHEET:"org.xmind.ui.spreadsheet"},r.EXTENSION_EVENT={ADD_RESOURCE_REF:"addResourceRef",REMOVE_RESOURCE_REF:"removeResourceRef"}},{}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FIGURE_TYPE={SHEET:"sheet",BRANCH:"branch",TOPIC:"topic",BOUNDARY:"boundary",RELATIONSHIP:"relationship",SUMMARY:"summary",CONNECTION:"connection",COLLAPSE_EXTEND:"collapseextend",TOPIC_TITLE:"topictitle",RELATIONSHIP_TITLE:"relationshiptitle",NUMBERING:"numbering",IMAGE:"image",LABELS:"labels",LABEL:"label",MARKERS:"markers",MARKER:"marker",INFORMATION:"information",SELECT_BOX:"selectbox",RESIZE_BOX:"resizebox",TOPIC_SELECT_BOX:"topic_selectbox",PLACE_HOLDER_TOPIC:"placehodertopic",MATRIX:"matrix",MATRIX_LABEL:"matrixlabel",MATRIX_CELL:"matrixcell",MATRIX_PLUS:"matrixplus",BOUNDARY_TITLE:"boundarytitle"}},{}],66:[function(e,t,r){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),o(e("./browsers")),o(e("./configs")),o(e("./events")),o(e("./models")),o(e("./modules")),o(e("./services")),o(e("./status")),o(e("./structures")),o(e("./styles")),o(e("./views")),o(e("./adapters")),o(e("./extensions")),o(e("./figures")),o(e("./renderengine")),o(e("./xaptypes")),o(e("./actions")),o(e("./limited")),r.LANGS={ZH_CN:"zh-CN",EN_US:"en-US",ZH_HK:"zh-HK",ZH_TW:"zh-TW",JA_JP:"ja-JP",DE_DE:"de-DE",FR_FR:"fr-FR"},r.PLATFORMS={VANA:"vana",BROWNIE:"brownie",DOUGHNUT:"doughnut",PUFF:"puff",PUFFMAC:"puffmac"}},{"./actions":59,"./adapters":60,"./browsers":61,"./configs":62,"./events":63,"./extensions":64,"./figures":65,"./limited":67,"./models":68,"./modules":69,"./renderengine":70,"./services":71,"./status":72,"./structures":73,"./styles":74,"./views":75,"./xaptypes":76}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SUPPORTED_LIMITED_OPERATIONS={INSERT_IMAGE:"insertImage"}},{}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MODEL_TYPE={BASE_COMPONENT:"BaseComponent",STYLE_COMPONENT:"StyleComponent",STYLE:"Style",BOUNDARY:"Boundary",SUMMARY:"Summary",HREF:"Href",LABEL:"Label",LEGEND:"Legend",MARKER:"Marker",NOTE:"Note",NUMBERING:"Numbering",RELATIONSHIP:"Relationship",SHEET:"Sheet",THEME:"Theme",TOPIC:"Topic",EXTENSION:"Extension",IMAGE:"Image",WORKBOOK:"workbook"},r.TOPIC_TYPE={ATTACHED:"attached",DETACHED:"detached",SUMMARY:"summary",CALLOUT:"callout",ROOT:"root"},r.NUMBERFORMAT={NONE:"org.xmind.numbering.none",ARABIC:"org.xmind.numbering.arabic",ROMAN:"org.xmind.numbering.roman",LOWERCASE:"org.xmind.numbering.lowercase",UPPERCASE:"org.xmind.numbering.uppercase"},r.NUMBERSEPARATOR={COMMA:"org.xmind.numbering.separator.comma",DOT:"org.xmind.numbering.separator.dot",HYPHEN:"org.xmind.numbering.separator.hyphen",DASH:"org.xmind.numbering.separator.dash",OBLIQUE:"org.xmind.numbering.separator.oblique"},r.INFO_ITEM_DISPLAY_MODE={CARD:"card",ICON:"icon"},r.INFOITEM_TYPE_FULL={LABEL:"org.xmind.ui.infoItem.label",HREF:"org.xmind.ui.infoItem.hyperlink",NOTE:"org.xmind.ui.infoItem.notes",TASK:"org.xmind.ui.infoItem.taskInfo",AUDIO:"org.xmind.ui.infoItem.AudioNotes",COMMENT:"org.xmind.ui.infoItem.comments"},r.INFOITEM_TYPE_SHORT={LABEL:"label",HREF:"href",NOTE:"note",TASK:"task",AUDIO:"audio",COMMENT:"comments"},r.INFO_ITEM_STYLE_TYPE={CLASSIC:"classic",FASHION:"fashion",ACC_TO_JSON:"accToJSON"},r.COMPONENT_TYPE=r.MODEL_TYPE,r.ATTACHMENT_PREFIX="xap:resources/",r.TITLE_MAX_WIDTH=300,r.TOPIC_TITLE_MAX_WIDTH=300,r.TOPIC_MAX_CUSTOM_WIDTH=762,r.TOPIC_DEFAULT_STRUCTURE="org.xmind.ui.logic.right",r.DIRECTION={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},r.TOPIC_ATTACHED="attached",r.TOPIC_DETACHED="detached",r.TOPIC_SUMMARY="summary",r.TOPIC_CALLOUT="callout",r.TOPIC_ROOT="root",r.MASTER_RANGE="master",r.MANIFEST={FILE_ENTRIES:"file-entries",FILE_ENTRY:"file-entry"}},{}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MODULE_NAME={ADD_RELATIONSHIP:"addrelationshipmanager",COPY_PASTE:"copypastemanager",DRAG:"dragmanager",DROP:"dropmanager",PRE_ADD_FLOATING_TOPIC:"preaddfloatingtopic",SELECTION:"selectionmanager",KEY_BIND:"keybind",EDIT_RECEIVER:"editreceiver",MINI_MAP:"minimap",MOVE_VIEW_PORT:"moveviewport",SEMAPHORE:"semaphore",LAYOUT:"layout",MOUSE_BOX_SELECT:"mouseboxselect",MARKER_MAP:"markermap",MODIFY_CHECK:"modifycheck",SELECT_DRAG:"selectdragmanager",OVERRIDE_STYLE:"overridestyle",SVG_DRAGGABLE:"svgdraggable",UI_STATUS:"uistatusmanager"}},{}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RENDER_ENGINE_TYPE={SVG:"svg",CANVAS:"canvas"}},{}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SERVICE_NAME={GET_MINIMUM_FONT_SIZE:"getMiniumFontSize",GET_VIEW_PORT_COVER:"getViewPortCover",COPY_TO_CLIPBOARD:"copyToClipboard"}},{}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UI_STATUS={LAYOUT:"layout",ANIMATION:"animation",PINCH:"pinching",DRAG:"drag",ADD_RELATIONSHIP:"addRelationship",ADD_FLOATINGTOPIC:"addFloatingTopic",EDIT_TITLE:"editTitle",DRAG_VIEWPORT:"dragViewport",LOADING_IMAGE:"loadingImage",DE_FOCUS:"deFocus",DRAG_TOPIC_SELECT_BOX:"dragTopicSelectBox",SHOW_BRANCH_ONLY:"showBranchOnly"}},{}],73:[function(e,t,r){"use strict";let o;Object.defineProperty(r,"__esModule",{value:!0}),r.STRUCTURECLASS={LOGICRIGHT:"org.xmind.ui.logic.right",LOGICLEFT:"org.xmind.ui.logic.left",TREERIGHT:"org.xmind.ui.tree.right",TREELEFT:"org.xmind.ui.tree.left",ORGCHARTDOWN:"org.xmind.ui.org-chart.down",ORGCHARTUP:"org.xmind.ui.org-chart.up",MAPCLOCKWISE:"org.xmind.ui.map.clockwise",MAPANTICLOCKWISE:"org.xmind.ui.map.anticlockwise",MAP:"org.xmind.ui.map",MAPUNBALANCED:"org.xmind.ui.map.unbalanced",MAPFLOATING:"org.xmind.ui.map.floating",MAPFLOATINGCLOCKWISE:"org.xmind.ui.map.floating.clockwise",MAPFLOATINGANTICLOCKWISE:"org.xmind.ui.map.floating.anticlockwise",TIMELINEHORIZONTAL:"org.xmind.ui.timeline.horizontal",TIMELINEHORIZONTALUP:"org.xmind.ui.timeline.horizontal.up",TIMELINEHORIZONTALDOWN:"org.xmind.ui.timeline.horizontal.down",TIMELINEVERTICAL:"org.xmind.ui.timeline.vertical",FISHBONELEFTHEADED:"org.xmind.ui.fishbone.leftHeaded",LEFTHEADEDNENORMAL:"org.xmind.ui.fishbone.structure.NE.normal",LEFTHEADEDSENORMAL:"org.xmind.ui.fishbone.structure.SE.normal",FISHBONERIGHTHEADED:"org.xmind.ui.fishbone.rightHeaded",RIGHTHEADEDNWNORMAL:"org.xmind.ui.fishbone.structure.NW.normal",RIGHTHEADEDSWNORMAL:"org.xmind.ui.fishbone.structure.SW.normal",SPREADSHEET:"org.xmind.ui.spreadsheet",SPREADSHEETROW:"org.xmind.ui.structure.spreadsheet.row",COLUMNSPREADSHEET:"org.xmind.ui.spreadsheet.column",SPREADSHEETCOLUMN:"org.xmind.ui.structure.column.spreadsheet",LOGICCHARTRIGHT:"org.xmind.ui.logic-chart.right",LOGICCHARTLEFT:"org.xmind.ui.logic-chart.left"},r.EXPOSED_STRUCTURE=["org.xmind.ui.logic.right","org.xmind.ui.logic.left","org.xmind.ui.tree.right","org.xmind.ui.tree.left","org.xmind.ui.org-chart.down","org.xmind.ui.org-chart.up","org.xmind.ui.map.clockwise","org.xmind.ui.map.anticlockwise","org.xmind.ui.map","org.xmind.ui.map.unbalanced","org.xmind.ui.timeline.horizontal","org.xmind.ui.timeline.vertical","org.xmind.ui.fishbone.leftHeaded","org.xmind.ui.fishbone.rightHeaded","org.xmind.ui.spreadsheet","org.xmind.ui.spreadsheet.column"],r.ATTACHED_EXPOSED_STRUCTURE=r.EXPOSED_STRUCTURE.filter(function(e){return!(0===e.indexOf("org.xmind.ui.map"))}),r.LEFT_EXPOSED_STRUCTURE=r.ATTACHED_EXPOSED_STRUCTURE.filter(function(e){var t=0===e.indexOf("org.xmind.ui.logic.right"),r=0===e.indexOf("org.xmind.ui.fishbone.leftHeaded");return!t&&!r}),r.RIGHT_EXPOSED_STRUCTURE=r.ATTACHED_EXPOSED_STRUCTURE.filter(function(e){var t=0===e.indexOf("org.xmind.ui.logic.left"),r=0===e.indexOf("org.xmind.ui.fishbone.rightHeaded");return!t&&!r}),r.SIMILAR_STRUCTURE_MAP=((o={})[r.STRUCTURECLASS.FISHBONELEFTHEADED]=r.STRUCTURECLASS.FISHBONERIGHTHEADED,o[r.STRUCTURECLASS.FISHBONERIGHTHEADED]=r.STRUCTURECLASS.FISHBONELEFTHEADED,o),r.DEFAULT_STRUCTURE=r.STRUCTURECLASS.MAP},{}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CLASS_TYPE={CENTRAL_TOPIC:"centralTopic",MAIN_TOPIC:"mainTopic",SUB_TOPIC:"subTopic",SUMMARY_TOPIC:"summaryTopic",CALLOUT_TOPIC:"calloutTopic",FLOATING_TOPIC:"floatingTopic",BOUNDARY:"boundary",SUMMARY:"summary",RELATIONSHIP:"relationship",MAP:"map"},r.STYLED_TOPIC_TYPE={CENTRAL:"centralTopic",SUMMARY:"summaryTopic",FLOATING:"floatingTopic",CALLOUT:"calloutTopic",MAIN:"mainTopic",SUB:"subTopic"},r.STYLE_KEYS={FONT_FAMILY:"fo:font-family",FONT_STYLE:"fo:font-style",FONT_WEIGHT:"fo:font-weight",FONT_SIZE:"fo:font-size",TEXT_COLOR:"fo:color",TEXT_ALIGN:"fo:text-align",TEXT_BULLET:"fo:text-bullet",TEXT_TRANSFORM:"fo:text-transform",TEXT_DECORATION:"fo:text-decoration",TEXT_BACKGROUND_COLOR:"fo:background-color",MARGIN_LEFT:"fo:margin-left",MARGIN_RIGHT:"fo:margin-right",MARGIN_TOP:"fo:margin-top",MARGIN_BOTTOM:"fo:margin-bottom",SPACING_MAJOR:"spacing-major",SPACING_MINOR:"spacing-minor",SHAPE_CLASS:"shape-class",SHAPE_CORNER:"shape-corner",LINE_CORNER:"line-corner",LINE_COLOR:"line-color",LINE_CLASS:"line-class",LINE_WIDTH:"line-width",LINE_PATTERN:"line-pattern",LINE_TAPERED:"line-tapered",BORDER_LINE_COLOR:"border-line-color",BORDER_LINE_WIDTH:"border-line-width",CALLOUT_FILL_COLOR:"callout-fill-color",CALLOUT_LINE_CLASS:"callout-line-class",CALLOUT_LINE_CORNER:"callout-line-corner",CALLOUT_LINE_PATTERN:"callout-line-pattern",CALLOUT_LINE_WIDTH:"callout-line-width",CALLOUT_SHAPE_CLASS:"callout-shape-class",CALLOUT_LINE_COLOR:"callout-line-color",OPACITY:"svg:opacity",FILL_COLOR:"svg:fill",BACKGROUND:"background",ARROW_END_CLASS:"arrow-end-class",ARROW_BEGIN_CLASS:"arrow-begin-class",ALLOW_OVERLAP:"allow-overlap",ALLOW_FREE_POSITION:"allow-free-position",GRADIENT_COLOR:"color-gradient",MULTI_LINE_COLORS:"multi-line-colors",CJK_FONT_FAMILY:"cjk-font-family",STRUCTURE_CLASS:"structure-class",FILL_GRADIENT:"fill-gradient",BORDER_GRADIENT:"border-gradient"},r.STYLE_VALUES={SYSTEM_FONT:"$system$"},r.STYLE_PARENT_GROUP={BEFORE_CLASS_GROUP:"beforeClassGroup",BEFORE_THEME_GROUP:"beforeThemeGroup",BEFORE_DEFAULT_GROUP:"beforeDefaultGroup"},r.STYLE_LAYER={BEFORE_USER:"beforeUser",BEFORE_CLASS:"beforeClass",BEFORE_THEME:"beforeTheme",BEFORE_DEFAULT:"beforeDefault",BEFORE_PARENT:"beforeParent"},r.COMMON_FONT_FAMILY='Helvetica, "Nunito Sans", "Microsoft JhengHei", "Microsoft Yahei", sans-serif',r.TOPICSHAPE={ROUNDEDRECT:"org.xmind.topicShape.roundedRect",RECT:"org.xmind.topicShape.rect",ELLIPSE:"org.xmind.topicShape.ellipse",DIAMOND:"org.xmind.topicShape.diamond",UNDERLINE:"org.xmind.topicShape.underline",NOBORDER:"org.xmind.topicShape.noBorder",CIRCLE:"org.xmind.topicShape.circle",PARALLELOGRAM:"org.xmind.topicShape.parallelogram",CLOUD:"org.xmind.topicShape.cloud",ELLIPSERECT:"org.xmind.topicShape.ellipserect",_ELLIPSE:"org.xmind.topicShape.callout.ellipse",_ROUNDEDRECT:"org.xmind.topicShape.callout.roundedRect",_RECT:"org.xmind.topicShape.callout.rect",HEXAGON:"org.xmind.topicShape.hexagon",ROUNDEDHEXAGON:"org.xmind.topicShape.roundedhexagon",ELLIPTICRECTANGLE:"org.xmind.topicShape.ellipticrectangle",SINGLEBREAKANGLE:"org.xmind.topicShape.singlebreakangle",SINGLEBREAKANGLEWITHLINE:"org.xmind.topicShape.singlebreakanglewithline",DOUBLEROUNDEDANGLE:"org.xmind.topicShape.doubleroundedangle",DOUBLEUNDERLINE:"org.xmind.topicShape.doubleunderline",LEAF:"org.xmind.topicShape.leaf",NEWCLOUD:"org.xmind.topicShape.newcloud",STACK:"org.xmind.topicShape.stack",MATRIXMAIN:"org.xmind.topicShape.matrixMain",FISHHEADTORIGHT:"org.xmind.topicShape.fishHeadToRight",FISHHEADTOLEFT:"org.xmind.topicShape.fishHeadToLeft",FISHBONEROATEDNW:"org.xmind.topicShape.fishbone.NW.rotated",FISHBONEROATEDNE:"org.xmind.topicShape.fishbone.NE.rotated",FISHBONEROATEDSW:"org.xmind.topicShape.fishbone.SW.rotated",FISHBONE_NE_UNDERLINE:"fishbone_ne_underline",FISHBONE_NW_UNDERLINE:"fishbone_nw_underline",FISHBONEROATEDSE:"org.xmind.topicShape.fishbone.SE.rotated"},r.CALLOUTSHAPE={ELLIPSE:"org.xmind.calloutTopicShape.balloon.ellipse",ROUNDEDRECT:"org.xmind.calloutTopicShape.balloon.roundedRect",RECT:"org.xmind.calloutTopicShape.balloon.rectangle"},r.BOUNDARYSHAPE={RECT:"org.xmind.boundaryShape.rect",ROUNDEDRECT:"org.xmind.boundaryShape.roundedRect",SCALLOPS:"org.xmind.boundaryShape.scallops",WAVES:"org.xmind.boundaryShape.waves",TENSION:"org.xmind.boundaryShape.tension",POLYGON:"org.xmind.boundaryShape.polygon",ROUNDEDPOLYGON:"org.xmind.boundaryShape.roundedPolygon",NEWBOUNDARY1:"org.xmind.boundaryShape.newboundary1",NEWBOUNDARY2:"org.xmind.boundaryShape.newboundary2",NEWBOUNDARY3:"org.xmind.boundaryShape.newboundary3",FOCUS:"org.xmind.boundaryShape.focus",CROSS:"org.xmind.boundaryShape.cross"},r.ARROWSHAPE={NORMAL:"org.xmind.arrowShape.normal",SPEARHEAD:"org.xmind.arrowShape.spearhead",DOT:"org.xmind.arrowShape.dot",TRIANGLE:"org.xmind.arrowShape.triangle",SQUARE:"org.xmind.arrowShape.square",DIAMOND:"org.xmind.arrowShape.diamond",HERRINGBONE:"org.xmind.arrowShape.herringbone",NONE:"org.xmind.arrowShape.none",RING:"org.xmind.arrowShape.ring",EYE:"org.xmind.arrowShape.eye",DOUBLEARROW:"org.xmind.arrowShape.doublearrow",SQUARERING:"org.xmind.arrowShape.squarering",ANTITRIANGLE:"org.xmind.arrowShape.antiTriangle",ATTACHED:"org.xmind.arrowShape.attached",HOOK:"org.xmind.arrowShape.hook"},r.RELATIONSHIPSHAPE={CURVED:"org.xmind.relationshipShape.curved",ANGLED:"org.xmind.relationshipShape.angled",STRAIGHT:"org.xmind.relationshipShape.straight",ZIGZAG:"org.xmind.relationshipShape.zigzag"},r.SUMMARYCONNECTION={CURLY:"org.xmind.summaryShape.curly",ANGLE:"org.xmind.summaryShape.angle",SQUARE:"org.xmind.summaryShape.square",ROUND:"org.xmind.summaryShape.round",BRACKET:"org.xmind.summaryShape.bracket",SHARP:"org.xmind.summaryShape.sharp",FOLD:"org.xmind.summaryShape.fold",STRAIGHT:"org.xmind.summaryShape.straight"},r.BRANCHCONNECTION={ROUNDEDELBOW:"org.xmind.branchConnection.roundedElbow",STRAIGHT:"org.xmind.branchConnection.straight",CURVE:"org.xmind.branchConnection.curve",ARROWEDCURVE:"org.xmind.branchConnection.arrowedCurve",FOLD:"org.xmind.branchConnection.fold",FOLD2:"org.xmind.branchConnection.fold2",ROUNDEDFOLD:"org.xmind.branchConnection.roundedfold",BIGHT:"org.xmind.branchConnection.bight",ELBOW:"org.xmind.branchConnection.elbow",HORIZONTAL:"org.xmind.branchConnection.timeline.horizontal",NONE:"org.xmind.branchConnection.none",CALLOUTLINE:"calloutLine"},r.ARROWLINEPATTERN={DASH:"dash",DASHDOT:"dash-dot",DASHDOTDOT:"dash-dot-dot",DOT:"dot",SOLID:"solid",ROUNDDOT:"round-dot"},r.TEXTTRANSFORM={MANUAL:"manual",CAPITALIZE:"capitalize",UPPERCASE:"uppercase",LOWERCASE:"lowercase"}},{}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VIEW_TYPE={BRANCH:"branch",AUDIO:"audioNotes",BOUNDARY:"boundary",COLLAPSE_EXTEND:"collapseextend",COMMENT:"comments",CONNECTION:"connection",FISHTAIL:"fishtail",HREF:"href",IMAGE:"image",INFOITEM:"infoitem",INFO_MORE:"infoMore",JUMP:"jump",LABEL:"label",LABELUNIT:"labelunit",LEGEND:"legend",LEGENDMARKERLIST:"legendmarkerlist",MARKER:"marker",NOTE:"note",NUMBERING:"numbering",RELATIONSHIP:"relationship",SELECTBOX:"selectbox",SVG:"svg",TASK:"task",TOPIC:"topic",TEXT:"text",TITLE:"title",INFO_ITEM_CARD:"infoitemcard",INFORMATION_ICONS:"informationicons",ATTACHMENT:"attachment",MATRIX:"matrix",MATRIX_CELL:"matrixcell",MATRIX_LABEL:"matrixlabel",MATRIX_PLUS:"matrixPlus",CELL:"cell",SHEET:"sheet",SUMMARY:"summary",TOPIC_SELECT_BOX:"topic_select_box",TOPIC_TITLE:"topictitle",RELATIONSHIP_TITLE:"relationshiptitle",INFORMATION_ICON:"INFORMATION_ICON",MARKERS:"MARKERS",RESIZE_BOX:"resizebox",PLACEHOLDERBRANCH:"placeholderbranch"}},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.XAP_TYPE={IMAGE:"image",ATTACHMENT:"attachment",X_STICKER:"x-sticker"}},{}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("./constants/index"),n=e("events"),i="next",a="break",s=20,c="__default__",l=function(e,t){const r=t.length;if("undo"===e)for(let e=r-1;e>=0;e--){const r=t[e];r.undo&&r.undo()}else if("redo"===e)for(let e=0;e<r;e++){const r=t[e];r.redo&&r.redo()}return a};class d{constructor(e,t){this._identifier=e,this._executor=t,this._tasks=[]}getName(){return this._identifier}push(e){this._tasks.push(e)}pop(){this._tasks.pop()}execute(e){let t=a;return(this._executor?this._executor:l)(e,Array.from(this._tasks))||(t=i),t}}r.default=class extends n.EventEmitter{constructor(e={limit:s}){super(),this._undoStack=[],this._redoStack=[],this._limitedLength=s,this._canRecord=!0,this._blocking=!1,this._allInOne=!1,this._nameToTagGroup=new Map,this.setStackLimitedLength(e.limit)}setRecordState(e){this._canRecord=e}keepAllInOne(e){this._allInOne!==e&&(this._allInOne=e,e||this._resetStandbyGroup())}setStackLimitedLength(e){this._limitedLength=e;const t=this._undoStack.length,r=this._redoStack.length;this._limitedLength<t?this._undoStack.slice(t-this._limitedLength,t):this._limitedLength<t+r&&this._redoStack.slice(r+t-this._limitedLength,this._limitedLength-t)}_genNewGroup(e,t){const r=new d(e,t);return this._changeUndoStack(r),this._redoStack.length=0,this._undoStack.length+this._redoStack.length>this._limitedLength&&(this._undoStack=this._undoStack.slice(1,this._limitedLength)),r}_autoStandbyGroup(){return clearTimeout(this.TIMEOUT_ID),this.TIMEOUT_ID=setTimeout(()=>{this._allInOne||this._resetStandbyGroup()},0),this._genNewGroup(c)}add(e,t){this.push(e,t)}push(e,t){this._canRecord&&(this._blocking||(e.type=t,this._standbyGroup||(this._standbyGroup=this._autoStandbyGroup()),this._standbyGroup.push(e)))}pop(){const e=this._changeUndoStack();return this._redoStack.length=0,this._nameToTagGroup.delete(e&&e.getName()),this._resetStandbyGroup(),e}append(e,t){if(!this._canRecord)return;if(this._blocking)return;e.type=t;let r=this.getLastGroup();r&&!this.isTagGroup(r)||(r=this._genNewGroup(c)),r.push(e)}getLastGroup(){return this._undoStack[this._undoStack.length-1]}isTagGroup(e){return this._nameToTagGroup.has(e.getName())}pushTag(e,t){if(!this._canRecord)return;if(this._blocking)return;if(this._nameToTagGroup.has(e))return;this._resetStandbyGroup();const r=this._genNewGroup(e,t);this._nameToTagGroup.set(e,r)}popTag(e){this._resetStandbyGroup();const t=this._nameToTagGroup.get(e),r=this._undoStack.indexOf(t);r>-1&&this._undoStack.splice(r,1);const o=this._redoStack.indexOf(t);return o>-1&&this._redoStack.splice(o,1),this._nameToTagGroup.delete(e),t}undo(){this._blocking=!0,this._resetStandbyGroup();const e=this._changeUndoStack();e&&(this._redoStack.push(e),e.execute("undo")===i&&this.undo()),this._blocking=!1}redo(){this._blocking=!0,this._resetStandbyGroup();const e=this._redoStack.pop();e&&(this._changeUndoStack(e),e.execute("redo")===i&&this.redo()),this._blocking=!1}_resetStandbyGroup(){this._standbyGroup=null}_changeUndoStack(e){let t=e?(this._undoStack.push(e),e):this._undoStack.pop();return Promise.resolve().then(()=>{this.emit(o.EVENTS.UNDO_STATE_CHANGE,{canUndo:this.canUndo(),canRedo:this.canRedo()})}),t}isExecuting(){return!0===this._blocking}canUndo(){return this._undoStack.length>0}canRedo(){return this._redoStack.length>0}clearRedo(){this._redoStack.length=0}getIndex(){return this._undoStack.length-1}}},{"./constants/index":66,events:45}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o={};r.UUID=function(e){if(e&&o[e])return o[e];const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return e?o[e]=t:t},r.methodDeprecatedWarn=function(e,t){return`${e} has been deprecated, use ${t} instead`};const n=/data:image[\s\S]*;base64/;r.isDef=function(e){return null!=e},r.isUndef=function(e){return null==e},r.inArray=function(e,t){return-1!==e.indexOf(t)},r.flatten=function(e){return e.reduce((e,t)=>e.concat(t),[])},r.throttle=function(e,t){let r,o=e,n=!0;return function(...e){return n?(o.apply(this,e),n=!1):!r&&void(r=setTimeout(()=>{clearTimeout(r),r=null,o.apply(this,e)},void 0===t?500:t))}},r.isBase64Url=function(e){return n.test(e)},r.frameStabilize=function(e,t){let r,o=!1;return function(){r=Array.prototype.slice.apply(arguments),o||(o=!0,requestAnimationFrame(()=>{e.apply(this,r),o=!1})),t&&"function"==typeof t&&t.apply(this,r)}},r.removeItem=function(e,t){if(e.length>0){const r=e.indexOf(t);if(r>-1)return e.splice(r,1)}},r.isSame=function(e,t){const r=Object.keys(e);for(let o=0;o<r.length;o++){const n=r[o];if(e[n]!==t[n])return!1}return!0}},{}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("./number"),n=e("./point");function i(e,t){const r=Math.min(e.x,t.x),o=Math.min(e.y,t.y);return{x:r,y:o,width:Math.max(e.x+e.width,t.x+t.width)-r,height:Math.max(e.y+e.height,t.y+t.height)-o}}function a(e){let t=1/0,r=1/0,o=-1/0,n=-1/0;return e.forEach(e=>{e.x<t&&(t=e.x),e.x>o&&(o=e.x),e.y<r&&(r=e.y),e.y>n&&(n=e.y)}),{x:t,y:r,height:n-r,width:o-t}}function s(e,t){return o.stripNum(e.width)===o.stripNum(t.width)&&o.stripNum(e.height)===o.stripNum(t.height)}r.isBoundsEqual=function(e,t){return e.x===t.x&&e.y===t.y&&s(e,t)},r.isBoundsIntersect=function(e,t){return!(t.x>e.x+e.width||e.x>t.x+t.width||t.y>e.y+e.height||e.y>t.y+t.height)},r.isBoundsContainPoint=function(e,t){return!(t.x<e.x||t.x>e.x+e.width||t.y<e.y||t.y>e.y+e.height)},r.mergeBounds=i,r.mergeBoundsArr=function(e){if(!Array.isArray(e))throw"Wrong arguments";return 0===e.length?{x:0,y:0,width:0,height:0}:1===e.length?e[0]:e.reduce((e,t)=>i(e,t))},r.inflateBounds=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},r.moveBounds=function(e,t){return{x:t.x+e.x,y:t.y+e.y,width:e.width,height:e.height}},r.fromPoints=a,r.rotateBounds=function(e,t,r=0,o=0){return a([{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}].map(e=>n.rotatePointAroundDeg(e,{x:r,y:o},t)))},r.outBounds=function(e,t){const r={x:0,y:0,width:0,height:0};return e.x<t.x?(r.x=e.x,r.width=e.x-t.x):e.x+e.width>t.x+t.width&&(r.x=t.x,r.width=e.x+e.width-(t.x+t.width)),e.y<t.y?(r.y=e.y,r.height=e.y-t.y):e.y+e.height>t.y+t.height&&(r.y=t.y,r.height=e.y+e.height-(t.y+t.height)),r},r.isSameSize=s},{"./number":82,"./point":83}],80:[function(e,t,r){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),o(e("./point")),o(e("./base")),o(e("./bounds")),o(e("./number")),o(e("./syntax"))},{"./base":78,"./bounds":79,"./number":82,"./point":83,"./syntax":84}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../common/constants"),n=e("../../common/config"),i={[o.LANGS.EN_US]:{DEFAULT_CALLOUT_TOPIC_TITLE:"Callout",DEFAULT_FLOATING_TOPIC_TITLE:"Floating Topic",DEFAULT_MAIN_TOPIC_TITLE:"Main Topic",DEFAULT_SUBTOPIC_TITLE:"Subtopic",DEFAULT_SUMMARY_TOPIC_TITLE:"Summary",DEFAULT_RELATIONSHIP_TITLE:"Relationship",LEGEND_TITLE:"Legend",LABEL_TITLE:"Label",RECORD_TITLE_PREFIX:"Record"},[o.LANGS.ZH_CN]:{DEFAULT_CALLOUT_TOPIC_TITLE:"标注",DEFAULT_FLOATING_TOPIC_TITLE:"自由主题",DEFAULT_MAIN_TOPIC_TITLE:"分支主题",DEFAULT_SUBTOPIC_TITLE:"子主题",DEFAULT_SUMMARY_TOPIC_TITLE:"概要",DEFAULT_RELATIONSHIP_TITLE:"联系",LEGEND_TITLE:"图例",LABEL_TITLE:"标签",RECORD_TITLE_PREFIX:"录音"},[o.LANGS.ZH_HK]:{DEFAULT_CALLOUT_TOPIC_TITLE:"標註",DEFAULT_FLOATING_TOPIC_TITLE:"自由主題",DEFAULT_MAIN_TOPIC_TITLE:"分支主題",DEFAULT_SUBTOPIC_TITLE:"子主題",DEFAULT_SUMMARY_TOPIC_TITLE:"總結",DEFAULT_RELATIONSHIP_TITLE:"聯繫",LEGEND_TITLE:"圖例",LABEL_TITLE:"標籤",RECORD_TITLE_PREFIX:"錄音"},[o.LANGS.ZH_TW]:{DEFAULT_CALLOUT_TOPIC_TITLE:"標註",DEFAULT_FLOATING_TOPIC_TITLE:"自由主題",DEFAULT_MAIN_TOPIC_TITLE:"分支主題",DEFAULT_SUBTOPIC_TITLE:"子主題",DEFAULT_SUMMARY_TOPIC_TITLE:"總結",DEFAULT_RELATIONSHIP_TITLE:"聯繫",LEGEND_TITLE:"圖例",LABEL_TITLE:"標籤",RECORD_TITLE_PREFIX:"錄音"},[o.LANGS.JA_JP]:{DEFAULT_CALLOUT_TOPIC_TITLE:"コメント",DEFAULT_FLOATING_TOPIC_TITLE:"フリートピック",DEFAULT_MAIN_TOPIC_TITLE:"メイントピック",DEFAULT_SUBTOPIC_TITLE:"サブトピック",DEFAULT_SUMMARY_TOPIC_TITLE:"概要",DEFAULT_RELATIONSHIP_TITLE:"関連性",LEGEND_TITLE:"図例",LABEL_TITLE:"ラベル",RECORD_TITLE_PREFIX:"録音"},[o.LANGS.DE_DE]:{DEFAULT_CALLOUT_TOPIC_TITLE:"Anmerkung",DEFAULT_FLOATING_TOPIC_TITLE:"Freitext",DEFAULT_MAIN_TOPIC_TITLE:"Hauptknoten",DEFAULT_SUBTOPIC_TITLE:"Unterknoten",DEFAULT_SUMMARY_TOPIC_TITLE:"Zusammenfassung",DEFAULT_RELATIONSHIP_TITLE:"Verbindung",LEGEND_TITLE:"Legende",LABEL_TITLE:"Beschriftung",RECORD_TITLE_PREFIX:"Aufnahme"},[o.LANGS.FR_FR]:{DEFAULT_CALLOUT_TOPIC_TITLE:"Bulle",DEFAULT_FLOATING_TOPIC_TITLE:"Sujet Flottant",DEFAULT_MAIN_TOPIC_TITLE:"Sujet principal",DEFAULT_SUBTOPIC_TITLE:"Sous-sujet",DEFAULT_SUMMARY_TOPIC_TITLE:"Résumé",DEFAULT_RELATIONSHIP_TITLE:"Relation",LEGEND_TITLE:"Légende",LABEL_TITLE:"Etiquette",RECORD_TITLE_PREFIX:"Enregistrement Audio"}};r.default={translate(e,t){const r=i[e];if(r){const i=r[t];return i||(n.defaultConfig.get(o.CONFIG.LOGGER).warn(`word '${t}' of language '${e}' hasn't been translated`),t)}throw new Error(`unsupported language: ${e}`)}}},{"../../common/config":58,"../../common/constants":66}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stripNum=function(e,t=12){return+parseFloat(e.toPrecision(t))}},{}],83:[function(e,t,r){"use strict";function o(e,t){let r=Math.sin(t),o=Math.cos(t);return{x:e.x*o-e.y*r,y:e.x*r+e.y*o}}function n(e,t,r){let n={x:e.x-t.x,y:e.y-t.y};return n=o(n,r),{x:t.x+n.x,y:t.y+n.y}}function i(e){return e/180*Math.PI}Object.defineProperty(r,"__esModule",{value:!0}),r.getPointDistance=function(e,t){return Math.hypot(e.x-t.x,e.y-t.y)},r.rotatePoint=o,r.rotatePointDeg=function(e,t){return o(e,i(t))},r.rotatePointAround=n,r.rotatePointAroundDeg=function(e,t,r){return n(e,t,i(r))},r.degree2Radian=i,r.normalizeVector=function(e,t=1){const r=Math.hypot(e.x,e.y)/t;return{x:e.x/r,y:e.y/r}},r.diffPoint=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},r.addPoint=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},r.isEqualPoint=function(e,t){return e.x===t.x&&e.y===t.y},r.isPointLike=function(e){return!!e&&"number"==typeof e.x&&"number"==typeof e.y},r.isPointInPolygon=function(e,t){let r,o,n,i=t.length-1,a=!1,s=e.x,c=e.y;for(r=0;r<t.length;r++)o=t[r],n=t[i],(o.y<c&&n.y>=c||n.y<c&&o.y>=c)&&(o.x<=s||n.x<=s)&&o.x+(c-o.y)/(n.y-o.y)*(n.x-o.x)<s&&(a=!a),i=r;return a},r.convexPointHull=function(e){(e=[...e]).sort((e,t)=>e.x!==t.x?e.x-t.x:e.y-t.y);const t=e.length,r=[];for(let n=0;n<2*t;n++){const i=n<t?n:2*t-1-n;for(;r.length>=2&&o(r[r.length-2],r[r.length-1],e[i]);)r.pop();r.push(e[i])}return r.pop(),r;function o(e,t,r){const o=(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x),n=(e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y);return o<0||0===o&&n<=0}},r.Point=function(e,t){return{x:e,y:t}}},{}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isUndefined=function(e){return void 0===e},r.isNull=function(e){return null===e},r.isObject=function(e){const t=typeof e;return"function"===t||"object"===t&&!!e},r.isEmpty=function(e){return""===e||(null==e||(!!(r.isObject(e)&&Object.keys(e).length<=0)||!!(Array.isArray(e)&&e.length<=0)))},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),r.isArray=function(e){return Array.isArray(e)},r.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)},r.isArguments=function(e){return"[object Arguments]"===toString.call(e)},r.isFunction=function(e){return"[object Function]"===toString.call(e)},r.isString=function(e){return"[object String]"===toString.call(e)},r.isNumber=function(e){return"[object Number]"===toString.call(e)},r.isDate=function(e){return"[object Date]"===toString.call(e)},r.isRegExp=function(e){return"[object RegExp]"===toString.call(e)},r.isError=function(e){return"[object Error]"===toString.call(e)},r.isNaN=function(e){return r.isNumber(e)&&e!==+e},r.subtract=function(e,t){let r={};for(let o of Object.keys(t))e[o]!==t[o]&&(r[o]=t[o]);return r},Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}),r.isEqual=function(e,t){return Object.is(e,t)},r.clone=function(e){return r.isObject(e)?e:Array.isArray(e)?e.slice():Object.assign({},e)},r.deepClone=function(e){let t=r.clone(e);return Object.keys(t).forEach(e=>{let o=t[e];r.isObject(o)&&(t[e]=r.deepClone(o))}),t}},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./models/workbook");r.Workbook=o.default;var n=e("./models/sheet");r.Sheet=n.default;var i=e("./models/topic");r.Topic=i.default;var a=e("./validator");r.validator=a.default},{"./models/sheet":96,"./models/topic":103,"./models/workbook":104,"./validator":105}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-model");r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.BASE_COMPONENT}init(e){this.ownerSheet(e)}triggerModelChanged(...e){this.emit(e[0],...e.slice(1)),this.ownerSheet().emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE)}ownerWorkbook(e){return e&&(this._ownerWorkbook=e),this._ownerWorkbook}ownerSheet(e){return e&&(this._ownerSheet=e),this._ownerSheet}parent(e){return void 0!==e&&(this.emit("beforeParentChange"),this._parent=e,this.emit("afterParentChange")),this._parent}getUndo(){return this.ownerSheet().getUndo()}isOrphan(){const e=this.parent();return!e||e.isOrphan()}}},{"../common/constants":66,"./base-model":87}],87:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("events"),n=e("../common/utils");r.default=class extends o.EventEmitter{constructor(e,t={}){super(),this._initData=e,this._data=new a(e),this._options=t}toString(){return this._data.toString()}toJSON(){return this._data.toJSON()}getId(){return this._data.commit("get","id")}remove(e){if(!e)return this.reset();this._data.commit("delete",e)}reset(){this._data=null,this._data=new a(this._initData),this.removeAllListeners()}get(e){return this._data.commit("get",e)}set(e,t){this._data.commit("set",e,t)}};const i=new WeakMap;class a{constructor(e){this._committing=!1,this.get=this._commitWrapper(e=>{const{obj:t,key:r}=this._getWrappedParentForKey(e);return t[r]}),this.set=this._commitWrapper((e,t)=>{const{obj:r,key:o}=this._getWrappedParentForKey(e);r[o]=t}),this.delete=this._commitWrapper(e=>{const{obj:t,key:r}=this._getWrappedParentForKey(e);delete t[r]}),this.keys=this._commitWrapper(e=>{const t=i.get(this);return Object.keys(t)}),i.set(this,e)}_checkCommittingState(){if(!this._committing&&"development"===t.env.NODE_ENV)throw new Error("Guy, don't invoke method 'get | set | delete' of DataWrapper directly. MUST invoke 'commit' method instead.")}_getWrappedParentForKey(e){const t=i.get(this);if(n.isString(e))return{obj:t,key:e};if(n.isArray(e)){let r=t;for(let t=0;t<e.length-1;t++){if(n.isUndefined(r))return{obj:{},key:e[t]};r=r[e[t]]}return{obj:r,key:e[e.length-1]}}}toString(){const e=i.get(this);return JSON.stringify(e)}getOriginalData(){return i.get(this)}toJSON(){return JSON.parse(JSON.stringify(this.getOriginalData()))}_commitWrapper(e){return(t,r)=>{if(this._checkCommittingState(),"function"==typeof e)return e.call(this,t,r)}}commit(e,t,r){let o;const n=this._committing;this._committing=!0;const i=this[e];return"function"==typeof i&&(o=i.call(this,t,r)),this._committing=n,o}}}).call(this)}).call(this,e("_process"))},{"../common/utils":80,_process:52,events:45}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./range-component"),i="get",a="set",s="title";r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.BOUNDARY}getTitle(){return this._data.commit(i,s)}changeTitle(e){const t=this.getTitle();t!==e&&(this._data.commit(a,s,e),this.getUndo().add({undo:()=>{this.changeTitle(t)},redo:()=>{this.changeTitle(e)}}))}}},{"../common/constants":66,"./range-component":93}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component"),i="visibility",a="position",s="markers";r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.LEGEND,this.modelEvents={legendAddMarker:"legendAddMarker",legendRemoveMarker:"legendRemoveMarker",legendMarkerDescChanged:"legendMarkerDescChanged"},this._liveMarkerMap={}}init(e){super.init(e),this._initEventsListener()}getLiveMarkerMap(){return Object.assign({},this._liveMarkerMap)}_initEventsListener(){const e=this.ownerSheet(),t=e.modelEvents;e.on(t.topicAddMarker,this._onTopicAddMarker.bind(this)),e.on(t.topicChangeMarker,this._onTopicChangeMarker.bind(this)),e.on(t.topicRemoveMarker,this._onTopicRemoveMarker.bind(this))}_onTopicAddMarker(e){const t=this._liveMarkerMap,r=e.markerId;t[r]?t[r]++:(t[r]=1,this.emit(this.modelEvents.legendAddMarker,r))}_onTopicChangeMarker(e){}_onTopicRemoveMarker(e){const t=this._liveMarkerMap,r=e.markerId;--t[r]||(delete t[r],this.emit(this.modelEvents.legendRemoveMarker,r))}isVisible(){return"visible"===this._data.commit("get",i)}setVisible(e){this._data.commit("set",i,e?"visible":"hidden"),this.getUndo().add({undo:()=>this.setLegendDisplay(!e),redo:()=>this.setLegendDisplay(e)})}setLegendDisplay(e){return this.setVisible(e)}getPosition(){return this._data.commit("get",a)}setPosition(e){const t=this._data.commit("get",a);e?this._data.commit("set",a,e):this._data.commit("delete",a),this.getUndo().add({undo:()=>this.setLegendPosition(t),redo:()=>this.setLegendPosition(e)})}setLegendPosition(e){return this.setPosition(e)}getUserMarkerDescription(){return JSON.parse(JSON.stringify(this._data.commit("get",s)))}setUserMarkerDescription(e,t){const r=JSON.parse(JSON.stringify(this._data.commit("get",s)||{})),o=(r[e]||{}).name;t?r[e]={name:t}:delete r[e],this._data.commit("set",s,r),this.emit(this.modelEvents.legendMarkerDescChanged),this.getUndo().add({undo:()=>this.setUserMarkerDescription(e,o),redo:()=>this.setUserMarkerDescription(e,t)})}}},{"../common/constants":66,"./base-component":86}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component");r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.MODEL_TYPE.MARKER}}},{"../common/constants":66,"./base-component":86}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component");r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.NOTE}}},{"../common/constants":66,"./base-component":86}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component");r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.NUMBERING}createEmptyNumbering(){return{numberFormat:"",prefix:"",suffix:""}}changeNumbering(e,t){this._data.commit("set",e,t),this.emit("changeNumbering",e,t)}}},{"../common/constants":66,"./base-component":86}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./style-component"),i="range",a="get",s="set";r.default=class extends n.default{getRange(){return this._data.commit(a,i)}setRange(e){const t=this.getRange();e!==t&&(this._data.commit(s,i,e),this.getUndo().add({undo:()=>this.setRange(t),redo:()=>this.setRange(e)}))}get rangeStart(){const e=this.getRange();return e===o.MASTER_RANGE?-1:parseInt(e.match(/\d+/g)[0],10)}get rangeEnd(){const e=this.getRange();return e===o.MASTER_RANGE?-1:parseInt(e.match(/\d+/g)[1],10)}}},{"../common/constants":66,"./style-component":97}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./style-component"),i=e("../common/utils"),a="get",s="set",c="title",l="end1Id",d="end2Id",u="controlPoints",h="change:title",p="change:endPoints",m="change:controlPoints";r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.RELATIONSHIP}getTitle(){return this._data.commit(a,c)}changeTitle(e){let t=this.getTitle();t!==e&&(this._data.commit(s,c,e),this.triggerModelChanged(h),this.getUndo().add({undo:()=>this.changeTitle(t),redo:()=>this.changeTitle(e)},"R-changeTitle"))}getEnd1Id(){return this._data.commit(a,l)}getEnd2Id(){return this._data.commit(a,d)}changeEndPoints(e){const t={end1Id:this.getEnd1Id(),end2Id:this.getEnd2Id()};t.end1Id===e.end1Id&&t.end2Id===e.end2Id||(e.end1Id&&e.end1Id!==t.end1Id&&this._data.commit(s,l,e.end1Id),e.end2Id&&e.end2Id!==t.end2Id&&this._data.commit(s,d,e.end2Id),this.triggerModelChanged(p),this.getUndo().add({undo:()=>{this.changeEndPoints(t)},redo:()=>{this.changeEndPoints(e)}},"R-changeEndPoints"))}getControlPoint0(){return this._data.commit(a,u)[0]}getControlPoint1(){return this._data.commit(a,u)[1]}changeControlPoints(e){if(!e||0===Object.keys(e).length)return;const t=this._data.commit(a,u)||{},r=Object.assign({},t),o=!!e[0]&&!i.isEqualPoint(e[0],r[0]),n=!!e[1]&&!i.isEqualPoint(e[1],r[1]);if(!o&&!n)return;const c=Object.assign({},r,e);this._data.commit(s,u,c),this.triggerModelChanged(m),this.getUndo().add({undo:()=>{this.changeControlPoints(r)},redo:()=>{this.changeControlPoints(c)}},"R-changeControlPoints")}}},{"../common/constants":66,"../common/utils":80,"./style-component":97}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./boundary"),i=e("./legend"),a=e("./marker"),s=e("./notes"),c=e("./numbering"),l=e("./relationship"),d=e("./topic-extension"),u=e("./style"),h=e("./summary"),p=e("./theme"),m=e("./topic"),f=e("./topic-image"),g={[o.COMPONENT_TYPE.LEGEND]:i.default,[o.COMPONENT_TYPE.THEME]:p.default,[o.COMPONENT_TYPE.BOUNDARY]:n.default,[o.COMPONENT_TYPE.RELATIONSHIP]:l.default,[o.COMPONENT_TYPE.TOPIC]:m.default,[o.COMPONENT_TYPE.STYLE]:u.default,[o.COMPONENT_TYPE.SUMMARY]:h.default,[o.COMPONENT_TYPE.IMAGE]:f.default,[o.COMPONENT_TYPE.MARKER]:a.default,[o.COMPONENT_TYPE.NOTE]:s.default,[o.COMPONENT_TYPE.NUMBERING]:c.default,[o.COMPONENT_TYPE.EXTENSION]:d.default},y=[o.COMPONENT_TYPE.THEME,o.COMPONENT_TYPE.TOPIC,o.COMPONENT_TYPE.BOUNDARY,o.COMPONENT_TYPE.SUMMARY,o.COMPONENT_TYPE.RELATIONSHIP,o.COMPONENT_TYPE.STYLE],v=(e,t,r,n={})=>(!r.id&&y.includes(t)&&(r.id=e.generateComponentId()),t===o.COMPONENT_TYPE.SUMMARY&&(r.topicId||(r.topicId=e.generateComponentId())),!0);r.default=function(e,t,r,o={}){if(!v(e,t,r,o))throw new Error(`${t} data check error!`);const n=g[t];if(!n)throw new Error(`${t} is not supported.`);const i=new n(r,o);return i.init(e),i}},{"../common/constants":66,"./boundary":88,"./legend":89,"./marker":90,"./notes":91,"./numbering":92,"./relationship":94,"./style":98,"./summary":99,"./theme":100,"./topic":103,"./topic-extension":101,"./topic-image":102}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("../common/utils"),i=e("../common/config"),a=e("../common/utils/langs"),s=e("./sheet-component-factory"),c=e("./style-component"),l=e("../common/undo"),d="rootTopic",u="get",h="set",p="legend",m="title",f="relationships",g="theme",y="topicPositioning",v="topicOverlapping",_={ADD_RELATIONSHIP:"addRelationship",REMOVE_RELATIONSHIP:"removeRelationship",ADD_THEME:"addTheme",CHANGE_THEME:"changeTheme"};r.default=class extends c.default{constructor(e,t={}){super(e,t),this.componentType=o.MODEL_TYPE.SHEET,this._config=new i.Config,this._idMap={},this._textTranslator=null,this.modelEvents={topicAddMarker:"topicAddMarker",topicChangeMarker:"topicChangeMarker",topicRemoveMarker:"topicRemoveMarker"},this.init(),t.undo?this._undoManager=t.undo:(this._undoManager=new l.default,this._undoManager.setStackLimitedLength(1/0))}init(){super.init(this),this._initLegend(),this._initRootTopic(),this._initRelationships();const e=this._data.commit(u,g);this._initTheme(e),this._enableOldFreePosition()}_initLegend(){const e=this._data.commit(u,p)||{};this._legend=this.createComponent(o.MODEL_TYPE.LEGEND,e),this._legend.parent(this)}_initRootTopic(){this._rootTopic=this.createComponent(o.COMPONENT_TYPE.TOPIC,this._data.commit("get",d),{type:o.TOPIC_TYPE.ROOT}),this._rootTopic.parent(this)}_initRelationships(){this._relationships=[];const e=this._data.commit(u,f);e&&e.forEach(e=>{const t=this.createComponent(o.COMPONENT_TYPE.RELATIONSHIP,e);t.parent(this),this._relationships.push(t),this.emit(_.ADD_RELATIONSHIP,t,this)})}getUndo(){return this._undoManager}ownerSheet(){return this}getLegend(){return this._legend}getRootTopic(){return this._rootTopic}replaceRootTopic(e){this._rootTopic.remove(),this._data.commit("set",d,e),this._rootTopic=this.createComponent(o.COMPONENT_TYPE.TOPIC,e,{type:o.TOPIC_TYPE.ROOT}),this._rootTopic.parent(this)}getRelationships(){return[...this._relationships]}addRelationship(e,t={}){const r=this.createComponent(o.COMPONENT_TYPE.RELATIONSHIP,e);r.parent(this);const n=this._relationships,i=this._data.commit(u,f);i?i.push(e):this._data.commit(h,f,[e]),this.emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE),n.push(r),this.emit(_.ADD_RELATIONSHIP,r,this),this.getUndo().add({undo:()=>this.removeRelationship(r),redo:()=>this.addRelationship(e)},"R-add")}removeRelationship(e){const t=this._relationships,r=t.indexOf(e);r<0||(this._data.commit(u,f).splice(r,1),this.emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE),t.splice(r,1),e.parent(null),e.remove(),this.emit(_.REMOVE_RELATIONSHIP,e),this.getUndo().add({undo:()=>this.addRelationship(e.toJSON()),redo:()=>this.removeRelationship(e)},"R-remove"))}getTheme(){return this._theme}_initTheme(e){if(e){const t=this.createComponent(o.COMPONENT_TYPE.THEME,e);t.parent(this),this._theme=t}}changeTheme(e,t={}){const r=this.getTheme(),n=this._data.commit(u,g);this._data.commit(h,g,e),this._initTheme(e),r?(t.fixUserStyleWhenChangeTheme&&t.fixUserStyleWhenChangeTheme(),this.emit(_.CHANGE_THEME,this._theme)):this.emit(_.ADD_THEME,this._theme),this.getUndo().add({undo:()=>{this.changeTheme(n)},redo:()=>{this.changeTheme(e)}},"changeTheme"),this.emit(o.EVENTS.AFTER_THEME_CHANGED),this.emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE)}changeFreePosition(e){const t=this._data.commit(u,y),r=e?"free":"fixed";r===t||!t&&"fixed"===r||(this._data.commit(h,y,r),this.emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE),this.getUndo().add({undo:()=>{this._changePositioning(t)},redo:()=>{this._changePositioning(r)}}))}isFreePosition(){return"free"===this._data.commit(u,y)}_changePositioning(e){const t=this.get("topicPositioning");e===t||!t&&"fixed"===e||(this.set("topicPositioning",e),this.emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE),this.getUndo().add({undo:()=>{this._changePositioning(t)},redo:()=>{this._changePositioning(e)}}))}_enableOldFreePosition(){void 0===this._data.commit(u,y)&&(this.getRootTopic().getChildrenByType(o.TOPIC_TYPE.ATTACHED).some(e=>!!e._data.position)?this._data.commit(h,y,"free"):this._data.commit(h,y,"fixed"))}changeOverlap(e){const t=this._data.commit(u,v);((e,t)=>e===t||!e&&"none"===t||"none"===e&&!t)(e,t)||(this._data.commit(h,v,e),this.emit(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE),this.getUndo().add({undo:()=>this.changeOverlap(t),redo:()=>this.changeOverlap(e)}))}isTopicOverlapping(){return"overlap"===this._data.commit(u,v)}createComponent(e,t,r={}){let o=s.default(this,e,t,r);return this._idMap[o.getId()]=o,o}generateComponentId(){let e=n.UUID();for(;this._idMap[e];)e=n.UUID();return e}getTitle(){return this.get(m)}changeTitle(e){return this.set(m,e)}findComponentById(e){return this._idMap[e]}remove(){super.remove(),this.parent(null)}setTextTranslator(e){this._textTranslator=e}getTranslatedText(e){return this._textTranslator?this._textTranslator(e):a.default.translate(o.LANGS.ZH_CN,e)}relationships(){return console.error("need to remove"),this.getRelationships()}getLegendModel(){return console.error("need to remove"),this.getLegend()}isFreePositionEnabled(){return console.error("need to remove"),this.isFreePosition()}}},{"../common/config":58,"../common/constants":66,"../common/undo":77,"../common/utils":80,"../common/utils/langs":81,"./sheet-component-factory":95,"./style-component":97}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component"),i=e("../common/utils"),a=" ",s="get",c="set",l="delete",d="style",u="class",h={[o.STYLE_KEYS.SHAPE_CLASS]:"summaryLineClass",[o.STYLE_KEYS.LINE_WIDTH]:"summaryLineWidth",[o.STYLE_KEYS.LINE_COLOR]:"summaryLineColor"},p="changeClass",m="changeStyle";r.default=class extends n.default{constructor(e,t={}){super(e,t),this.componentType=o.COMPONENT_TYPE.STYLE_COMPONENT,this._classList=[]}init(e){super.init(e);const t=this._data.commit(s,d);this._initStyle(t)}_initStyle(e){return e&&e.properties||(e=this._createEmptyStyleData(),this._data.commit(c,d,e)),this._style=this.ownerSheet().createComponent(o.COMPONENT_TYPE.STYLE,e),this._style.parent(this),this._style}_createEmptyStyleData(){return{id:i.UUID(),properties:{}}}getClassList(){if(this._classList)return this._classList;this._classList=[];const e=this._data.commit(s,u);return"string"==typeof e&&(this._classList=e.split(a).filter(e=>""!==e)),this._classList}addClass(e,t){if(!e||e.includes(a))return;let r=this.getClassList();i.isDef(e)&&!r.includes(e)&&(r.splice(t,0,e),this._data.commit(c,u,r.join(a)),this.triggerModelChanged(p,e),this.getUndo().add({undo:()=>{this.removeClass(e)},redo:()=>{this.addClass(e,t)}}))}removeClass(e){let t=this.getClassList();if(i.isDef(e)&&t.includes(e)){let r=t.indexOf(e);t.splice(r,1),t.length>0?this._data.commit(c,u,t.join(a)):this._data.commit(l,u),this.triggerModelChanged(p,e),this.getUndo().add({undo:()=>{this.addClass(e,r)},redo:()=>{this.removeClass(e)}})}}getClassValue(e){const t=this.getClassList(),r=this.ownerSheet().getTheme();let o;if(r)for(let n of t){let t=r.getStyleValue(n,e);t&&(o=t)}return o}getStyle(){return this._style}getStyleValue(e){return this._style.getValue(e)}changeStyle(e,t){const r=e;let n=this.getStyleValue(e);if(n!==t){if(t&&e===o.STYLE_KEYS.TEXT_DECORATION){let[e,r]=t.split(":");t=r,r?"add"===e?("none"!==n&&n||(n=""),t=n.includes(t)?n:n+` ${t}`):"rm"===e&&(n||(n=""),""===(t=n.includes(t)&&n.replace(t,"").trim())&&(t="none")):t=e.trim()}t?this._style.setValue(e,t):this._style.removeKey(e),this.componentType===o.COMPONENT_TYPE.SUMMARY&&h[e]&&(e=h[e]),this.triggerModelChanged(m,e,t),this.getUndo().add({undo:()=>{this.changeStyle(r,n)},redo:()=>{this.changeStyle(r,t)}})}}}},{"../common/constants":66,"../common/utils":80,"./base-component":86}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component"),i="get",a="set",s="delete",c="properties";r.default=class extends n.default{constructor(e,t={}){super(e,t),this.componentType=o.COMPONENT_TYPE.STYLE}keys(){const e=this._data.commit(i,c);return e?Object.keys(e):[]}getValue(e){return this._data.commit(i,[c,e])}setValue(e,t){this._data.commit(a,[c,e],t)}removeKey(e){if(!e)return this.remove();this._data.commit(s,[c,e])}}},{"../common/constants":66,"./base-component":86}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./range-component"),i="get",a="topicId";r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.SUMMARY}getSummaryTopic(){const e=this._data.commit(i,a);return this.ownerSheet().findComponentById(e)}}},{"../common/constants":66,"./range-component":93}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants/index"),n=e("./base-component"),i=e("../common/utils"),a="get",s="set",c="delete",l="keys",d="changeThemeClass";r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.THEME}init(e){super.init(e),this.getAllClassNames().forEach(e=>{const t=this._data.commit(a,e);this._properties[e]=this.ownerSheet().createComponent(o.COMPONENT_TYPE.STYLE,t),this._properties[e].parent(this)})}hasClass(e){return!!this._properties[e]}getStyle(e){return this._properties[e]}getTitle(){return this._data.commit("get","title")}changeTitle(e){return this._data.commit("set","title",e)}getStyleValue(e,t){const r=this._properties[e];return r&&r.getValue(t)}getAllClassNames(){return this._data.commit(l).filter(e=>{})}changeClass(e,t){if(!i.isDef(t))return delete this._properties[e],this._data.commit(c,e),void this.triggerModelChanged(d);const r=JSON.parse(JSON.stringify(t)),n=this.ownerSheet().createComponent(o.COMPONENT_TYPE.STYLE,r),a=this._properties[e]?this._properties[e].toJSON():null;this._properties[e]=n,this._properties[e].parent(this),this._data.commit(s,e,r),this.triggerModelChanged(d),this.getUndo().add({undo:()=>this.changeClass(e,a),redo:()=>this.changeClass(e,t)})}}},{"../common/constants/index":66,"../common/utils":80,"./base-component":86}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("./base-component"),n=e("../common/constants"),i="provider";r.default=class extends o.default{constructor(){super(...arguments),this.componentType=n.COMPONENT_TYPE.EXTENSION}getProvider(){return this._data.commit("get",i)}}},{"../common/constants":66,"./base-component":86}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("./base-component");r.default=class extends n.default{constructor(){super(...arguments),this.componentType=o.COMPONENT_TYPE.IMAGE}getSrc(){return this.get("src")}getWidth(){return this.get("width")}getHeight(){return this.get("height")}getAlign(){return this.get("align")}resize(e){const t=this.getWidth(),r=this.getHeight();return this._resize(e),this.getUndo().add({undo:()=>this._resize({width:t,height:r}),redo:()=>this._resize(e)}),this}_resize(e){this.set("width",e.width),this.set("height",e.height)}align(e){const t=this.getAlign();return this._align(e),this.getUndo().add({undo:()=>this._align(t),redo:()=>this._align(e)}),this}_align(e){this.set("align",e)}removeSelf(){const e=this.parent();this.parent(null),e.removeImage()}}},{"../common/constants":66,"./base-component":86}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("./style-component"),n=e("../common/constants"),i=e("../common/utils"),a=Object.freeze({type:n.TOPIC_TYPE.ATTACHED}),s="children",c="boundaries",l="summaries",d="markers",u="labels",h="notes",p="image",m="href",f="numbering",g="branch",y="title",v="position",_="structureClass",E="width",T="extensions";r.default=class extends o.default{constructor(e,t=i.deepClone(a)){super(e,t),this.componentType=n.COMPONENT_TYPE.TOPIC,this.modelEvents={addTopic:"addTopic",removeTopic:"removeTopic",moveChildTopic:"moveChildTopic",addBoundary:"addBoundary",removeBoundary:"removeBoundary",addSummary:"addSummary",removeSummary:"removeSummary",addImage:"addImage",removeImage:"removeImage",addMarker:"addMarker",removeMarker:"removeMarker",addLabel:"addLabel",removeLabel:"removeLabel",addNotes:"addNotes",removeNotes:"removeNotes",addHref:"addHref",removeHref:"removeHref",addNumbering:"addNumbering",removeNumbering:"removeNumbering",changeTitle:"changeTitle",changePosition:"changePosition",changeStructureClass:"changeStructureClass",changeCustomWidth:"changeCustomWidth",extensionEventMap:{add:{[n.EXTENSION_PROVIDER.AUDIO_NOTES]:"addAudioNotes",[n.EXTENSION_PROVIDER.TASK_INFO]:"addTaskInfo",[n.EXTENSION_PROVIDER.UNBALANCED_MAP]:"addUnbalancedMapInfo"},remove:{[n.EXTENSION_PROVIDER.AUDIO_NOTES]:"removeAudioNotes",[n.EXTENSION_PROVIDER.TASK_INFO]:"removeTaskInfo",[n.EXTENSION_PROVIDER.UNBALANCED_MAP]:"removeUnbalancedMapInfo"}},labelsChanged:"labelsChanged",informationChanged:"informationChanged"},this._childrenTopicMap={},this._boundaries=[],this._summaries=[],this._markers=[],this._image=null,this._notes=null,this._numbering=null,this._extensionMap={},this._topicType=t.type||n.TOPIC_TYPE.ATTACHED}init(e){super.init(e),this._initMarkers(),this._initChildren(),this._initBoundaries(),this._initSummaries(),this._initImage(),this._initNotes(),this._initNumbering(),this._initExtensionMap()}_initChildren(){const e=this._data.commit("get",s);e&&Object.keys(e).forEach(t=>{const r=e[t];if(Array.isArray(r))for(let e=0;e<r.length;++e){const o=r[e];this._addChildTopic(o,{type:t,index:e})}})}_initBoundaries(){const e=this._data.commit("get",c);Array.isArray(e)&&e.forEach(e=>{this._addBoundary(e)})}_initSummaries(){const e=this._data.commit("get",l);Array.isArray(e)&&e.forEach(e=>{this._addSummary(e,{},!0)})}_initMarkers(){const e=this._data.commit("get",d);Array.isArray(e)&&e.forEach(e=>{this._addMarker(e)})}_initImage(){const e=this._data.commit("get",p);e&&this._addImage(e)}_initNotes(){const e=this._data.commit("get",h);e&&this._addNotes(e)}_initNumbering(){const e=this._data.commit("get",f);e&&this._addNumbering(e)}_initExtensionMap(){const e=this._data.commit("get",T);Array.isArray(e)&&e.forEach(e=>{this._addExtension(e.provider,e)})}getType(){return this._topicType}getChildren(){return this._initData}getChildrenByType(e){"string"==typeof e&&(e=[e]);const t=[];return e.forEach(e=>{const r=this._childrenTopicMap[e];Array.isArray(r)&&t.push(...r)}),t}addChildTopic(e,t=a){const r=Object.assign({},t),o=this._addChildTopic(e,r);this._data.commit("get",s)||this._data.commit("set",s,{});const n=this._data.commit("get",s);return n[r.type]||(n[r.type]=[]),(i.isUndefined(r.index)||i.isNull(r.index)||r.index<0)&&(r.index=this.getChildrenByType(r.type).length),n[r.type].splice(r.index,0,e),this.emit(this.modelEvents.addTopic),this.getUndo().add({undo:()=>this.removeChildTopic(o),redo:()=>this.addChildTopic(e,r)}),o}_addChildTopic(e,t){const r=this.ownerSheet().createComponent(n.COMPONENT_TYPE.TOPIC,e,t);return(i.isUndefined(t.index)||i.isNull(t.index)||t.index<0)&&(t.index=this.getChildrenByType(t.type).length),this._childrenTopicMap[t.type]||(this._childrenTopicMap[t.type]=[]),this._childrenTopicMap[t.type].splice(t.index,0,r),r.parent(this),r}getChildIndexByType(e,t){const r=this.getChildrenByType(e),o=t.getId();return r.map(e=>e.getId()).indexOf(o)}removeChildTopic(e){const t=e.getType(),r=this.getChildIndexByType(t,e);if(-1===r)throw new Error("target is not child of this topic");this._childrenTopicMap[t].splice(r,1);const o=this._data.commit("get",s);o[t].splice(r,1),o[t].length||delete o[t],i.isEmpty(o)&&this._data.commit("delete",s),e.remove(),this.emit(this.modelEvents.removeTopic),this.getUndo().add({undo:()=>this.addChildTopic(e.toJSON(),{type:t,index:r}),redo:()=>this.removeChildTopic(this._childrenTopicMap[t][r])})}moveChildTopic(e,t){if(i.isUndefined(e)||i.isUndefined(t))return;if(e===t)return;const r=this._childrenTopicMap[n.TOPIC_TYPE.ATTACHED];if(!Array.isArray(r))return;if(!(e>=0&&e<=r.length-1&&t>=0&&t<=r.length-1))return;const o=r[e];this._childrenTopicMap[n.TOPIC_TYPE.ATTACHED].splice(e,1),this._childrenTopicMap[n.TOPIC_TYPE.ATTACHED].splice(t,0,o);const a=this._data.commit("get",s);a[n.TOPIC_TYPE.ATTACHED].splice(e,1),a[n.TOPIC_TYPE.ATTACHED].splice(t,0,o.toJSON()),this.emit(this.modelEvents.moveChildTopic,e,t),this.getUndo().add({undo:()=>this.moveChildTopic(t,e),redo:()=>this.moveChildTopic(e,t)})}getBoundaries(){return[...this._boundaries]}addBoundary(e,t={}){const r=this._addBoundary(e,t);if(r)return this._data.commit("get",c)||this._data.commit("set",c,[]),this._data.commit("get",c).push(e),this.emit(this.modelEvents.addBoundary),this.getUndo().add({undo:()=>this.removeBoundary(r),redo:()=>this.addBoundary(e,t)}),r}_addBoundary(e,t={}){const r=this.ownerSheet().createComponent(n.COMPONENT_TYPE.BOUNDARY,e,t);return this._boundaries.push(r),r.parent(this),r}removeBoundary(e){const t=this._boundaries.indexOf(e);if(-1===t)return;this._boundaries.splice(t,1);const r=this._data.commit("get",c);r.splice(t,1),0===r.length&&this._data.commit("delete",c),e.remove(),this.emit(this.modelEvents.removeBoundary),this.getUndo().add({undo:()=>this.addBoundary(e.toJSON()),redo:()=>this.removeBoundary(this._boundaries[t])})}getSummaries(){return[...this._summaries]}addSummary(e,t,r={}){this._addSummary(e,r)&&(t.id=e.topicId,this.addChildTopic(t,{type:n.TOPIC_TYPE.SUMMARY}))}_addSummary(e,t={},r=!1){const o=this.ownerSheet().createComponent(n.COMPONENT_TYPE.SUMMARY,e,t);return t.index&&(t.index=this._summaries.length),this._summaries.splice(t.index,0,o),o.parent(this),r||(this._data.commit("get",l)||this._data.commit("set",l,[]),this._data.commit("get",l).splice(t.index,0,e),this.emit(this.modelEvents.addSummary,e),this.getUndo().add({undo:()=>this._removeSummary(o),redo:()=>this._addSummary(e,t)})),o}removeSummary(e){this._removeSummary(e);const t=e.getSummaryTopic();this.removeChildTopic(t)}_removeSummary(e){const t=this._summaries.indexOf(e);if(-1===t)return;this._summaries.splice(t,1);const r=this._data.commit("get",l);r.splice(t,1),0===r.length&&this._data.commit("delete",l),e.remove(),this.triggerModelChanged(this.modelEvents.removeSummary),this.getUndo().add({undo:()=>this._addSummary(e.toJSON(),{index:t}),redo:()=>this._removeSummary(this._summaries[t])})}_canCollapse(){return this.getChildrenByType(n.TOPIC_TYPE.ATTACHED).length>0&&!this.isRootTopic()}isFolded(){return"folded"===this._data.commit("get",g)&&this._canCollapse()}extendTopic(){this.isFolded()&&(this._data.commit("delete",g),this.getUndo().add({undo:()=>this.collapseTopic(),redo:()=>this.extendTopic()}))}collapseTopic(){!this.isFolded()&&this._canCollapse()&&(this._data.commit("set",g,"folded"),this.getUndo().add({undo:()=>this.extendTopic(),redo:()=>this.collapseTopic()}))}getMarkers(){return[...this._markers]}addMarker(e,t={}){const r=this._addMarker(e,t);this._data.commit("get",d)||this._data.commit("set",d,[]),this._data.commit("get",d).push(e),this.getUndo().add({undo:()=>this.removeMarker(r.toJSON()),redo:()=>this.addMarker(e,t)})}_addMarker(e,t={}){const r=this.ownerSheet().createComponent(n.COMPONENT_TYPE.MARKER,e,t);this._markers.push(r),this.emit(this.modelEvents.addMarker);const o=this.ownerSheet();return o.emit(o.modelEvents.topicAddMarker,e),r}removeMarker(e){const t=this._markers.map(e=>e.get("markerId")).indexOf(e.markerId);if(-1===t)return;const r=this._markers[t];this._markers.splice(t,1);const o=this._data.commit("get",d);o.splice(t,1),0===o.length&&this._data.commit("delete",d),r.remove();const n=r._data.getOriginalData();this.emit(this.modelEvents.removeMarker,n);const i=this.ownerSheet();i.emit(i.modelEvents.topicRemoveMarker,n),this.getUndo().add({undo:()=>this.addMarker(r.toJSON()),redo:()=>this.removeMarker(n)})}getImage(){return this._image}addImage(e,t={}){this._image&&this.removeImage(),this._addImage(e,t),this._data.commit("set",p,e),this.emit(this.modelEvents.addImage),this.getUndo().add({undo:()=>this.removeImage(),redo:()=>this.addImage(e,t)})}_addImage(e,t={}){const r=this.ownerSheet().createComponent(n.COMPONENT_TYPE.IMAGE,e,t);return r.parent(this),this._image=r,r}removeImage(){if(!this._image)return;const e=this._image;this._image=null,this._data.commit("delete",p),e.remove(),this.emit(this.modelEvents.removeImage),this.getUndo().add({undo:()=>this.addImage(e.toJSON()),redo:()=>this.removeImage()})}getLabels(){return[...this._data.commit("get",u)||[]]}addLabel(e,t={}){const r=this.getLabels();if(r.includes(e))return;const o=t.index||r.length;r.splice(o,0,e),this._data.commit("set",u,[...r]),this.emit(this.modelEvents.addLabel),this.getUndo().add({undo:()=>this.removeLabel(e),redo:()=>this.addLabel(e,t)})}removeLabels(){const e=this.getLabels();for(const t of e)this.removeLabel(t)}removeLabel(e){if(!e)return this.removeLabels();const t=this.getLabels(),r=t.indexOf(e);-1!==r&&(t.splice(r,1),t.length?this._data.commit("set",u,[...t]):this._data.commit("delete",u),this.emit(this.modelEvents.removeLabel),this.getUndo().add({undo:()=>this.addLabel(e,{index:r}),redo:()=>this.removeLabel(e)}))}getNotes(){return this._notes}addNotes(e,t={}){const r=this._addNotes(e,t);return this._data.commit("set",h,e),this.emit(this.modelEvents.addNotes),this.getUndo().add({undo:()=>this.removeNotes(),redo:()=>this.addNotes(e,t)}),r}_addNotes(e,t={}){const r=this.ownerSheet().createComponent(n.COMPONENT_TYPE.NOTE,e,t);return this._notes=r,r}removeNotes(){const e=this._notes;e&&(this._notes=null,this._data.commit("delete",h),e.remove(),this.emit(this.modelEvents.removeNotes),this.getUndo().add({undo:()=>this.addNotes(e.toJSON()),redo:()=>this.removeNotes()}))}getHref(){return this._data.commit("get",m)}addHref(e){this._data.commit("set",m,e),this.emit(this.modelEvents.addHref),this.getUndo().add({undo:()=>this.removeHref(),redo:()=>this.addHref(e)})}removeHref(){const e=this.getHref();e&&(this._data.commit("delete",m),this.emit(this.modelEvents.removeHref),this.getUndo().add({undo:()=>this.addHref(e),redo:()=>this.removeHref()}))}getNumbering(){return this._numbering}addNumbering(e,t={}){e?(this._data.commit("set",f,e),this._addNumbering(e,t)):this._data.commit("delete",f),this.emit(this.modelEvents.addNumbering),this.getUndo().add({undo:()=>this.removeNumbering(),redo:()=>this.addNumbering(e,t)})}_addNumbering(e,t={}){const r=this.ownerSheet().createComponent(n.COMPONENT_TYPE.NUMBERING,e,t);return this._numbering=r,r}changeNumbering(e,t){this._numbering.changeNumbering(e,t)}removeNumbering(){const e=this._numbering;e&&(this._numbering=null,this._data.commit("delete",f),this._numbering.remove(),this.emit(this.modelEvents.removeNumbering),this.getUndo().add({undo:()=>this.addNumbering(e.toJSON()),redo:()=>this.removeNumbering()}))}isRootTopic(){return this.getType()===n.TOPIC_TYPE.ROOT}getTitle(){return this._data.commit("get",y)}changeTitle(e){const t=this.getTitle();t!==e&&(this._data.commit("set",y,e),this.emit(this.modelEvents.changeTitle),this.getUndo().add({undo:()=>this.changeTitle(t),redo:()=>this.changeTitle(e)}))}getPosition(){return Object.assign({},this._data.commit("get",v))}changePosition(e){const t=this.getPosition();if(e&&i.isPointLike(e)){if(i.isEqualPoint(e,t))return;this._data.commit("set",v,e)}else this._data.commit("delete",v);this.emit(this.modelEvents.changePosition),this.getUndo().add({undo:()=>this.changePosition(t),redo:()=>this.changePosition(e)})}getStructureClass(){return this._data.commit("get",_)}changeStructureClass(e){const t=this.getStructureClass();t!==e&&(e?this._data.commit("set",_,e):this._data.commit("delete",_),this.emit(this.modelEvents.changeStructureClass),this.getUndo().add({undo:()=>this.changeStructureClass(t),redo:()=>this.changeStructureClass(e)}))}getCustomWidth(){return this._data.commit("get",E)}changeCustomWidth(e){const t=this.getCustomWidth();t!==e&&(e?this._data.commit("set",E,e):this._data.commit("delete",E),this.emit(this.modelEvents.changeCustomWidth),this.getUndo().add({undo:()=>this.changeCustomWidth(t),redo:()=>this.changeCustomWidth(e)}))}addExtension(e,t,r={}){this._addExtension(e,t,r);const o=Object.keys(this._extensionMap).map(e=>this._extensionMap[e]);this._data.commit("set",T,o),this.emit(this.modelEvents.extensionEventMap.add[e]),this.getUndo().add({undo:()=>this.removeExtension(e),redo:()=>this.addExtension(e,t,r)})}_addExtension(e,t,r={}){const o=this.ownerSheet().createComponent(n.COMPONENT_TYPE.EXTENSION,t,r);return this._extensionMap[e]=o,o}removeExtension(e){const t=this._extensionMap[e];if(!t)return;delete this._extensionMap[e];const r=Object.keys(this._extensionMap).map(e=>this._extensionMap[e]);r.length?this._data.commit("set",T,r):this._data.commit("delete",T),t.remove(),this.emit(this.modelEvents.extensionEventMap.remove[e]),this.getUndo().add({undo:()=>this.addExtension(e,t.toJSON()),redo:()=>this.removeExtension(e)})}getExtensions(){return Object.values(this._extensionMap)}getExtension(e){return this._extensionMap[e]}getAudioNotes(){return this._extensionMap[n.EXTENSION_PROVIDER.AUDIO_NOTES]}addAudioNotes(e,t={}){this.addExtension(n.EXTENSION_PROVIDER.AUDIO_NOTES,e,t)}removeAudioNotes(){this.removeExtension(n.EXTENSION_PROVIDER.AUDIO_NOTES)}getTaskInfo(){return this._extensionMap[n.EXTENSION_PROVIDER.TASK_INFO]}addTaskInfo(e,t={}){this.addExtension(n.EXTENSION_PROVIDER.TASK_INFO,e,t)}removeTaskInfo(){this.removeExtension(n.EXTENSION_PROVIDER.TASK_INFO)}getUnbalancedMapInfo(){return this._extensionMap[n.EXTENSION_PROVIDER.UNBALANCED_MAP]}addUnbalancedMapInfo(e,t={}){this.addExtension(n.EXTENSION_PROVIDER.UNBALANCED_MAP,e,t)}removeUnbalancedMapInfo(){this.removeExtension(n.EXTENSION_PROVIDER.UNBALANCED_MAP)}remove(){super.remove(),this.parent(null)}}},{"../common/constants":66,"../common/utils":80,"./style-component":97}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../common/constants"),n=e("../common/undo"),i=e("../common/config"),a=e("../common/utils"),s=e("./sheet"),c=e("./base-component");r.default=class extends c.default{constructor(e,t={}){super(e,t),this.componentType=o.COMPONENT_TYPE.WORKBOOK,this._sheets=[],this._config=new i.Config,this._initUndo(),this._initSheets()}_initUndo(){this._undoManager=new n.default,this._undoManager.setStackLimitedLength(1/0),this._undoManager.on(o.EVENTS.UNDO_STATE_CHANGE,(...e)=>this.emit(o.EVENTS.UNDO_STATE_CHANGE,...e))}_initSheets(){this._data.getOriginalData().forEach(e=>{const t=new s.default(e,{undo:this._undoManager});t.parent(this),this._sheets.push(t),this._listenSheetModel(t,e.id)})}_listenSheetModel(e,t){e&&e.on(o.EVENTS.AFTER_SHEET_CONTENT_CHANGE,()=>{this.emit(o.EVENTS.AFTER_WORKBOOK_CONTENT_CHANGE)})}addSheet(e,t={}){const r=this._sheets.findIndex(t=>t.getId()===e.id),n=new s.default(e,{undo:this._undoManager});if(n.parent(this),this._listenSheetModel(n,e.id),r>0)this._config.get(o.CONFIG.LOGGER).info(e.id),this._config.get(o.CONFIG.LOGGER).warn("try to add an existing sheet"),this._sheets[r]=n;else{const r=t.at||this._sheets.length,i={sheetModel:n,at:r};this.emit(o.EVENTS.BEFORE_ADD_NEW_SHEET,e,i),this._data.getOriginalData().splice(r,0,e),this._sheets.splice(r,0,n),this.emit(o.EVENTS.AFTER_ADD_NEW_SHEET,e,i)}return this.getUndo().add({undo:()=>this.removeSheet(e.id),redo:()=>this.addSheet(e)}),n}removeSheet(e){const t=this.getSheetById(e);if(!t)return;this.emit(o.EVENTS.BEFORE_REMOVE_SHEET_MODEL,e);const r=this._sheets.indexOf(t),n=t.toJSON();this._data.getOriginalData().splice(r,1),this._sheets.splice(r,1),t.remove(),this.emit(o.EVENTS.AFTER_REMOVE_SHEET_MODEL,e),this.getUndo().add({undo:()=>this.addSheet(n),redo:()=>this.removeSheet(e)}),this.emit(o.EVENTS.AFTER_WORKBOOK_CONTENT_CHANGE)}moveSheetTo(e,t){const r=this.getSheetById(e);if(!r)return;const n=this._sheets.indexOf(r),i=this._data.getOriginalData(),a=i.splice(n,1);t<0&&(t=0),t>this._sheets.length-1&&(t=this._sheets.length-1),i.splice(t,0,...a),this._sheets.splice(n,1),this._sheets.splice(t,0,r),this.getUndo().add({undo:()=>this.moveSheetTo(e,n),redo:()=>this.moveSheetTo(e,t)}),this.emit(o.EVENTS.AFTER_SHEET_ORDER_CHANGE),this.emit(o.EVENTS.AFTER_WORKBOOK_CONTENT_CHANGE)}getSheets(){return[...this._sheets]}getSheetByIndex(e){return this._sheets[e]}getSheetById(e){return this._sheets.find(t=>t.getId()===e)}findSheetIndex(e){return this._sheets.findIndex(t=>t.getId()===e)}getUndo(){return this._undoManager}createEmptySheet(e="",t=""){const r={id:a.UUID(),title:e,rootTopic:{id:a.UUID(),title:t}};return this.addSheet(r)}}},{"../common/config":58,"../common/constants":66,"../common/undo":77,"../common/utils":80,"./base-component":86,"./sheet":96}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("ajv"),n=e("../../schemas/schema.json"),i={boundary:e("../../schemas/boundary.json"),image:e("../../schemas/image.json"),marker:e("../../schemas/marker.json"),notes:e("../../schemas/notes.json"),numbering:e("../../schemas/numbering.json"),relationship:e("../../schemas/relationship.json"),sheet:e("../../schemas/sheet.json"),summary:e("../../schemas/summary.json"),theme:e("../../schemas/theme.json"),topic:e("../../schemas/topic.json")},a=new o({allErrors:!0});r.default=function(e){const t=function(){for(const e in i)n.definitions[e]=i[e];return a.compile(n)}(),r=t(e||{});return t.errors?{status:r,errors:t.errors}:{status:r,errors:null}}},{"../../schemas/boundary.json":106,"../../schemas/image.json":107,"../../schemas/marker.json":108,"../../schemas/notes.json":109,"../../schemas/numbering.json":110,"../../schemas/relationship.json":111,"../../schemas/schema.json":112,"../../schemas/sheet.json":113,"../../schemas/summary.json":114,"../../schemas/theme.json":115,"../../schemas/topic.json":116,ajv:1}],106:[function(e,t,r){t.exports={type:"object",properties:{id:{type:"string"},title:{type:"string"},titleUnedited:{type:"boolean"},range:{type:"string"}},required:["id","range"]}},{}],107:[function(e,t,r){t.exports={type:"object",properties:{src:{type:"string"}}}},{}],108:[function(e,t,r){t.exports={type:"object",properties:{markerId:{type:"string"}},required:["markerId"]}},{}],109:[function(e,t,r){t.exports={type:"object",properties:{plain:{type:"object",properties:{content:{type:"string"}},required:["content"]},html:{type:"object",properties:{content:{type:"object",properties:{paragraphs:{type:"array",items:{type:"object",properties:{style:{$ref:"#/definitions/style"},spans:{type:"array",items:{$ref:"#/definitions/noteSpan"}}}}}},required:["paragraphs"]}},required:["content"]}}}},{}],110:[function(e,t,r){t.exports={type:"object",properties:{numberFormat:{type:"string"},prefix:{type:"string"},suffix:{type:"string"},prependingNumbers:{type:"string",enum:["none"]}}}},{}],111:[function(e,t,r){t.exports={type:"object",properties:{id:{type:"string"},title:{type:"string"},titleUnedited:{type:"boolean"},style:{$ref:"#/definitions/style"},class:{type:"string"},end1Id:{type:"string"},end2id:{type:"string"},controlPoints:{type:"object",properties:{0:{type:"object",properties:{angle:{type:"number"},amount:{type:"number"}}},1:{type:"object",properties:{angle:{type:"number"},amount:{type:"number"}}}},required:["0","1"]}},required:["id","end1Id","end2Id","controlPoints"]}},{}],112:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-07/schema#",type:"array",items:{$ref:"#/definitions/sheet"},definitions:{textSpan:{type:"object",properties:{style:{$ref:"#/definitions/style"},text:{type:"string"},image:{type:"string"}},required:["text"]},imageSpan:{type:"object",properties:{style:{$ref:"#/definitions/style"},class:{type:"string"},image:{type:"string"}}},hyperlinkSpan:{type:"object",properties:{style:{$ref:"#/definitions/style"},class:{type:"string"},href:{type:"string"},spans:{type:"array",items:{$ref:"#/definitions/noteSpan"}}}},noteSpan:{anyOf:[{$ref:"#/definitions/textSpan"},{$ref:"#/definitions/textSpan"},{$ref:"#/definitions/hyperlinkSpan"}]},position:{type:"object",properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"]},style:{type:"object",properties:{id:{type:"string"},properties:{type:"object",additionalProperties:{type:"string"}}},required:["properties"]},legend:{type:"object",properties:{visibility:{type:"string",enum:["hidden","visible"]},position:{$ref:"#/definitions/style"},markers:{type:"object",additionalProperties:{type:"object",properties:{name:{type:"string"},resource:{type:"string"}}}},groups:{type:"object",additionalProperties:{type:"object",properties:{name:{type:"string"},markers:{type:"array",items:{type:"string"}}}}}}},settings:{},extension:{}}}},{}],113:[function(e,t,r){t.exports={type:"object",properties:{id:{type:"string"},title:{type:"string"},rootTopic:{$ref:"#/definitions/topic"},style:{$ref:"#/definitions/style"},topicPositioning:{type:"string",enum:["free","fixed"]},topicOverlapping:{type:"string",enum:["overlap","none"]},theme:{$ref:"#/definitions/theme"},relationships:{type:"array",items:{$ref:"#/definitions/relationship"}},legend:{$ref:"#/definitions/legend"},settings:{$ref:"#/definitions/settings"}},required:["id","rootTopic"]}},{}],114:[function(e,t,r){t.exports={type:"object",properties:{id:{type:"string"},topicId:{type:"string"},range:{type:"string"}},required:["id","range","topicId"]}},{}],115:[function(e,t,r){t.exports={type:"object",properties:{id:{type:"string"},importantTopic:{$ref:"#/definitions/style"},minorTopic:{$ref:"#/definitions/style"},expiredTopic:{$ref:"#/definitions/style"},centralTopic:{$ref:"#/definitions/style"},boundary:{$ref:"#/definitions/style"},floatingTopic:{$ref:"#/definitions/style"},subTopic:{$ref:"#/definitions/style"},mainTopic:{$ref:"#/definitions/style"},calloutTopic:{$ref:"#/definitions/style"},summaryTopic:{$ref:"#/definitions/style"},relationship:{$ref:"#/definitions/style"}}}},{}],116:[function(e,t,r){t.exports={type:"object",properties:{id:{type:"string"},title:{type:"string"},titleUnedited:{type:"boolean"},style:{$ref:"#/definitions/style"},class:{type:"string"},position:{$ref:"#/definitions/position"},structureClass:{type:"string"},branch:{type:"string",enum:["folded"]},customWidth:{type:"number"},labels:{type:"string"},numbering:{$ref:"#/definitions/numbering"},href:{type:"string"},notes:{$ref:"#/definitions/notes"},image:{$ref:"#/definitions/image"},children:{type:"object",properties:{attached:{type:"array",items:{$ref:"#/definitions/topic"}},detached:{type:"array",items:{$ref:"#/definitions/topic"}},summary:{type:"array",items:{$ref:"#/definitions/topic"}},callout:{type:"array",items:{$ref:"#/definitions/topic"}}}},markers:{type:"array",items:{$ref:"#/definitions/marker"}},boundaries:{type:"array",items:{$ref:"#/definitions/boundary"}},summaries:{type:"array",items:{$ref:"#/definitions/summary"}},extensions:{type:"array",items:{$ref:"#/definitions/extension"}}},required:["id"]}},{}],117:[function(e,t,r){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(r,"__esModule",{value:!0}),r.AbstractMarker=void 0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"priority",value:function(e){return null}},{key:"smiley",value:function(e){return null}},{key:"task",value:function(e){return null}},{key:"flag",value:function(e){return null}},{key:"star",value:function(e){return null}},{key:"people",value:function(e){return null}},{key:"arrow",value:function(e){return null}},{key:"symbol",value:function(e){return null}},{key:"month",value:function(e){return null}},{key:"week",value:function(e){return null}},{key:"half",value:function(e){return null}},{key:"other",value:function(e){return null}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.AbstractMarker=n},{}],118:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Dumper=r.Marker=r.Topic=r.Workbook=void 0;var o=e("./core/workbook");Object.defineProperty(r,"Workbook",{enumerable:!0,get:function(){return o.Workbook}});var n=e("./core/topic");Object.defineProperty(r,"Topic",{enumerable:!0,get:function(){return n.Topic}});var i=e("./core/marker");Object.defineProperty(r,"Marker",{enumerable:!0,get:function(){return i.Marker}});var a=e("./utils/dumper");Object.defineProperty(r,"Dumper",{enumerable:!0,get:function(){return a.Dumper}}),Object.assign(t,{Workbook:o.Workbook,Topic:n.Topic,Marker:i.Marker,Dumper:a.Dumper})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core/marker":125,"./core/topic":129,"./core/workbook":130,"./utils/dumper":132}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PACKAGE_MAP=void 0;r.PACKAGE_MAP={MANIFEST:{NAME:"manifest.json",TYPE:"json"},CONTENT_JSON:{NAME:"content.json",TYPE:"json"},CONTENT_XML:{NAME:"content.xml",TYPE:"xml"},METADATA:{NAME:"metadata.json",TYPE:"json"},THUMBNAILS:{NAME:"Thumbnails",TYPE:"directory"},RESOURCES:{NAME:"resources",TYPE:"directory"}}},{}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.iterable=r.icons=void 0;var o={priorityMarkers:{id:"priorityMarkers",markersMap:{"priority-1":{id:"priority-1",name:"%priority1",resource:"priority_1@32.png",svg:"priority_1@16.svg",index:0},"priority-2":{id:"priority-2",name:"%priority2",resource:"priority_2@32.png",svg:"priority_2@16.svg",index:1},"priority-3":{id:"priority-3",name:"%priority3",resource:"priority_3@32.png",svg:"priority_3@16.svg",index:2},"priority-4":{id:"priority-4",name:"%priority4",resource:"priority_4@32.png",svg:"priority_4@16.svg",index:3},"priority-5":{id:"priority-5",name:"%priority5",resource:"priority_5@32.png",svg:"priority_5@16.svg",index:4},"priority-6":{id:"priority-6",name:"%priority6",resource:"priority_6@32.png",svg:"priority_6@16.svg",index:5},"priority-7":{id:"priority-7",name:"%priority7",resource:"priority_7@32.png",svg:"priority_7@16.svg",index:6},"priority-8":{id:"priority-8",name:"%priority8",resource:"priority_8@32.png",svg:"priority_8@16.svg",hidden:"true",index:7},"priority-9":{id:"priority-9",name:"%priority9",resource:"priority_9@32.png",svg:"priority_9@16.svg",hidden:"true",index:8}}},smileyMarkers:{id:"smileyMarkers",markersMap:{"smiley-laugh":{id:"smiley-laugh",name:"%smileyLaugh",resource:"emotion_laugh@32.png",svg:"emotion_laugh@16.svg",index:9},"smiley-smile":{id:"smiley-smile",name:"%smileySmile",resource:"emotion_smile@32.png",svg:"emotion_smile@16.svg",index:10},"smiley-cry":{id:"smiley-cry",name:"%smileyCry",resource:"emotion_cry@32.png",svg:"emotion_cry@16.svg",index:11},"smiley-surprise":{id:"smiley-surprise",name:"%smileySurprise",resource:"emotion_surprise@32.png",svg:"emotion_surprise@16.svg",index:12},"smiley-boring":{id:"smiley-boring",name:"%smileyBoring",resource:"emotion_boring@32.png",svg:"emotion_boring@16.svg",index:13},"smiley-angry":{id:"smiley-angry",name:"%smileyAngry",resource:"emotion_angry@32.png",svg:"emotion_angry@16.svg",index:14},"smiley-embarrass":{id:"smiley-embarrass",name:"%smileyEmbarrass",resource:"emotion_embarrass@16.png",svg:"emotion_embarrass@16.svg",index:15}}},taskMakers:{id:"taskMakers",markersMap:{"task-start":{id:"task-start",name:"%taskStart",resource:"progress_start@32.png",svg:"progress_start@16.svg",index:16},"task-oct":{id:"task-oct",name:"%taskOct",resource:"progress_1o@32.png",svg:"progress_1o@16.svg",index:17},"task-quarter":{id:"task-quarter",name:"%taskQuarter",resource:"progress_1q@32.png",svg:"progress_1q@16.svg",hidden:"true",index:18},"task-3oct":{id:"task-3oct",name:"%task3Oct",resource:"progress_3o@32.png",svg:"progress_3o@16.svg",index:19},"task-half":{id:"task-half",name:"%taskHalf",resource:"progress_half@32.png",svg:"progress_half@16.svg",index:20},"task-5oct":{id:"task-5oct",name:"%task5Oct",resource:"progress_5o@32.png",svg:"progress_5o@16.svg",index:21},"task-3quar":{id:"task-3quar",name:"%task3Quarters",resource:"progress_3q@32.png",svg:"progress_3q@16.svg",hidden:"true",index:22},"task-7oct":{id:"task-7oct",name:"%task7Oct",resource:"progress_7o@32.png",svg:"progress_7o@16.svg",index:23},"task-done":{id:"task-done",name:"%taskDone",resource:"progress_done@32.png",svg:"progress_done@16.svg",index:24},"task-pause":{id:"task-pause",name:"%taskPause",resource:"progress_pause@32.png",hidden:"true",index:25}}},flagMakers:{id:"flagMakers",markersMap:{"flag-red":{id:"flag-red",name:"%colorRed",resource:"flag_red@32.png",svg:"flag_red@16.svg",index:26},"flag-orange":{id:"flag-orange",name:"%colorOrange",resource:"flag_orange@32.png",svg:"flag_orange@16.svg",index:27},"flag-yellow":{id:"flag-yellow",name:"%colorYellow",resource:"flag_yellow@32.png",svg:"flag_yellow@16.svg",hidden:"true",index:28},"flag-dark-blue":{id:"flag-dark-blue",name:"%colorDarkBlue",resource:"flag_dark_blue@32.png",svg:"flag_dark_blue@16.svg",index:29},"flag-purple":{id:"flag-purple",name:"%colorPurple",resource:"flag_purple@32.png",svg:"flag_purple@16.svg",index:30},"flag-green":{id:"flag-green",name:"%colorGreen",resource:"flag_green@32.png",svg:"flag_green@16.svg",index:31},"flag-blue":{id:"flag-blue",name:"%colorBlue",resource:"flag_blue@32.png",svg:"flag_blue@16.svg",index:32},"flag-gray":{id:"flag-gray",name:"%colorGray",resource:"flag_gray@32.png",svg:"flag_gray@16.svg",index:33},"flag-dark-green":{id:"flag-dark-green",name:"%colorDarkGreen",resource:"flag_dark_green@16.png",svg:"flag_dark_green@16.svg",hidden:"true",index:34},"flag-dark-gray":{id:"flag-dark-gray",name:"%colorDarkGray",resource:"flag_dark_gray@16.png",svg:"flag_dark_gray@16.svg",hidden:"true",index:35}}},starMakers:{id:"starMakers",markersMap:{"star-red":{id:"star-red",name:"%colorRed",resource:"star_red@32.png",svg:"star_red@16.svg",index:36},"star-orange":{id:"star-orange",name:"%colorOrange",resource:"star_orange@32.png",svg:"star_orange@16.svg",index:37},"star-dark-blue":{id:"star-dark-blue",name:"%colorDarkBlue",resource:"star_dark_blue@32.png",svg:"star_dark_blue@16.svg",index:38},"star-purple":{id:"star-purple",name:"%colorPurple",resource:"star_purple@32.png",svg:"star_purple@16.svg",index:39},"star-green":{id:"star-green",name:"%colorGreen",resource:"star_green@32.png",svg:"star_green@16.svg",index:40},"star-blue":{id:"star-blue",name:"%colorBlue",resource:"star_blue@32.png",svg:"star_blue@16.svg",index:41},"star-gray":{id:"star-gray",name:"%colorGray",resource:"star_gray@32.png",svg:"star_gray@16.svg",index:42},"star-yellow":{id:"star-yellow",name:"%colorYellow",resource:"star_yellow@32.png",svg:"star_yellow@16.svg",hidden:"true",index:43},"star-dark-green":{id:"star-dark-green",name:"%colorDarkGreen",resource:"star_dark_green@16.png",svg:"star_dark_green@16.svg",hidden:"true",index:44},"star-dark-gray":{id:"star-dark-gray",name:"%colorDarkGray",resource:"star_dark_gray@16.png",svg:"star_dark_gray@16.svg",hidden:"true",index:45}}},peopleMakers:{id:"peopleMakers",markersMap:{"people-red":{id:"people-red",name:"%colorRed",resource:"people_red@32.png",svg:"people_red@16.svg",index:46},"people-orange":{id:"people-orange",name:"%colorOrange",resource:"people_orange@32.png",svg:"people_orange@16.svg",index:47},"people-yellow":{id:"people-yellow",name:"%colorYellow",resource:"people_yellow@32.png",svg:"people_yellow@16.svg",hidden:"true",index:48},"people-dark-blue":{id:"people-dark-blue",name:"%colorDarkBlue",resource:"people_dark_blue@32.png",svg:"people_dark_blue@16.svg",index:49},"people-purple":{id:"people-purple",name:"%colorPurple",resource:"people_purple@32.png",svg:"people_purple@16.svg",index:50},"people-green":{id:"people-green",name:"%colorGreen",resource:"people_green@32.png",svg:"people_green@16.svg",index:51},"people-blue":{id:"people-blue",name:"%colorBlue",resource:"people_blue@32.png",svg:"people_blue@16.svg",index:52},"people-gray":{id:"people-gray",name:"%colorGray",resource:"people_gray@32.png",svg:"people_gray@16.svg",index:53},"people-dark-green":{id:"people-dark-green",name:"%colorDarkGreen",resource:"people_dark_green@16.png",svg:"people_dark_green@16.svg",hidden:"true",index:54},"people-dark-gray":{id:"people-dark-gray",name:"%colorDarkGray",resource:"people_dark_gray@16.png",svg:"people_dark_gray@16.svg",hidden:"true",index:55}}},arrowMakers:{id:"arrowMakers",markersMap:{"arrow-left":{id:"arrow-left",name:"%arrowLeft",resource:"arrow_left@32.png",svg:"arrow_left@16.svg",index:56},"arrow-right":{id:"arrow-right",name:"%arrowRight",resource:"arrow_right@32.png",svg:"arrow_right@16.svg",index:57},"arrow-up":{id:"arrow-up",name:"%arrowUp",resource:"arrow_up@32.png",svg:"arrow_up@16.svg",index:58},"arrow-down":{id:"arrow-down",name:"%arrowDown",resource:"arrow_down@32.png",svg:"arrow_down@16.svg",index:59},"arrow-left-right":{id:"arrow-left-right",name:"%arrowLeftRight",resource:"arrow_left_right@32.png",svg:"arrow_left_right@16.svg",index:60},"arrow-up-down":{id:"arrow-up-down",name:"%arrowUpDown",resource:"arrow_up_down@32.png",svg:"arrow_up_down@16.svg",index:61},"arrow-refresh":{id:"arrow-refresh",name:"%arrowRefresh",resource:"arrow_refresh@32.png",svg:"arrow_refresh@16.svg",index:62},"arrow-up-right":{id:"arrow-up-right",name:"%arrowUpRight",resource:"arrow_up_right@32.png",svg:"arrow_up_right@16.svg",hidden:"true",index:63},"arrow-down-right":{id:"arrow-down-right",name:"%arrowDownRight",resource:"arrow_down_right@32.png",svg:"arrow_down_right@16.svg",hidden:"true",index:64},"arrow-down-left":{id:"arrow-down-left",name:"%arrowDownLeft",resource:"arrow_down_left@32.png",svg:"arrow_down_left@16.svg",hidden:"true",index:65},"arrow-up-left":{id:"arrow-up-left",name:"%arrowUpLeft",resource:"arrow_up_left@32.png",svg:"arrow_up_left@16.svg",hidden:"true",index:66}}},symbolMakers:{id:"symbolMakers",markersMap:{c_symbol_heart:{id:"c_symbol_heart",name:"%symbolHeart",resource:"symbol_heart@16.png",svg:"symbol_heart.svg",index:67},c_symbol_dislike:{id:"c_symbol_dislike",name:"%symbolDislike",resource:"symbol_dislike@16.png",svg:"symbol_dislike.svg",index:68},c_symbol_like:{id:"c_symbol_like",name:"%symbolLike",resource:"symbol_like@16.png",svg:"symbol_like.svg",index:69},c_symbol_music:{id:"c_symbol_music",name:"%symbolMusic",resource:"symbol_music@16.png",svg:"symbol_music.svg",index:70},c_symbol_lock:{id:"c_symbol_lock",name:"%symbolLock",svg:"symbol_lock.svg",index:71},c_symbol_hourglass:{id:"c_symbol_hourglass",name:"%symbolHourglass",svg:"symbol_hourglass.svg",index:72},c_symbol_broken_heart:{id:"c_symbol_broken_heart",name:"%symbolBrokenHeart",svg:"symbol_broken_heart.svg",index:73},c_symbol_quote:{id:"c_symbol_quote",name:"%symbolQuote",svg:"symbol_quote.svg",index:74},c_symbol_apostrophe:{id:"c_symbol_apostrophe",name:"%symbolApostrophe",svg:"symbol_apostrophe.svg",index:75},"symbol-question":{id:"symbol-question",name:"%symbolQuestion",resource:"symbol_question@32.png",svg:"symbol_question@16.svg",index:76},"symbol-attention":{id:"symbol-attention",name:"%symbolAttention",resource:"symbol_attention.png",svg:"symbol_attention@16.svg",index:77},"symbol-wrong":{id:"symbol-wrong",name:"%symbolWrong",resource:"symbol_wrong@32.png",svg:"symbol_wrong@16.svg",index:78},"symbol-pause":{id:"symbol-pause",name:"%symbolPause",resource:"symbol_pause@32.png",svg:"symbol_pause@16.svg",index:79},"symbol-no-entry":{id:"symbol-no-entry",name:"%symbolNoEntry",svg:"symbol_no_entry@16.svg",index:80},"symbol-plus":{id:"symbol-plus",name:"%symbolPlus",resource:"symbol_plus@32.png",svg:"symbol_plus@16.svg",index:81},"symbol-minus":{id:"symbol-minus",name:"%symbolMinus",resource:"symbol_minus@32.png",svg:"symbol_minus@16.svg",index:82},"symbol-info":{id:"symbol-info",name:"%symbolInfo",resource:"symbol_information@32.png",svg:"symbol_information@16.svg",index:83},"symbol-divide":{id:"symbol-divide",name:"%symbolDivide",svg:"symbol_divide@16.svg",index:84},"symbol-equality":{id:"symbol-equality",name:"%symbolEquality",svg:"symbol_equality@16.svg",index:85},"symbol-right":{id:"symbol-right",name:"%symbolRight",resource:"symbol_right@32.png",svg:"symbol_right@16.svg",index:86},"symbol-code":{id:"symbol-code",name:"%symbolCode",svg:"symbol_code@16.svg",index:87},c_symbol_contact:{id:"c_symbol_contact",name:"%symbolContact",resource:"symbol_contact@16.png",svg:"symbol_contact.svg",index:88},c_symbol_telephone:{id:"c_symbol_telephone",name:"%symbolTelephone",resource:"symbol_telephone@16.png",svg:"symbol_telephone.svg",index:89},c_symbol_pen:{id:"c_symbol_pen",name:"%symbolPen",resource:"symbol_pen@16.png",svg:"symbol_pen.svg",index:90},c_symbol_money:{id:"c_symbol_money",name:"%symbolMoney",resource:"symbol_money@16.png",svg:"symbol_money.svg",index:91},c_symbol_bar_chart:{id:"c_symbol_bar_chart",name:"%symbolBarChart",resource:"symbol_bar_chart@16.png",svg:"symbol_bar_chart.svg",index:92},c_symbol_pie_chart:{id:"c_symbol_pie_chart",name:"%symbolPieChart",resource:"symbol_pie_chart@16.png",svg:"symbol_pie_chart.svg",index:93},c_symbol_line_graph:{id:"c_symbol_line_graph",name:"%symbolLineGraph",resource:"symbol_line_graph@16.png",svg:"symbol_line_graph.svg",index:94},c_symbol_shopping_cart:{id:"c_symbol_shopping_cart",name:"%symbolShoppingCart",resource:"symbol_shopping_cart@16.png",svg:"symbol_shopping_cart.svg",index:95},c_symbol_medals:{id:"c_symbol_medals",name:"%symbolMedals",resource:"symbol_medals@16.png",svg:"symbol_medals.svg",index:96},c_symbol_trophy:{id:"c_symbol_trophy",name:"%symbolTrophy",resource:"symbol_trophy@16.png",svg:"symbol_trophy.svg",index:97},"symbol-image":{id:"symbol-image",name:"%symbolImage",svg:"symbol_image@16.svg",index:98},c_symbol_exercise:{id:"c_symbol_exercise",name:"%symbolExercise",resource:"symbol_exercise@16.png",svg:"symbol_exercise.svg",index:99},c_symbol_flight:{id:"c_symbol_flight",name:"%symbolFlight",resource:"symbol_flight@16.png",svg:"symbol_flight.svg",index:100},"symbol-pin":{id:"symbol-pin",name:"%symbolPin",svg:"symbol_pin@16.svg",index:101},"symbol-exclam":{id:"symbol-exclam",name:"%symbolExclam",resource:"symbol_exclamation@32.png",svg:"symbol_exclamation@16.svg",index:102,hidden:"true"},"c_simbol-plus":{id:"c_simbol-plus",name:"%symbolPlus",resource:"c_simbol_plus@32.png",svg:"symbol_plus@16.svg",index:103,hidden:"true"},"c_simbol-minus":{id:"c_simbol-minus",name:"%symbolMinus",resource:"c_simbol_minus@32.png",svg:"symbol_minus@16.svg",index:104,hidden:"true"},"c_simbol-question":{id:"c_simbol-question",name:"%symbolQuestion",resource:"c_simbol_question@32.png",svg:"c_simbol_question@16.svg",index:105,hidden:"true"},"c_simbol-exclam":{id:"c_simbol-exclam",name:"%symbolExclam",resource:"c_simbol_exclamation@32.png",svg:"c_simbol_exclamation@16.svg",index:106,hidden:"true"},"c_simbol-info":{id:"c_simbol-info",name:"%symbolInfo",resource:"c_simbol_information@32.png",svg:"symbol_information@16.svg",index:107,hidden:"true"},"c_simbol-wrong":{id:"c_simbol-wrong",name:"%symbolWrong",resource:"c_simbol_wrong@32.png",svg:"c_simbol_wrong@16.svg",index:108,hidden:"true"},"c_simbol-right":{id:"c_simbol-right",name:"%symbolRight",resource:"c_simbol_right@32.png",svg:"symbol_right@16.svg",index:109,hidden:"true"},"c_simbol-pause":{id:"c_simbol-pause",name:"%symbolPause",resource:"c_simbol_pause@32.png",svg:"symbol_pause@16.svg",index:110,hidden:"true"},c_symbol_thermometer:{id:"c_symbol_thermometer",name:"%symbolThermometer",resource:"symbol_thermometer@16.png",svg:"symbol_thermometer.svg",index:111,hidden:"true"}}},monthMakers:{id:"monthMakers",markersMap:{"month-jan":{id:"month-jan",name:"%monthJan",resource:"month_jan@32.png",svg:"month_jan@16.svg",index:112},"month-feb":{id:"month-feb",name:"%monthFeb",resource:"month_feb@32.png",svg:"month_feb@16.svg",index:113},"month-mar":{id:"month-mar",name:"%monthMar",resource:"month_mar@32.png",svg:"month_mar@16.svg",index:114},"month-apr":{id:"month-apr",name:"%monthApr",resource:"month_apr@32.png",svg:"month_apr@16.svg",index:115},"month-may":{id:"month-may",name:"%monthMay",resource:"month_may@32.png",svg:"month_may@16.svg",index:116},"month-jun":{id:"month-jun",name:"%monthJun",resource:"month_jun@32.png",svg:"month_jun@16.svg",index:117},"month-jul":{id:"month-jul",name:"%monthJul",resource:"month_jul@32.png",svg:"month_jul@16.svg",index:118},"month-aug":{id:"month-aug",name:"%monthAug",resource:"month_aug@32.png",svg:"month_aug@16.svg",index:119},"month-sep":{id:"month-sep",name:"%monthSep",resource:"month_sep@32.png",svg:"month_sep@16.svg",index:120},"month-oct":{id:"month-oct",name:"%monthOct",resource:"month_oct@32.png",svg:"month_oct@16.svg",index:121},"month-nov":{id:"month-nov",name:"%monthNov",resource:"month_nov@32.png",svg:"month_nov@16.svg",index:122},"month-dec":{id:"month-dec",name:"%monthDec",resource:"month_dec@32.png",svg:"month_dec@16.svg",index:123}}},weekMakers:{id:"weekMakers",markersMap:{"week-sun":{id:"week-sun",name:"%weekSun",resource:"week_sun@32.png",svg:"week_sun@16.svg",index:124},"week-mon":{id:"week-mon",name:"%weekMon",resource:"week_mon@32.png",svg:"week_mon@16.svg",index:125},"week-tue":{id:"week-tue",name:"%weekTue",resource:"week_tue@32.png",svg:"week_tue@16.svg",index:126},"week-wed":{id:"week-wed",name:"%weekWed",resource:"week_wed@32.png",svg:"week_wed@16.svg",index:127},"week-thu":{id:"week-thu",name:"%weekThu",resource:"week_thu@32.png",svg:"week_thu@16.svg",index:128},"week-fri":{id:"week-fri",name:"%weekFri",resource:"week_fri@32.png",svg:"week_fri@16.svg",index:129},"week-sat":{id:"week-sat",name:"%weekSat",resource:"week_sat@32.png",svg:"week_sat@16.svg",index:130}}},halfStarMarkers:{id:"halfStarMarkers",hidden:"true",markersMap:{"half-star-green":{id:"half-star-green",name:"%colorGreen",resource:"star_green_half.png",index:131},"half-star-red":{id:"half-star-red",name:"%colorRed",resource:"star_red_half.png",index:132},"half-star-yellow":{id:"half-star-yellow",name:"%colorYellow",resource:"star_yellow_half.png",index:133},"half-star-purple":{id:"half-star-purple",name:"%colorPurple",resource:"star_purple_half.png",index:134},"half-star-blue":{id:"half-star-blue",name:"%colorBlue",resource:"star_blue_half.png",index:135},"half-star-gray":{id:"half-star-gray",name:"%colorGray",resource:"star_gray_half.png",index:136}}},otherMarkers:{id:"otherMarkers",hidden:"true",markersMap:{"other-calendar":{id:"other-calendar",name:"%otherCalendar",resource:"other_calendar.png",index:137},"other-email":{id:"other-email",name:"%otherEmail",resource:"other_email.png",index:138},"other-phone":{id:"other-phone",name:"%otherPhone",resource:"other_phone.png",index:139},"other-phone2":{id:"other-phone2",name:"%otherPhone",resource:"other_phone2.png",index:140},"other-fax":{id:"other-fax",name:"%otherFax",resource:"other_print.png",index:141},"other-people":{id:"other-people",name:"%otherPeople",resource:"people_green@32.png",index:142},"other-people2":{id:"other-people2",name:"%otherPeople",resource:"people_blue@32.png",index:143},"other-clock":{id:"other-clock",name:"%otherClock",resource:"other_clock.png",index:144},"other-coffee-cup":{id:"other-coffee-cup",name:"%otherCoffeeCup",resource:"other_coffee.png",index:145},"other-question":{id:"other-question",name:"%otherQuestion",resource:"symbol_question@32.png",svg:"symbol_question@16.svg",index:146},"other-exclam":{id:"other-exclam",name:"%otherExclam",resource:"symbol_exclamation@32.png",svg:"symbol_exclamation@16.svg",index:147},"other-lightbulb":{id:"other-lightbulb",name:"%otherLightBulb",resource:"other_buble.png",index:148},"other-businesscard":{id:"other-businesscard",name:"%otherBusinessCard",resource:"other_businesscard.png",index:149},"other-social":{id:"other-social",name:"%otherSocial",resource:"other_social.png",index:150},"other-chat":{id:"other-chat",name:"%otherChat",resource:"other_chat.png",index:151},"other-note":{id:"other-note",name:"%otherNote",resource:"other_note.png",index:152},"other-lock":{id:"other-lock",name:"%otherLock",resource:"other_lock.png",index:153},"other-unlock":{id:"other-unlock",name:"%otherUnlock",resource:"other_unlock.png",index:154},"other-yes":{id:"other-yes",name:"%otherYes",resource:"symbol_right@32.png",svg:"symbol_right@16.svg",index:155},"other-no":{id:"other-no",name:"%otherNo",resource:"symbol_wrong@32.png",svg:"symbol_wrong@16.svg",index:156},"other-bomb":{id:"other-bomb",name:"%otherBomb",resource:"other_bomb.png",index:157}}}},n={};r.icons=n;var i={};for(var a in r.iterable=i,o){var s=a,c=o[a].markersMap;for(var l in c)if(c.hasOwnProperty(l)&&!l.startsWith("c_")){var d=l.split("-"),u=d[0],h=d.length>2?d.slice(1,d.length).join("-"):d[1];i[u]||(i[u]=[]),n[u]||(n[u]={}),i[u].push(h),n[u][h]={groupId:s,markerId:l}}}},{}],121:[function(e,t,r){t.exports={importantTopic:{type:"topic",properties:{"fo:font-weight":"bold","fo:color":"#434B54","svg:fill":"#FF8D3E"}},minorTopic:{type:"topic",properties:{"fo:font-weight":"bold","fo:color":"#434B54","svg:fill":"#FBD400"}},expiredTopic:{type:"topic",properties:{"fo:font-style":"italic","fo:text-decoration":" line-through"}},centralTopic:{properties:{"fo:font-family":"Open Sans","fo:font-weight":"600","svg:fill":"#5A729A","line-color":"#8793A5","fo:font-size":"20pt","fo:font-style":"normal","line-width":"1pt","line-class":"org.xmind.branchConnection.roundedElbow","border-line-width":"0"},styleId:"01b8c70bdbfb816bfd381985a4",type:"topic"},boundary:{properties:{"line-color":"#F78A4A","svg:fill":"#FCE7D9","fo:color":"#FFFFFF"},styleId:"7058052c47184b687957ca63a9",type:"boundary"},floatingTopic:{properties:{"svg:fill":"#F78A4A","border-line-width":"0","fo:font-family":"Open Sans","fo:font-weight":"normal","line-color":"#F78A4A"},styleId:"8b98e3ef368a20335ab639d05f",type:"topic"},subTopic:{properties:{"fo:font-weight":"normal","fo:color":"#434B54","fo:font-family":"Open Sans","fo:text-align":"left","fo:font-size":"11pt"},styleId:"1f2ab177cd1a075412f11b1ff0",type:"topic"},mainTopic:{properties:{"fo:font-weight":"normal","fo:color":"#434B54","fo:font-family":"Open Sans","fo:font-size":"14pt","svg:fill":"#96D2E7","border-line-width":"0"},styleId:"a1db67020fc89378558ba84152",type:"topic"},calloutTopic:{properties:{"svg:fill":"#F78A4A","border-line-width":"0","fo:font-family":"Open Sans","fo:font-weight":"normal","fo:font-style":"normal","fo:font-size":"11pt"},styleId:"2ba8e499f408e34e871ff9ef31",type:"topic"},summary:{properties:{"shape-class":"org.xmind.summaryShape.round","line-color":"#F78A4A"},styleId:"77dbc8b8661ae51aaf517be0dd",type:"summary"},summaryTopic:{properties:{"svg:fill":"#F78A4A","border-line-width":"0","fo:font-family":"Open Sans","fo:font-weight":"normal","fo:font-style":"normal","line-color":"#F78A4A"},styleId:"306914919609fa5dc883697a02",type:"topic"},relationship:{properties:{"fo:color":"#434B54","fo:font-family":"Open Sans","fo:font-weight":"normal","line-pattern":"solid","line-width":"2pt","line-color":"#F78A4A"},styleId:"fc1aacff7bba7fa363b4fbc2dd",type:"relationship"},map:{properties:{"line-tapered":"tapered","svg:fill":"#F5FAFF"},styleId:"f98b99abe58b508e4d0f5a584c",type:"map"}}},{}],122:[function(e,t,r){t.exports={importantTopic:{type:"topic",properties:{"fo:font-weight":"bold","fo:color":"#312935","svg:fill":"#FEFF00"}},minorTopic:{type:"topic",properties:{"fo:font-weight":"bold","fo:color":"#312935","svg:fill":"#00EEFF"}},expiredTopic:{type:"topic",properties:{"fo:font-style":"italic","fo:text-decoration":" line-through"}},centralTopic:{properties:{"shape-class":"org.xmind.topicShape.ellipserect","svg:fill":"#D1F786","fo:color":"#302934","line-color":"#30D8C4","line-class":"org.xmind.branchConnection.bight","fo:font-weight":"500","fo:font-family":"Montserrat","fo:font-style":"normal","fo:text-transform":"uppercase","fo:font-size":"30pt","line-width":"3pt","border-line-width":"0"},styleId:"566b3aea3f7b2e0a0cbb89ca83",type:"topic"},boundary:{properties:{"line-color":"#FFFFFF","svg:fill":"#FFFFFF","fo:color":"#302934","fo:font-family":"Montserrat","fo:font-weight":"normal"},styleId:"809a90d25f7974588bed59c06b",type:"boundary"},floatingTopic:{properties:{"shape-class":"org.xmind.topicShape.ellipserect","svg:fill":"#FFFFFF","border-line-color":"#FFFFFF","border-line-width":"2pt","fo:font-family":"Montserrat","fo:font-weight":"normal","fo:font-size":"18pt","fo:color":"#302934","line-class":"org.xmind.branchConnection.bight","line-color":"#30D8C4","line-width":"3pt"},styleId:"b9588c8bfc6ad4c872b9fa082f",type:"topic"},subTopic:{properties:{"fo:font-weight":"normal","fo:color":"#FFFFFF","fo:font-family":"Montserrat","fo:text-align":"left","line-class":"org.xmind.branchConnection.bight"},styleId:"3138d4845e2b6e60dfb0eb5dbb",type:"topic"},mainTopic:{properties:{"fo:font-weight":"normal","fo:color":"#FFFFFF","fo:font-family":"Montserrat","fo:font-size":"24pt","shape-class":"org.xmind.topicShape.underline","svg:fill":"none","line-class":"org.xmind.branchConnection.bight","line-width":"3pt"},styleId:"ae3a94584179df1806911bd775",type:"topic"},calloutTopic:{properties:{"svg:fill":"#FFFFFF","border-line-width":"0","fo:font-family":"Montserrat","fo:font-weight":"400","fo:color":"#302934","fo:font-style":"normal"},styleId:"cf597269c17beb4f39c6daae3f",type:"topic"},summary:{properties:{"line-color":"#FFFFFF"},styleId:"7129e73481eb7a1897b2c8094a",type:"summary"},summaryTopic:{properties:{"svg:fill":"#FFFFFF","border-line-color":"#FFFFFF","fo:font-family":"Montserrat","fo:font-weight":"400","border-line-width":"1pt","fo:color":"#302934","fo:font-style":"normal","fo:font-size":"18pt","line-class":"org.xmind.branchConnection.bight","line-width":"3pt"},styleId:"28db31b676f948c81ce478dc31",type:"topic"},relationship:{properties:{"line-width":"3pt","line-pattern":"solid","line-color":"#FFFFFF","fo:color":"#FFFFFF","fo:font-family":"Montserrat","fo:font-weight":"normal"},styleId:"ea0990886e2ba2b4b3c69ab34d",type:"relationship"},map:{properties:{"line-tapered":"tapered","svg:fill":"#302934"},styleId:"6659012d15a89de3df86e84e92",type:"map"}}},{}],123:[function(e,t,r){t.exports={importantTopic:{type:"topic",properties:{"fo:font-weight":"bold","fo:color":"#F04137","svg:fill":"none"}},minorTopic:{type:"topic",properties:{"svg:fill":"none","fo:font-weight":"bold","fo:color":"#06ABD0"}},expiredTopic:{type:"topic",properties:{"fo:font-style":"italic","fo:text-decoration":" line-through"}},centralTopic:{properties:{"fo:color":"#000000","fo:font-family":"Avenir Next","fo:font-weight":"600","fo:font-size":"24pt","fo:font-style":"normal","border-line-width":"0","border-line-color":"#374C75","line-color":"#374C75","line-width":"3pt","svg:fill":"#FFFFFF"},styleId:"39687c955b998eedc81008bf3f",type:"topic"},boundary:{properties:{"fo:font-style":"normal","fo:color":"#FFFFFF","fo:font-family":"Avenir Next","fo:font-weight":"600","fo:font-size":"14pt","svg:fill":"#E9E9E8","line-color":"#5E5E5E","line-pattern":"dot"},styleId:"29f9b72a43c95e2d17c1ebd6c8",type:"boundary"},floatingTopic:{properties:{"svg:fill":"#EBEBEB","shape-class":"org.xmind.topicShape.roundedRect","border-line-width":"0pt","border-line-color":"#374C75","fo:color":"#332F2E","fo:font-family":"Avenir Next","fo:font-size":"14pt","fo:font-weight":"600","fo:font-style":"normal","line-class":"org.xmind.branchConnection.bight","line-color":"#5E5E5E","line-width":"2pt"},styleId:"8edb0655eed84223023988f896",type:"topic"},subTopic:{type:"topic",properties:{"line-class":"org.xmind.branchConnection.bight","line-width":"1pt","fo:font-family":"Avenir Next","fo:font-size":"14pt","fo:color":"#091C34","fo:text-align":"left"}},mainTopic:{type:"topic",properties:{"border-line-width":"2pt","line-class":"org.xmind.branchConnection.bight","line-width":"2pt","svg:fill":"none","shape-class":"org.xmind.topicShape.underline","fo:color":"#091C34","fo:font-size":"16pt","fo:font-family":"Avenir Next","fo:font-weight":"500"}},calloutTopic:{properties:{"fo:font-weight":"600","fo:font-style":"normal","fo:font-size":"14pt","fo:font-family":"Avenir Next","border-line-width":"0","svg:fill":"#5E5E5E","fo:color":"#FFFFFF"},styleId:"4379160bdc98a456dd60a8721d",type:"topic"},summary:{properties:{"shape-class":"org.xmind.summaryShape.square","line-width":"2pt","line-color":"#5E5E5E"},styleId:"14394c4b1a5b6b534182699edf",type:"summary"},summaryTopic:{properties:{"line-class":"org.xmind.branchConnection.bight","line-width":"1pt","line-color":"#5E5E5E","shape-class":"org.xmind.topicShape.roundedRect","svg:fill":"#EBEBEB","fo:color":"#091C34","fo:font-weight":"600","fo:font-style":"normal","fo:font-family":"Avenir Next","fo:font-size":"14pt","border-line-width":"0pt","border-line-color":"#5E5E5E"},styleId:"963bfcbd450931f641aef94ec5",type:"topic"},relationship:{properties:{"line-width":"2pt","line-pattern":"dot","line-color":"#5E5E5E","fo:font-weight":"600","fo:font-style":"normal","fo:color":"#5E5E5E","fo:font-family":"Avenir Next","fo:font-size":"14pt","arrow-begin-class":"org.xmind.arrowShape.attached"},styleId:"67596f401d995d448791686b97",type:"relationship"},map:{properties:{"multi-line-colors":"#F04137 #F8932E #FEC938 #A0C347 #06ABD0 #832A96","line-tapered":"tapered","svg:fill":"#F5F5FA"},styleId:"c9c904312f6968e676f4fafd22",type:"map"},level3:{type:"topic",properties:{"line-class":"org.xmind.branchConnection.bight","line-width":"1pt","border-line-width":"2pt","fo:font-family":"Avenir Next","fo:font-size":"14pt","fo:color":"#091C34","fo:text-align":"left"}}}},{}],124:[function(e,t,r){"use strict";function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("tree-model"),s=e("../utils/common"),c=e("uuid/v4"),l=e("debug"),d="xmind-sdk",u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.tree=new a,this.options=t,this._debug=l(this.options.debug||d)}var t,r,n;return t=e,(r=[{key:"isValidComponentId",value:function(e){return!(!e||"string"!=typeof e)&&!!this.rootNode.first(function(t){return t.model.id===e})}},{key:"setRoot",value:function(e){return this.rootNode=this.tree.parse(Object.assign(e,{children:[]})),this}},{key:"destroyNode",value:function(e){return this.rootNode.first(function(t){return t.model.id===e.id}).drop(),!0}},{key:"addChildNode",value:function(e){this.rootNode.first(function(t){return t.model.id===e.parentId}).addChild(this.tree.parse(e))}},{key:"exist",value:function(e){return!!this.rootNode.first(function(t){return t.model.id===e})}},{key:"findComponentIdBy",value:function(e){var t=this.rootNode.first(function(t){return t.model.title===e});return t?t.model.id:null}},{key:"all",value:function(){var e=this.rootNode.all(function(){return!0}),t={};return e.forEach(function(e){t[String(e.model.id)]=e.model.title}),t}},{key:"getConflictedComponentId",value:function(e){var t=s.isString(e.title);return t&&e.parentId?this.different(e):t&&e.customId?this.identical(e):null}},{key:"debug",value:function(){this._debug.apply(this,arguments)}},{key:"id",get:function(){return c()}},{key:"different",value:function(e){var t,r=o(this.rootNode.all(function(t){return t.model.title===e.title}));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.parent.model.id===e.parentId)return n.model.id}}catch(e){r.e(e)}finally{r.f()}return null}},{key:"identical",value:function(e){var t=this.rootNode.all(function(t){return t.model.title===e.title&&t.model.customId===e.customId});return t.length<=0?null:t[0].model.id}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=u},{"../utils/common":131,debug:43,"tree-model":53,"uuid/v4":57}],125:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.Marker=void 0;var c=e("../abstracts/marker.abstract"),l=e("../common/constants/marker"),d=e("debug")("xmind-sdk:marker");Object.defineProperty(l.icons,"iterable",{value:l.iterable,enumerable:!1,configurable:!1,writable:!1});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,c.AbstractMarker);var t,r,o,s=a(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).init(),e}return t=u,o=[{key:"names",value:function(e){return l.icons.iterable[String(e)]}},{key:"groups",value:function(){return Object.keys(l.icons.iterable)}}],(r=[{key:"init",value:function(){var e=this,t=function(t){e[t]=function(e){if(!e)return null;var r="string"==typeof e?e:String(e);return e&&!l.icons[t].hasOwnProperty(r)?(d("W - Invalid name string %s",e),null):l.icons[t][r]}};for(var r in l.icons)t(r)}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}();r.Marker=u},{"../abstracts/marker.abstract":117,"../common/constants/marker":120,debug:43}],126:[function(e,t,r){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Note=void 0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.html={content:{paragraphs:[]}},this.ops={ops:[]},this.plain={}}var t,r,n;return t=e,(r=[{key:"text",set:function(e){this.plain.content=e,this.html.content.paragraphs.push({spans:[{text:e}]}),this.ops.ops.push({insert:e})}},{key:"toJSON",value:function(){return{html:this.html,plain:this.plain,ops:this.ops}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.Note=n},{}],127:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.Summary=void 0;var c=e("./base"),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(l,c["default"]);var t,r,o,s=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),s.call(this,{debug:"xmind-sdk:summary"})}return t=l,(r=[{key:"range",value:function(e){var t=e.children,r=e.condition;if(r[0]===r[1])for(var o=0,n=t.length;o<n;o++)t[o].getId()===r[0]&&(this._range="(".concat(o,",").concat(o,")"));else{for(var i,a=0,s=0,c=t.length;s<c;s++)t[s].getId()===r[0]&&(i=s),t[s].getId()===r[1]&&(a=s);this._range=i>a?"(".concat(i,",").concat(i,")"):"(".concat(i,",").concat(a,")")}return this}},{key:"toJSON",value:function(){return{id:this.id,range:this._range,topicId:this.topicId}}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}();r.Summary=l},{"./base":124}],128:[function(e,t,r){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Theme=void 0;var n=e("../common/themes/robust.json"),i=e("../common/themes/snowbrush.json"),a=e("../common/themes/business.json"),s=e("uuid/v4"),c=e("debug")("xmind-sdk:theme"),l=["robust","snowbrush","business"],d={robust:n,snowbrush:i,business:a},u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.themeName;if(!r||"string"!=typeof r||!l.includes(r.toLocaleLowerCase()))throw c("W - Only ",l.join(", "),"are allowed for now."),new Error("the theme name ".concat(r," is not allowed"));this.value=this.loader(r)}var t,r,n;return t=e,(r=[{key:"data",get:function(){return this.value}},{key:"loader",value:function(e){var t=d[e];return t.id=s(),t.title=e,t}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.Theme=u},{"../common/themes/business.json":121,"../common/themes/robust.json":122,"../common/themes/snowbrush.json":123,debug:43,"uuid/v4":57}],129:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.Topic=void 0;var c=e("./summary"),l=e("./note"),d=e("../utils/common"),u=e("./base"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(h,u["default"]);var t,r,o,s=a(h);function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),e=s.call(this,{debug:"xmind-sdk:topic"}),t&&!t.sheet)throw new Error("options.sheet is required");return e.sheet=t.sheet,e.root=e.sheet.getRootTopic(),e.parentId=e.lastId=e.root.getId(),e.setRoot({id:e.parentId,title:"Central Topic"}),e}return t=h,(r=[{key:"on",value:function(e){if(!e)return this.parentId=this.root.getId(),this;if(!this.isValidComponentId(String(e)))throw new Error("Invalid componentId ".concat(String(e)));return this.parentId=e,this}},{key:"addLabel",value:function(e){var t=this.parent(),r=t.getLabels(),o={index:0};return r&&0!==r.length?o.index=r.length:o.index=0,t.addLabel(e,o),this}},{key:"removeLabel",value:function(e){var t=e?this.find(e):this.parent();if(!t)throw new Error("does not found component: ".concat(e));return t.removeLabels(),this}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!d.isString(e.title))throw new Error("topic.title should be a valid string");return e.id=e.id||this.id,this.parent().addChildTopic(e,t),this.addChildNode({id:e.id,title:e.title,customId:e.customId||null,parentId:e.parentId||this.parentId}),this.lastId=e.id,this}},{key:"image",value:function(e){var t="resources/".concat(this.id),r=Object.assign({},{src:"xap:".concat(t)},e||{});return this.parent().addImage(r),t}},{key:"note",value:function(e,t){var r=this.parent();if(!0===t)return r.removeNotes(),this;if(!e)return this;var o=new l.Note;return o.text=e,r.addNotes(o.toJSON()),this}},{key:"destroy",value:function(e){if(!this.isValidComponentId(e))return this.debug('E - target: "%s" does not exist',e),this;try{var t=this.find(e);t.parent().removeChildTopic(t),this.destroyNode({id:e})}catch(e){this.debug("D - %s",e.message)}return this}},{key:"summary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.parent().isRootTopic())return this.debug("I - Not allowed add summary on root topic."),this;var t=null;e.edge&&(this.exist(e.edge)?t=e.edge:this.debug('W - Topic "%s" does not exist',e.edge));var r=new c.Summary,o=this.parent().getType(),n=this.grandfather(),i=n.getChildrenByType(o),a=[this.parentId,t||this.parentId];r.range({children:i,condition:a});var s={title:e.title||"Summary",id:this.id};return r.topicId=s.id,n.addSummary(r.toJSON(),s),this.addChildNode({id:s.id,title:s.title,parentId:this.parentId}),this.lastId=s.id,this}},{key:"marker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.isObject(e)&&!d.isEmpty(e)&&e.groupId&&e.markerId?!0===e.del?(delete e.del,this.parent().removeMarker(e),this):(this.parent().addMarker(e),this):(this.debug("E - Invalid marker options: %j",e),this)}},{key:"cid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d.isString(e);if(r&&t){if(t.parentId)return this.getConflictedComponentId({title:e,parentId:t.parentId});if(t.customId)return this.getConflictedComponentId({title:e,customId:t.customId})}return r?this.findComponentIdBy(e):this.lastId}},{key:"cids",value:function(){return this.all()}},{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.root.getId();return e&&e!==t?this.sheet.findComponentById(e):this.root}},{key:"grandfather",value:function(){return this.parent().parent()}},{key:"parent",value:function(){return this.parentId===this.root.getId()?this.root:this.sheet.findComponentById(this.parentId)}},{key:"rootTopic",get:function(){return this.root}},{key:"rootTopicId",get:function(){return this.root.getId()}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),h}();r.Topic=h},{"../utils/common":131,"./base":124,"./note":126,"./summary":127}],130:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.Workbook=void 0;var c=e("./theme"),l=e("./base"),d=e("xmind-model"),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,l["default"]);var t,r,o,s=a(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).resources={},e}return t=u,(r=[{key:"theme",value:function(e,t){if(!e||!this.resources[e])return!1;if(!t||"string"!=typeof t)return!1;var r=new c.Theme({themeName:t});return this.sheet.changeTheme(r.data),!0}},{key:"toString",value:function(){return this.workbook.toString()}},{key:"toJSON",value:function(){return this.workbook.toJSON()}},{key:"validate",value:function(){return d.validator(this.workbook.toJSON())}},{key:"getSheets",value:function(){return Object.entries(this.resources||{}).map(function(e){return{id:e[1],title:e[0]}})}},{key:"getSheet",value:function(e){if(!e)throw new Error("The sheetId is required");return this.workbook.getSheetById(e)}},{key:"createSheets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length<=0)throw new Error("Options are empty");for(var t=[],r=[],o=0;o<e.length;o++)if(!this.resources.hasOwnProperty(e[o].s)){var n=this.id;this.resources[e[o].s]=n;var i={id:n,title:e[o].s},a={rootTopic:{id:this.id,title:e[o].t}};t.push(Object.assign({},i,a)),r.push(i)}return this.workbook=new d.Workbook(t),r}},{key:"createSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Central Topic";if(!e)throw new Error("The title of sheet is required");if(this.resources.hasOwnProperty(e))throw new Error("You are trying to create the sheet repeatedly that is not allowed");var r=this.id;this.resources[e]=r;var o=[{id:r,title:e,rootTopic:{id:this.id,title:t}}];return this.workbook=new d.Workbook(o),this.sheet=this.workbook.getSheetById(r),this.sheet}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}();r.Workbook=u},{"./base":124,"./theme":128,"xmind-model":85}],131:[function(e,t,r){(function(e){(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.isString=r.isRuntime=r.isObject=r.isEmpty=void 0;r.isEmpty=function(e){return 0!==e&&!1!==e&&(null==e||""===e||"object"===t(e)&&0===Object.keys(e).length)};r.isObject=function(e){var r=t(e);return null!=e&&("object"===r||"function"===r)};r.isRuntime=function(){return"object"===(void 0===e?"undefined":t(e))&&"undefined"==typeof window};r.isString=function(e){return"string"==typeof e}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],132:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,i=Object.create(n.prototype),a=new P(o||[]);return i._invoke=function(e,t,r){var o="suspendedStart";return function(n,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw i;return I()}for(r.method=n,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var c=u(e,t,r);if("normal"===c.type){if(o=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var h={};function p(){}function m(){}function f(){}var g={};l(g,a,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(A([])));v&&v!==t&&r.call(v,a)&&(g=v);var _=f.prototype=p.prototype=Object.create(g);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;this._invoke=function(i,a){function s(){return new t(function(n,s){!function n(i,a,s,c){var l=u(e[i],e,a);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==o(h)&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,s,c)},function(e){n("throw",e,s,c)}):t.resolve(h).then(function(e){d.value=e,s(d)},function(e){return n("throw",e,s,c)})}c(l.arg)}(i,a,n,s)})}return n=n?n.then(s,s):s()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=f,l(_,"constructor",f),l(f,"constructor",m),m.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(T.prototype),l(T.prototype,s,function(){return this}),e.AsyncIterator=T,e.async=function(t,r,o,n,i){void 0===i&&(i=Promise);var a=new T(d(t,r,o,n),i);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(_),l(_,c,"Generator"),l(_,a,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=void 0),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var o,n,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(e,t,r,o){return new(r||(r=Promise))(function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Dumper=void 0;var l=e("../core/workbook"),d=e("../common/constants"),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,!(t.workbook instanceof l.Workbook))throw new Error("The instance of workbook is required");this.workbook=t.workbook,this._manifest={"file-entries":{"content.json":{},"metadata.json":{}}}}var t,r,o;return t=e,(r=[{key:"dumping",value:function(){return[].concat(this.json).concat(this.xml).concat(this.manifest).concat(this.metadata)}},{key:"updateManifestMetadata",value:function(e,t,r){return c(this,void 0,void 0,n().mark(function o(){var a,s,c,l;return n().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}throw new Error("key is empty");case 2:return a=e.split("/"),s=i(a,2),c=s[0],l=s[1],o.next=5,r.folder(c);case 5:return o.next=7,r.file(l,t);case 7:this._manifest["file-entries"][e]={};case 8:case"end":return o.stop()}},o,this)}))}},{key:"wrap",value:function(e,t){return{filename:e,value:t}}},{key:"metadata",get:function(){return this.wrap(d.PACKAGE_MAP.METADATA.NAME,"{}")}},{key:"manifest",get:function(){return this.wrap(d.PACKAGE_MAP.MANIFEST.NAME,JSON.stringify(this._manifest))}},{key:"json",get:function(){var e=this.workbook.toString();return this.wrap(d.PACKAGE_MAP.CONTENT_JSON.NAME,e)}},{key:"xml",get:function(){return this.wrap(d.PACKAGE_MAP.CONTENT_XML.NAME,'<?xml version="1.0" encoding="UTF-8" standalone="no"?><xmap-content xmlns="urn:xmind:xmap:xmlns:content:2.0" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" modified-by="bruce" timestamp="1503058545540" version="2.0"><sheet id="7abtd0ssc7n4pi1nu6i7b6lsdh" modified-by="bruce" theme="0kdeemiijde6nuk97e4t0vpp54" timestamp="1503058545540"><topic id="1vr0lcte2og4t2sopiogvdmifc" modified-by="bruce" structure-class="org.xmind.ui.logic.right" timestamp="1503058545417"><title>Warning\n警告\nAttention\nWarnung\n경고</title><children><topics type="attached"><topic id="71h1aip2t1o8vvm0a41nausaar" modified-by="bruce" timestamp="1503058545423"><title svg:width="500">This file can not be opened normally, please do not modify and save, otherwise the contents will be permanently lost！</title><children><topics type="attached"><topic id="428akmkh9a0tog6c91qj995qdl" modified-by="bruce" timestamp="1503058545427"><title>You can try using XMind 8 Update 3 or later version to open</title></topic></topics></children></topic><topic id="2kb87f8m38b3hnfhp450c7q35e" modified-by="bruce" timestamp="1503058545434"><title svg:width="500">该文件无法正常打开，请勿修改并保存，否则文件内容将会永久性丢失！</title><children><topics type="attached"><topic id="3m9hoo4a09n53ofl6fohdun99f" modified-by="bruce" timestamp="1503058545438"><title>你可以尝试使用 XMind 8 Update 3 或更新版本打开</title></topic></topics></children></topic><topic id="7r3r4617hvh931ot9obi595r8f" modified-by="bruce" timestamp="1503058545444"><title svg:width="500">該文件無法正常打開，請勿修改並保存，否則文件內容將會永久性丟失！</title><children><topics type="attached"><topic id="691pgka6gmgpgkacaa0h3f1hjb" modified-by="bruce" timestamp="1503058545448"><title>你可以嘗試使用 XMind 8 Update 3 或更新版本打開</title></topic></topics></children></topic><topic id="0f2e3rpkfahg4spg4nda946r0b" modified-by="bruce" timestamp="1503058545453"><title svg:width="500">この文書は正常に開かないので、修正して保存しないようにしてください。そうでないと、書類の内容が永久に失われます。！</title><children><topics type="attached"><topic id="4vuubta53ksc1falk46mevge0t" modified-by="bruce" timestamp="1503058545457"><title>XMind 8 Update 3 や更新版を使って開くこともできます</title></topic></topics></children></topic><topic id="70n9i4u3lb89sq9l1m1bs255j5" modified-by="bruce" timestamp="1503058545463"><title svg:width="500">Datei kann nicht richtig geöffnet werden. Bitte ändern Sie diese Datei nicht und speichern Sie sie, sonst wird die Datei endgültig gelöscht werden.</title><children><topics type="attached"><topic id="1qpc5ee298p2sqeqbinpca46b7" modified-by="bruce" timestamp="1503058545466"><title svg:width="500">Bitte versuchen Sie, diese Datei mit XMind 8 Update 3 oder später zu öffnen.</title></topic></topics></children></topic><topic id="4dmes10uc19pq7enu8sc4bmvif" modified-by="bruce" timestamp="1503058545473"><title svg:width="500">Ce fichier ne peut pas ouvert normalement, veuillez le rédiger et sauvegarder, sinon le fichier sera perdu en permanence. </title><children><topics type="attached"><topic id="5f0rivgubii2launodiln7sdkt" modified-by="bruce" timestamp="1503058545476"><title svg:width="500">Vous pouvez essayer d\'ouvrir avec XMind 8 Update 3 ou avec une version plus récente.</title></topic></topics></children></topic><topic id="10pn1os1sgfsnqa8akabom5pej" modified-by="bruce" timestamp="1503058545481"><title svg:width="500">파일을 정상적으로 열 수 없으며, 수정 및 저장하지 마십시오. 그렇지 않으면 파일의 내용이 영구적으로 손실됩니다!</title><children><topics type="attached"><topic id="0l2nr0fq3em22rctapkj46ue58" modified-by="bruce" timestamp="1503058545484"><title svg:width="500">XMind 8 Update 3 또는 이후 버전을 사용하여</title></topic></topics></children></topic></topics></children><extensions><extension provider="org.xmind.ui.map.unbalanced"><content><right-number>-1</right-number></content></extension></extensions></topic><title>Sheet 1</title></sheet></xmap-content>')}}])&&s(t.prototype,r),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.Dumper=u},{"../common/constants":119,"../core/workbook":130}]},{},[118]);