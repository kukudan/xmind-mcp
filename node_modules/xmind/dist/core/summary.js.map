{"version":3,"file":"summary.js","sourceRoot":"","sources":["../../src/core/summary.ts"],"names":[],"mappings":";;;AACA,iCAA0B;AAE1B,MAAa,OAAQ,SAAQ,cAAI;IAK/B;QACE,KAAK,CAAC,EAAC,KAAK,EAAE,mBAAmB,EAAC,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,OAAqB;QAChC,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;QAClC,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;QAEpC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE;YACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACnD,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE;oBACxC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;iBAC7B;aACF;SACF;aAAM;YACL,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACnD,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE;oBACxC,CAAC,GAAG,CAAC,CAAC;iBACP;gBAED,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE;oBACxC,CAAC,GAAG,CAAC,CAAC;iBACP;aACF;YACD,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;SACpD;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,MAAM;QACX,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC;IACpE,CAAC;CACF;AAvCD,0BAuCC","sourcesContent":["import { AbstractSummary, RangeOptions } from '../abstracts/summary.abstract';\nimport Base from './base';\n\nexport class Summary extends Base implements AbstractSummary {\n  private _range: string;\n\n  public topicId: string;\n\n  constructor() {\n    super({debug: 'xmind-sdk:summary'});\n  }\n\n  public range(options: RangeOptions) {\n    const children = options.children;\n    const condition = options.condition;\n\n    if (condition[0] === condition[1]) {\n      for (let i = 0, len = children.length; i < len; i++) {\n        if (children[i].getId() === condition[0]) {\n          this._range = `(${i},${i})`;\n        }\n      }\n    } else {\n      let s, e = 0;\n      for (let i = 0, len = children.length; i < len; i++) {\n        if (children[i].getId() === condition[0]) {\n          s = i;\n        }\n\n        if (children[i].getId() === condition[1]) {\n          e = i;\n        }\n      }\n      this._range = s > e ? `(${s},${s})`: `(${s},${e})`;\n    }\n\n    return this;\n  }\n\n  public toJSON() {\n    return { id: this.id, range: this._range, topicId: this.topicId };\n  }\n}\n"]}